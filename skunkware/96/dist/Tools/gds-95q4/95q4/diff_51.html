<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from diff.texi on 5 October 1995 -->

<TITLE>Comparing and Merging Files - diff3 Merging</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="diff_1.html">first</A>, <A HREF="diff_50.html">previous</A>, <A HREF="diff_52.html">next</A>, <A HREF="diff_93.html">last</A> section, <A HREF="diff_toc.html">table of contents</A>.
<HR>
<A NAME="IDX56"></A>
<H1><A NAME="SEC51" HREF="diff_toc.html#TOC51">Merging From a Common Ancestor</A></H1>
<P>
When two people have made changes to copies of the same file,
<CODE>diff3</CODE> can produce a merged output that contains both sets of
changes together with warnings about conflicts.
<P>
One might imagine programs with names like <CODE>diff4</CODE> and <CODE>diff5</CODE>
to compare more than three files simultaneously, but in practice the
need rarely arises.  You can use <CODE>diff3</CODE> to merge three or more
sets of changes to a file by merging two change sets at a time.
<P>
<CODE>diff3</CODE> can incorporate changes from two modified versions into a
common preceding version.  This lets you merge the sets of changes
represented by the two newer files.  Specify the common ancestor version
as the second argument and the two newer versions as the first and third
arguments, like this:
<P>
<PRE>
diff3 <VAR>mine</VAR> <VAR>older</VAR> <VAR>yours</VAR>
</PRE>
<P>
You can remember the order of the arguments by noting that they are in
alphabetical order.
<A NAME="IDX57"></A>
<A NAME="IDX58"></A>
<P>
You can think of this as subtracting <VAR>older</VAR> from <VAR>yours</VAR> and
adding the result to <VAR>mine</VAR>, or as merging into <VAR>mine</VAR> the
changes that would turn <VAR>older</VAR> into <VAR>yours</VAR>.  This merging is
well-defined as long as <VAR>mine</VAR> and <VAR>older</VAR> match in the
neighborhood of each such change.  This fails to be true when all three
input files differ or when only <VAR>older</VAR> differs; we call this
a <DFN>conflict</DFN>.  When all three input files differ, we call the
conflict an <DFN>overlap</DFN>.
<P>
<CODE>diff3</CODE> gives you several ways to handle overlaps and conflicts.
You can omit overlaps or conflicts, or select only overlaps,
or mark conflicts with special <SAMP>`&#60;&#60;&#60;&#60;&#60;&#60;&#60;'</SAMP> and <SAMP>`&#62;&#62;&#62;&#62;&#62;&#62;&#62;'</SAMP> lines.
<P>
<CODE>diff3</CODE> can output the merge results as an <CODE>ed</CODE> script that
that can be applied to the first file to yield the merged output.
However, it is usually better to have <CODE>diff3</CODE> generate the merged
output directly; this bypasses some problems with <CODE>ed</CODE>.
<P>
<UL>
<LI><A HREF="diff_52.html#SEC52">Which Changes</A>: Selecting changes to incorporate.
<LI><A HREF="diff_53.html#SEC53">Marking Conflicts</A>: Marking conflicts.
<LI><A HREF="diff_54.html#SEC54">Bypassing ed</A>: Generating merged output directly.
<LI><A HREF="diff_55.html#SEC55">Merging Incomplete Lines</A>: How <CODE>diff3</CODE> merges incomplete lines.
<LI><A HREF="diff_56.html#SEC56">Saving the Changed File</A>: Emulating System V behavior.
</UL>
<P>
<HR>
Go to the <A HREF="diff_1.html">first</A>, <A HREF="diff_50.html">previous</A>, <A HREF="diff_52.html">next</A>, <A HREF="diff_93.html">last</A> section, <A HREF="diff_toc.html">table of contents</A>.
</BODY>
</HTML>
