<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from iostream.texi on 9 October 1995 -->

<TITLE>The GNU C++ Iostream Library - Files</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="iostream_1.html">first</A>, <A HREF="iostream_23.html">previous</A>, <A HREF="iostream_25.html">next</A>, <A HREF="iostream_35.html">last</A> section, <A HREF="iostream_toc.html">table of contents</A>.
<HR>
<H2><A NAME="SEC24" HREF="iostream_toc.html#TOC24">Reading and writing files</A></H2>
<P>
These methods are declared in <TT>`fstream.h'</TT>.
<A NAME="IDX121"></A>
<A NAME="IDX122"></A>
<P>
You can read data from class <CODE>ifstream</CODE> with any operation from class
<CODE>istream</CODE>.  There are also a few specialized facilities:
<P>
<A NAME="IDX123"></A>
<U>Constructor:</U>  <B>ifstream::ifstream</B> <I>()</I><P>
Make an <CODE>ifstream</CODE> associated with a new file for input.  (If you
use this version of the constructor, you need to call
<CODE>ifstream::open</CODE> before actually reading anything)
<P>
<A NAME="IDX124"></A>
<U>Constructor:</U>  <B>ifstream::ifstream</B> <I>(int <VAR>fd</VAR>)</I><P>
Make an <CODE>ifstream</CODE> for reading from a file that was already open,
using file descriptor <VAR>fd</VAR>.  (This constructor is compatible with
other versions of iostreams for POSIX systems, but is not part of
the ANSI working paper.)
<P>
<A NAME="IDX125"></A>
<U>Constructor:</U>  <B>ifstream::ifstream</B> <I>(const char* <VAR>fname</VAR> [, int <VAR>mode</VAR> [, int <VAR>prot</VAR>]])</I><P>
Open a file <CODE>*<VAR>fname</VAR></CODE> for this <CODE>ifstream</CODE> object.
<P>
By default, the file is opened for input (with <CODE>ios::in</CODE> as
<VAR>mode</VAR>).  If you use this constructor, the file will be closed when
the <CODE>ifstream</CODE> is destroyed.
<P>
You can use the optional argument <VAR>mode</VAR> to specify how to open the
file, by combining these enumerated values (with <SAMP>`|'</SAMP> bitwise or).
(These values are actually defined in class <CODE>ios</CODE>, so that all
file-related streams may inherit them.)  Only some of these modes are
defined in the latest draft ANSI specification; if portability is
important, you may wish to avoid the others.
<P>
<DL COMPACT>
<A NAME="IDX126"></A>
<DT><CODE>ios::in</CODE>
<DD>Open for input.  (Included in ANSI draft.)

<A NAME="IDX127"></A>
<DT><CODE>ios::out</CODE>
<DD>Open for output.  (Included in ANSI draft.)

<A NAME="IDX128"></A>
<DT><CODE>ios::ate</CODE>
<DD>Set the initial input (or output) position to the end of the file.

<A NAME="IDX129"></A>
<DT><CODE>ios::app</CODE>
<DD>Seek to end of file before each write.  (Included in ANSI draft.)

<A NAME="IDX130"></A>
<DT><CODE>ios::trunc</CODE>
<DD>Guarantee a fresh file; discard any contents that were previously
associated with it.

<A NAME="IDX131"></A>
<DT><CODE>ios::nocreate</CODE>
<DD>Guarantee an existing file; fail if the specified file did not already
exist.

<A NAME="IDX132"></A>
<DT><CODE>ios::noreplace</CODE>
<DD>Guarantee a new file; fail if the specified file already existed.

<A NAME="IDX133"></A>
<DT><CODE>ios::bin</CODE>
<DD>Open as a binary file (on systems where binary and text files have different
properties, typically how <SAMP>`\n'</SAMP> is mapped; included in ANSI draft).
</DL>
<P>
The last optional argument <VAR>prot</VAR> is specific to Unix-like systems;
it specifies the file protection (by default <SAMP>`644'</SAMP>).
<P>
<A NAME="IDX134"></A>
<U>Method:</U> void <B>ifstream::open</B> <I>(const char* <VAR>fname</VAR> [, int <VAR>mode</VAR> [, int <VAR>prot</VAR>]])</I><P>
Open a file explicitly after the associated <CODE>ifstream</CODE> object
already exists (for instance, after using the default constructor).  The
arguments, options and defaults all have the same meanings as in the
fully specified <CODE>ifstream</CODE> constructor.
<P>
<A NAME="IDX135"></A>
<A NAME="IDX136"></A>
<P>
You can write data to class <CODE>ofstream</CODE> with any operation from class
<CODE>ostream</CODE>.  There are also a few specialized facilities:
<P>
<A NAME="IDX137"></A>
<U>Constructor:</U>  <B>ofstream::ofstream</B> <I>()</I><P>
Make an <CODE>ofstream</CODE> associated with a new file for output.
<P>
<A NAME="IDX138"></A>
<U>Constructor:</U>  <B>ofstream::ofstream</B> <I>(int <VAR>fd</VAR>)</I><P>
Make an <CODE>ofstream</CODE> for writing to a file that was already open,
using file descriptor <VAR>fd</VAR>.
<P>
<A NAME="IDX139"></A>
<U>Constructor:</U>  <B>ofstream::ofstream</B> <I>(const char* <VAR>fname</VAR> [, int <VAR>mode</VAR> [, int <VAR>prot</VAR>]])</I><P>
Open a file <CODE>*<VAR>fname</VAR></CODE> for this <CODE>ofstream</CODE> object.
<P>
By default, the file is opened for output (with <CODE>ios::out</CODE> as <VAR>mode</VAR>).
You can use the optional argument <VAR>mode</VAR> to specify how to open the
file, just as described for <CODE>ifstream::ifstream</CODE>.
<P>
The last optional argument <VAR>prot</VAR> specifies the file protection (by
default <SAMP>`644'</SAMP>).
<P>
<A NAME="IDX140"></A>
<U>Destructor:</U>  <B>ofstream::~ofstream</B> <I>()</I><P>
The files associated with <CODE>ofstream</CODE> objects are closed when the
corresponding object is destroyed.
<P>
<A NAME="IDX141"></A>
<U>Method:</U> void <B>ofstream::open</B> <I>(const char* <VAR>fname</VAR> [, int <VAR>mode</VAR> [, int <VAR>prot</VAR>]])</I><P>
Open a file explicitly after the associated <CODE>ofstream</CODE> object
already exists (for instance, after using the default constructor).  The
arguments, options and defaults all have the same meanings as in the
fully specified <CODE>ofstream</CODE> constructor.
<P>
<A NAME="IDX142"></A>
<A NAME="IDX143"></A>
<P>
The class <CODE>fstream</CODE> combines the facilities of <CODE>ifstream</CODE> and
<CODE>ofstream</CODE>, just as <CODE>iostream</CODE> combines <CODE>istream</CODE> and
<CODE>ostream</CODE>.
<P>
<A NAME="IDX144"></A>
<A NAME="IDX145"></A>
<P>
The class <CODE>fstreambase</CODE> underlies both <CODE>ifstream</CODE> and
<CODE>ofstream</CODE>.  They both inherit this additional method:
<P>
<A NAME="IDX146"></A>
<U>Method:</U> void <B>fstreambase::close</B> <I>()</I><P>
Close the file associated with this object, and set <CODE>ios::fail</CODE> in
this object to mark the event.
<P>
<HR>
Go to the <A HREF="iostream_1.html">first</A>, <A HREF="iostream_23.html">previous</A>, <A HREF="iostream_25.html">next</A>, <A HREF="iostream_35.html">last</A> section, <A HREF="iostream_toc.html">table of contents</A>.
</BODY>
</HTML>
