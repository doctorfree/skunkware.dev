<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from libc.texinfo on 9 October 1995 -->

<TITLE>The Cygnus C Support Library - fgetpos</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_49.html">previous</A>, <A HREF="libc_51.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX69"></A>
<H2><A NAME="SEC50" HREF="libc_toc.html#TOC50"><CODE>fgetpos</CODE>---record position in a stream or file</A></H2>
<STRONG>Synopsis</STRONG>
<PRE>
#include &#60;stdio.h&#62;
int fgetpos(FILE *<VAR>fp</VAR>, fpos_t *<VAR>pos</VAR>);

</PRE>
<STRONG>Description</STRONG><BR>
Objects of type <CODE>FILE</CODE> can have a "position" that records how much
of the file your program has already read.  Many of the <CODE>stdio</CODE> functions
depend on this position, and many change it as a side effect.
<P>
You can use <CODE>fgetpos</CODE> to report on the current position for a file
identified by <VAR>fp</VAR>; <CODE>fgetpos</CODE> will write a value
representing that position at <CODE>*<VAR>pos</VAR></CODE>.  Later, you can
use this value with <CODE>fsetpos</CODE> to return the file to this
position.
<P>
In the current implementation, <CODE>fgetpos</CODE> simply uses a character
count to represent the file position; this is the same number that
would be returned by <CODE>ftell</CODE>.
<P>
<BR>
<STRONG>Returns</STRONG><BR>
<CODE>fgetpos</CODE> returns <CODE>0</CODE> when successful.  If <CODE>fgetpos</CODE> fails, the
result is <CODE>1</CODE>.  Failure occurs on streams that do not support
positioning; the global <CODE>errno</CODE> indicates this condition with the
value <CODE>ESPIPE</CODE>.
<P>
<BR>
<STRONG>Portability</STRONG><BR>
<CODE>fgetpos</CODE> is required by the ANSI C standard, but the meaning of the
value it records is not specified beyond requiring that it be
acceptable as an argument to <CODE>fsetpos</CODE>.  In particular, other
conforming C implementations may return a different result from
<CODE>ftell</CODE> than what <CODE>fgetpos</CODE> writes at <CODE>*<VAR>pos</VAR></CODE>.
<P>
No supporting OS subroutines are required.
<P>
<BR>
<P>
<HR>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_49.html">previous</A>, <A HREF="libc_51.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
