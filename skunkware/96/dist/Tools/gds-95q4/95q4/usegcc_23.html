<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from usegcc.texi on 9 October 1995 -->

<TITLE>Using GNU CC - SPARC Options</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_22.html">previous</A>, <A HREF="usegcc_24.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX112"></A>
<H3><A NAME="SEC26" HREF="usegcc_toc.html#TOC26">SPARC Options</A></H3>
<P>
These <SAMP>`-m'</SAMP> switches are supported on the SPARC:
<P>
<DL COMPACT>
<DT><CODE>-mno-app-regs</CODE>
<DD><DT><CODE>-mapp-regs</CODE>
<DD>Specify <SAMP>`-mapp-regs'</SAMP> to generate output using the global registers
2 through 4, which the SPARC SVR4 ABI reserves for applications.  This
is the default.

To be fully SVR4 ABI compliant at the cost of some performance loss,
specify <SAMP>`-mno-app-regs'</SAMP>.  You should compile libraries and system
software with this option.

<DT><CODE>-mfpu</CODE>
<DD><DT><CODE>-mhard-float</CODE>
<DD>Generate output containing floating point instructions.  This is the
default.

<DT><CODE>-mno-fpu</CODE>
<DD><DT><CODE>-msoft-float</CODE>
<DD>Generate output containing library calls for floating point.
<STRONG>Warning:</STRONG> the requisite libraries are not available for all SPARC
targets.  Normally the facilities of the machine's usual C compiler are
used, but this cannot be done directly in cross-compilation.  You must make
your own arrangements to provide suitable library functions for
cross-compilation.  The embedded targets <SAMP>`sparc-*-aout'</SAMP> and
<SAMP>`sparclite-*-*'</SAMP> do provide software floating point support.

<SAMP>`-msoft-float'</SAMP> changes the calling convention in the output file;
therefore, it is only useful if you compile <EM>all</EM> of a program with
this option.  In particular, you need to compile <TT>`libgcc.a'</TT>, the
library that comes with GNU CC, with <SAMP>`-msoft-float'</SAMP> in order for
this to work.

<DT><CODE>-mhard-quad-float</CODE>
<DD>Generate output containing quad-word (long double) floating point
instructions.

<DT><CODE>-msoft-quad-float</CODE>
<DD>Generate output containing library calls for quad-word (long double)
floating point instructions.  The functions called are those specified
in the SPARC ABI.  This is the default.

As of this writing, there are no sparc implementations that have hardware
support for the quad-word floating point instructions.  They all invoke
a trap handler for one of these instructions, and then the trap handler
emulates the effect of the instruction.  Because of the trap handler overhead,
this is much slower than calling the ABI library routines.  Thus the
<SAMP>`-msoft-quad-float'</SAMP> option is the default.

<DT><CODE>-mno-epilogue</CODE>
<DD><DT><CODE>-mepilogue</CODE>
<DD>With <SAMP>`-mepilogue'</SAMP> (the default), the compiler always emits code for
function exit at the end of each function.  Any function exit in
the middle of the function (such as a return statement in C) will
generate a jump to the exit code at the end of the function.

With <SAMP>`-mno-epilogue'</SAMP>, the compiler tries to emit exit code inline
at every function exit.

<DT><CODE>-mno-flat</CODE>
<DD><DT><CODE>-mflat</CODE>
<DD>With <SAMP>`-mflat'</SAMP>, the compiler does not generate save/restore instructions
and will use a "flat" or single register window calling convention.
This model uses %i7 as the frame pointer and is compatible with the normal
register window model.  Code from either may be intermixed although
debugger support is still incomplete.  The local registers and the input
registers (0-5) are still treated as "call saved" registers and will be
saved on the stack as necessary.

With <SAMP>`-mno-flat'</SAMP> (the default), the compiler emits save/restore
instructions (except for leaf functions) and is the normal mode of operation.

<DT><CODE>-mno-unaligned-doubles</CODE>
<DD><DT><CODE>-munaligned-doubles</CODE>
<DD>Assume that doubles have 8 byte alignment.  This is the default.

With <SAMP>`-munaligned-doubles'</SAMP>, GNU CC assumes that doubles have 8 byte
alignment only if they are contained in another type, or if they have an
absolute address.  Otherwise, it assumes they have 4 byte alignment.
Specifying this option avoids some rare compatibility problems with code
generated by other compilers.  It is not the default because it results
in a performance loss, especially for floating point code.

<DT><CODE>-mv8</CODE>
<DD><DT><CODE>-msparclite</CODE>
<DD>These two options select variations on the SPARC architecture.

By default (unless specifically configured for the Fujitsu SPARClite),
<CODE>gcc</CODE> generates code for the v7 variant of the SPARC architecture.

<SAMP>`-mv8'</SAMP> will give you SPARC v8 code.  The only difference from v7
code is that the compiler emits the integer multiply and integer
divide instructions which exist in SPARC v8 but not in SPARC v7.

<SAMP>`-msparclite'</SAMP> will give you SPARClite code.  This adds the integer
multiply, integer divide step and scan (<CODE>ffs</CODE>) instructions which
exist in SPARClite but not in SPARC v7.

<DT><CODE>-mcypress</CODE>
<DD><DT><CODE>-msupersparc</CODE>
<DD>These two options select the processor for which the code is optimised.

With <SAMP>`-mcypress'</SAMP> (the default), the compiler optimizes code for the
Cypress CY7C602 chip, as used in the SparcStation/SparcServer 3xx series.
This is also appropriate for the older SparcStation 1, 2, IPX etc.

With <SAMP>`-msupersparc'</SAMP> the compiler optimizes code for the SuperSparc cpu, as
used in the SparcStation 10, 1000 and 2000 series. This flag also enables use
of the full SPARC v8 instruction set.
</DL>
<P>
In a future version of <CODE>gcc</CODE>, these options will very likely be
renamed to <SAMP>`-mcpu=cypress'</SAMP> and <SAMP>`-mcpu=supersparc'</SAMP>.
<P>
These <SAMP>`-m'</SAMP> switches are supported in addition to the above
on SPARC V9 processors:
<P>
<DL COMPACT>
<DT><CODE>-mmedlow</CODE>
<DD>Generate code for the Medium/Low code model: assume a 32 bit address space.
Programs are statically linked, PIC is not supported.  Pointers are still
64 bits.

It is very likely that a future version of <CODE>gcc</CODE> will rename this option.

<DT><CODE>-mmedany</CODE>
<DD>Generate code for the Medium/Anywhere code model: assume a 32 bit text
segment starting at offset 0, and a 32 bit data segment starting anywhere
(determined at link time).  Programs are statically linked, PIC is not
supported.  Pointers are still 64 bits.

It is very likely that a future version of <CODE>gcc</CODE> will rename this option.

<DT><CODE>-mint64</CODE>
<DD>Types long and int are 64 bits.

<DT><CODE>-mlong32</CODE>
<DD>Types long and int are 32 bits.

<DT><CODE>-mlong64</CODE>
<DD><DT><CODE>-mint32</CODE>
<DD>Type long is 64 bits, and type int is 32 bits.

<DT><CODE>-mstack-bias</CODE>
<DD><DT><CODE>-mno-stack-bias</CODE>
<DD>With <SAMP>`-mstack-bias'</SAMP>, GNU CC assumes that the stack pointer, and
frame pointer if present, are offset by -2047 which must be added back
when making stack frame references.
Otherwise, assume no such offset is present.
</DL>
<P>
<HR>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_22.html">previous</A>, <A HREF="usegcc_24.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
</BODY>
</HTML>
