<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from make.texinfo on 9 October 1995 -->

<TITLE>GNU Make - Utilities in Makefiles</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_111.html">previous</A>, <A HREF="make_113.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
<HR>
<H2><A NAME="SEC111" HREF="make_toc.html#TOC111">Utilities in Makefiles</A></H2>
<P>
Write the Makefile commands (and any shell scripts, such as
<CODE>configure</CODE>) to run in <CODE>sh</CODE>, not in <CODE>csh</CODE>.  Don't use any
special features of <CODE>ksh</CODE> or <CODE>bash</CODE>.
<P>
The <CODE>configure</CODE> script and the Makefile rules for building and
installation should not use any utilities directly except these:
<P>
<PRE>
cat cmp cp echo egrep expr grep
ln mkdir mv pwd rm rmdir sed test touch
</PRE>
<P>
Stick to the generally supported options for these programs.  For
example, don't use <SAMP>`mkdir -p'</SAMP>, convenient as it may be, because
most systems don't support it.
<P>
The Makefile rules for building and installation can also use compilers
and related programs, but should do so via <CODE>make</CODE> variables so that the
user can substitute alternatives.  Here are some of the programs we
mean:
<P>
<PRE>
ar bison cc flex install ld lex
make makeinfo ranlib texi2dvi yacc
</PRE>
<P>
Use the following <CODE>make</CODE> variables:
<P>
<PRE>
$(AR) $(BISON) $(CC) $(FLEX) $(INSTALL) $(LD) $(LEX)
$(MAKE) $(MAKEINFO) $(RANLIB) $(TEXI2DVI) $(YACC)
</PRE>
<P>
When you use <CODE>ranlib</CODE>, you should make sure nothing bad happens if
the system does not have <CODE>ranlib</CODE>.  Arrange to ignore an error
from that command, and print a message before the command to tell the
user that failure of the <CODE>ranlib</CODE> command does not mean a problem.
<P>
If you use symbolic links, you should implement a fallback for systems
that don't have symbolic links.
<P>
It is ok to use other utilities in Makefile portions (or scripts)
intended only for particular systems where you know those utilities to
exist.
<P>
<HR>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_111.html">previous</A>, <A HREF="make_113.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
</BODY>
</HTML>
