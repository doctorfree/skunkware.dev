<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from make.texinfo on 9 October 1995 -->

<TITLE>GNU Make - Shell Function</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_77.html">previous</A>, <A HREF="make_79.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
<HR>
<A NAME="IDX510"></A>
<A NAME="IDX511"></A>
<A NAME="IDX512"></A>
<A NAME="IDX513"></A>
<H2><A NAME="SEC77" HREF="make_toc.html#TOC77">The <CODE>shell</CODE> Function</A></H2>
<P>
The <CODE>shell</CODE> function is unlike any other function except the
<CODE>wildcard</CODE> function 
(see section <A HREF="make_25.html#SEC24">The Function <CODE>wildcard</CODE></A>) in that it
communicates with the world outside of <CODE>make</CODE>.
<P>
The <CODE>shell</CODE> function performs the same function that backquotes
(<SAMP>``'</SAMP>) perform in most shells: it does <DFN>command expansion</DFN>.  This
means that it takes an argument that is a shell command and returns the
output of the command.  The only processing <CODE>make</CODE> does on the result,
before substituting it into the surrounding text, is to convert newlines to
spaces.<P>
The commands run by calls to the <CODE>shell</CODE> function are run when the
function calls are expanded.  In most cases, this is when the makefile is
read in.  The exception is that function calls in the commands of the rules
are expanded when the commands are run, and this applies to <CODE>shell</CODE>
function calls like all others.
<P>
Here are some examples of the use of the <CODE>shell</CODE> function:
<P>
<PRE>
contents := $(shell cat foo)
</PRE>
<P>
sets <CODE>contents</CODE> to the contents of the file <TT>`foo'</TT>, with a space
(rather than a newline) separating each line.
<P>
<PRE>
files := $(shell echo *.c)
</PRE>
<P>
sets <CODE>files</CODE> to the expansion of <SAMP>`*.c'</SAMP>.  Unless <CODE>make</CODE> is
using a very strange shell, this has the same result as
<SAMP>`$(wildcard *.c)'</SAMP>.<P>
<HR>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_77.html">previous</A>, <A HREF="make_79.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
</BODY>
</HTML>
