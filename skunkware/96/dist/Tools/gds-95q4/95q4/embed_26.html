<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from embed.texi on 19 October 1995 -->

<TITLE>Embed With GNU - HSHcall</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_25.html">previous</A>, <A HREF="embed_27.html">next</A>, <A HREF="embed_44.html">last</A> section, <A HREF="embed_toc.html">table of contents</A>.
<HR>
<H4><A NAME="SEC26" HREF="embed_toc.html#TOC26">Calling conventions</A></H4>
<P>
The first four words of arguments are passed in registers <SAMP>`R4'</SAMP>
through <SAMP>`R7'</SAMP>.  All remaining arguments are pushed onto the stack,
last to first, so that the lowest numbered argument not passed in a
register is at the lowest address in the stack.  The registers are
always filled, so a double word argument starting in <SAMP>`R7'</SAMP> would
have the most significant word in <SAMP>`R7'</SAMP> and the least significant
word on the stack.
<P>
When a function is compiled with the default options, it must return
with registers <SAMP>`R8'</SAMP> through <SAMP>`R15'</SAMP> unchanged.  Registers
<SAMP>`R0'</SAMP> through <SAMP>`R7'</SAMP>, <SAMP>`T'</SAMP>, <SAMP>`MACH'</SAMP> and <SAMP>`MACL'</SAMP> are
volatile.
<P>
The <SAMP>`-mhitachi SH'</SAMP> switch makes the <SAMP>`MACH'</SAMP> and <SAMP>`MACL'</SAMP>
registers caller-saved, which is compatible with the Hitachi SH tool chain
at the expense of performance.
<P>
The <SAMP>`-mnosave'</SAMP> switch makes registers <SAMP>`R0'</SAMP> through <SAMP>`R11'</SAMP>
volatile, which can often improve performance.
<P>
Note that functions compiled with different calling conventions cannot
be run together without some care.
<P>
<HR>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_25.html">previous</A>, <A HREF="embed_27.html">next</A>, <A HREF="embed_44.html">last</A> section, <A HREF="embed_toc.html">table of contents</A>.
</BODY>
</HTML>
