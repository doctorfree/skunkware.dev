<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from libc.texinfo on 9 October 1995 -->

<TITLE>The Cygnus C Support Library - mktemp</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_66.html">previous</A>, <A HREF="libc_68.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX90"></A>
<A NAME="IDX91"></A>
<A NAME="IDX92"></A>
<A NAME="IDX93"></A>
<H2><A NAME="SEC67" HREF="libc_toc.html#TOC67"><CODE>mktemp</CODE>, <CODE>mkstemp</CODE>---generate unused file name</A></H2>
<STRONG>Synopsis</STRONG>
<PRE>
#include &#60;stdio.h&#62;
char *mktemp(char *<VAR>path</VAR>);
int mkstemp(char *<VAR>path</VAR>);

char *_mktemp_r(void *<VAR>reent</VAR>, char *<VAR>path</VAR>);
int *_mkstemp_r(void *<VAR>reent</VAR>, char *<VAR>path</VAR>);

</PRE>
<STRONG>Description</STRONG><BR>
<CODE>mktemp</CODE> and <CODE>mkstemp</CODE> attempt to generate a file name that is not
yet in use for any existing file.  <CODE>mkstemp</CODE> creates the file and 
opens it for reading and writing; <CODE>mktemp</CODE> simply generates the file name.
<P>
You supply a simple pattern for the generated file name, as the string
at <VAR>path</VAR>.  The pattern should be a valid filename (including path
information if you wish) ending with some number of `<CODE>X</CODE>'
characters.  The generated filename will match the leading part of the
name you supply, with the trailing `<CODE>X</CODE>' characters replaced by some
combination of digits and letters.
<P>
The alternate functions <CODE>_mktemp_r</CODE> and <CODE>_mkstemp_r</CODE> are reentrant
versions.  The extra argument <VAR>reent</VAR> is a pointer to a reentrancy
structure.
<P>
<BR>
<STRONG>Returns</STRONG><BR>
<CODE>mktemp</CODE> returns the pointer <VAR>path</VAR> to the modified string
representing an unused filename, unless it could not generate one, or
the pattern you provided is not suitable for a filename; in that case,
it returns <CODE>NULL</CODE>.
<P>
<CODE>mkstemp</CODE> returns a file descriptor to the newly created file,
unless it could not generate an unused filename, or the pattern you
provided is not suitable for a filename; in that case, it returns
<CODE>-1</CODE>.
<P>
<BR>
<STRONG>Portability</STRONG><BR>
ANSI C does not require either <CODE>mktemp</CODE> or <CODE>mkstemp</CODE>; the System
V Interface Definition requires <CODE>mktemp</CODE> as of Issue 2.
<P>
Supporting OS subroutines required: <CODE>getpid</CODE>, <CODE>open</CODE>, <CODE>stat</CODE>.
<P>
<BR>
<P>
<HR>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_66.html">previous</A>, <A HREF="libc_68.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
