<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from libc.texinfo on 9 October 1995 -->

<TITLE>The Cygnus C Support Library - strtod</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_22.html">previous</A>, <A HREF="libc_24.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX36"></A>
<A NAME="IDX37"></A>
<A NAME="IDX38"></A>
<H2><A NAME="SEC23" HREF="libc_toc.html#TOC23"><CODE>strtod</CODE>, <CODE>strtodf</CODE>---string to double or float</A></H2>
<STRONG>Synopsis</STRONG>
<PRE>
#include &#60;stdlib.h&#62;
double strtod(const char *<VAR>str</VAR>, char **<VAR>tail</VAR>);
float strtodf(const char *<VAR>str</VAR>, char **<VAR>tail</VAR>);

double _strtod_r(void *<VAR>reent</VAR>, 
    const char *<VAR>str</VAR>, char **<VAR>tail</VAR>);

</PRE>
<STRONG>Description</STRONG><BR>
The function <CODE>strtod</CODE> parses the character string <VAR>str</VAR>,
producing a substring which can be converted to a double
value.  The substring converted is the longest initial
subsequence of <VAR>str</VAR>, beginning with the first
non-whitespace character, that has the format:
<PRE>
[+|-]<VAR>digits</VAR>[.][<VAR>digits</VAR>][(e|E)[+|-]<VAR>digits</VAR>] 
</PRE>
The substring contains no characters if <VAR>str</VAR> is empty, consists
entirely of whitespace, or if the first non-whitespace
character is something other than <CODE>+</CODE>, <CODE>-</CODE>, <CODE>.</CODE>, or a
digit. If the substring is empty, no conversion is done, and
the value of <VAR>str</VAR> is stored in <CODE>*<VAR>tail</VAR></CODE>.  Otherwise,
the substring is converted, and a pointer to the final string
(which will contain at least the terminating null character of
<VAR>str</VAR>) is stored in <CODE>*<VAR>tail</VAR></CODE>.  If you want no
assignment to <CODE>*<VAR>tail</VAR></CODE>, pass a null pointer as <VAR>tail</VAR>.
<CODE>strtodf</CODE> is identical to <CODE>strtod</CODE> except for its return type.
<P>
This implementation returns the nearest machine number to the
input decimal string.  Ties are broken by using the IEEE
round-even rule.
<P>
The alternate function <CODE>_strtod_r</CODE> is a reentrant version.
The extra argument <VAR>reent</VAR> is a pointer to a reentrancy structure.
<P>
<BR>
<STRONG>Returns</STRONG><BR>
<CODE>strtod</CODE> returns the converted substring value, if any.  If
no conversion could be performed, 0 is returned.  If the
correct value is out of the range of representable values,
plus or minus <CODE>HUGE_VAL</CODE> is returned, and <CODE>ERANGE</CODE> is
stored in errno. If the correct value would cause underflow, 0
is returned and <CODE>ERANGE</CODE> is stored in errno.
<P>
Supporting OS subroutines required: <CODE>close</CODE>, <CODE>fstat</CODE>, <CODE>isatty</CODE>,
<CODE>lseek</CODE>, <CODE>read</CODE>, <CODE>sbrk</CODE>, <CODE>write</CODE>.
<P>
<BR>
<P>
<HR>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_22.html">previous</A>, <A HREF="libc_24.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
