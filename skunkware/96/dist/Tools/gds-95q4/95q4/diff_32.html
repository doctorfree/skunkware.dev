<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from diff.texi on 5 October 1995 -->

<TITLE>Comparing and Merging Files - Detailed ed</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="diff_1.html">first</A>, <A HREF="diff_31.html">previous</A>, <A HREF="diff_33.html">next</A>, <A HREF="diff_93.html">last</A> section, <A HREF="diff_toc.html">table of contents</A>.
<HR>
<H4><A NAME="SEC32" HREF="diff_toc.html#TOC32">Detailed Description of <CODE>ed</CODE> Format</A></H4>
<P>
The <CODE>ed</CODE> output format consists of one or more hunks of
differences.  The changes closest to the ends of the files come first so
that commands that change the number of lines do not affect how
<CODE>ed</CODE> interprets line numbers in succeeding commands.  <CODE>ed</CODE>
format hunks look like this:
<P>
<PRE>
<VAR>change-command</VAR>
<VAR>to-file-line</VAR>
<VAR>to-file-line</VAR>...
.
</PRE>
<P>
Because <CODE>ed</CODE> uses a single period on a line to indicate the end of
input, GNU <CODE>diff</CODE> protects lines of changes that contain a single
period on a line by writing two periods instead, then writing a
subsequent <CODE>ed</CODE> command to change the two periods into one.  The
<CODE>ed</CODE> format cannot represent an incomplete line, so if the second
file ends in a changed incomplete line, <CODE>diff</CODE> reports an error and
then pretends that a newline was appended.
<P>
There are three types of change commands.  Each consists of a line
number or comma-separated range of lines in the first file and a single
character indicating the kind of change to make.  All line numbers are
the original line numbers in the file.  The types of change commands
are:
<P>
<DL COMPACT>
<DT><SAMP>`<VAR>l</VAR>a'</SAMP>
<DD>Add text from the second file after line <VAR>l</VAR> in the first file.  For
example, <SAMP>`8a'</SAMP> means to add the following lines after line 8 of file
1.

<DT><SAMP>`<VAR>r</VAR>c'</SAMP>
<DD>Replace the lines in range <VAR>r</VAR> in the first file with the following
lines.  Like a combined add and delete, but more compact.  For example,
<SAMP>`5,7c'</SAMP> means change lines 5--7 of file 1 to read as the text file
2.

<DT><SAMP>`<VAR>r</VAR>d'</SAMP>
<DD>Delete the lines in range <VAR>r</VAR> from the first file.  For example,
<SAMP>`5,7d'</SAMP> means delete lines 5--7 of file 1.
</DL>
<P>
<HR>
Go to the <A HREF="diff_1.html">first</A>, <A HREF="diff_31.html">previous</A>, <A HREF="diff_33.html">next</A>, <A HREF="diff_93.html">last</A> section, <A HREF="diff_toc.html">table of contents</A>.
</BODY>
</HTML>
