<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from embed.texi on 19 October 1995 -->

<TITLE>Embed With GNU - Faopts</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_5.html">previous</A>, <A HREF="embed_7.html">next</A>, <A HREF="embed_44.html">last</A> section, <A HREF="embed_toc.html">table of contents</A>.
<HR>
<H4><A NAME="SEC6" HREF="embed_toc.html#TOC6">Assembler options</A></H4>
<P>
You should use GNU <CODE>as</CODE> to assemble <CODE>GCC</CODE> output.  
To ensure this, <CODE>GCC</CODE> should be configured using the 
<SAMP>`--with-gnu-as'</SAMP> switch (as it is in Cygnus distributions
).  
Alternatively, you can invoke <CODE>GCC</CODE> with the <CODE>-mgas</CODE>
option.
<P>
If you invoke <CODE>as</CODE> via the GNU C compiler (version 2), you can use
the <SAMP>`-Wa'</SAMP> option to pass arguments through to the assembler.  One
common use of this option is to exploit the assembler's listing
features.  Assembler arguments you specify with <CODE>gcc -Wa</CODE> must be
separated from each other (and the <SAMP>`-Wa'</SAMP>) by commas.  For example,
the <SAMP>`-alh'</SAMP> assembler option in the following commandline:
<P>
<PRE>
$ sparclite-aout-gcc -c -g -O -Wa,-alh,-L file.c
</PRE>
<P>
requests a listing with high-level language and assembly language
interspersed.
<P>
The example also illustrates two other convenient options to specify
for assembler listings:
<P>
<OL>
<LI>
The compiler debugging option <SAMP>`-g'</SAMP> is essential to see interspersed
high-level source statements, since without debugging information the
assembler cannot tie most of the generated code to lines of the original
source file.

<LI>
The additional assembler option <SAMP>`-L'</SAMP> preserves
local labels, which may make the listing output more intelligible to
humans.
</OL>
<P>
These are the options to enable listing output from the assembler.  By
itself, <SAMP>`-a'</SAMP> requests listings of high-level language source,
assembly language, and symbols.
<P>
You can use other letters to select specific options for the list:
<SAMP>`-ah'</SAMP> requests a high-level language listing, <SAMP>`-al'</SAMP> requests
an output-program assembly listing, and <SAMP>`-as'</SAMP> requests a symbol
table listing.  High-level listings require that a compiler debugging
option like <SAMP>`-g'</SAMP> be used, and that assembly listings (<SAMP>`-al'</SAMP>)
be requested also.
<P>
You can use the <SAMP>`-ad'</SAMP> option to <EM>omit</EM> debugging directives
from the listing.
<P>
When you specify one of these options, you can further control listing
output and its appearance using these <DFN>listing-control</DFN> assembler
directives:
<P>
<DL COMPACT>
<DT><CODE>.nolist</CODE>
<DD>Turn off listings from this point on.

<DT><CODE>.list</CODE>
<DD>Turn listings back on from here.

<DT><CODE>.psize <VAR>linecount</VAR> , <VAR>columnwidth</VAR></CODE>
<DD>Describe the page size for your output.  (Default 60, 200.)
The assembler generates form feeds after printing each group of
<VAR>linecount</VAR> lines.  To avoid these automatic form feeds, specify 0
as the <VAR>linecount</VAR>.

<DT><CODE>.eject</CODE>
<DD>Skip to a new page (issue a form feed).

<DT><CODE>.title</CODE>
<DD>Use <VAR>heading</VAR> as the title (second line, immediately after the
source file name and pagenumber).

<DT><CODE>.sbttl</CODE>
<DD>Use <VAR>subheading</VAR> as the subtitle (third line, immediately after the
title line) when generating assembly listings.
</DL>
<P>
If you do not request listing output with one of the <SAMP>`-a'</SAMP> options,
these listing-control directives have no effect.  You can also use the
<SAMP>`-an'</SAMP> option to turn off all forms processing.
<P>
The letters after <SAMP>`-a'</SAMP> may be combined into one option,
<EM>e.g.</EM>, <SAMP>`-aln'</SAMP>.
<P>
The GNU assembler, configured for SPARC, recognizes the additional
<CODE>SPARClite</CODE> machine instructions that <CODE>GCC</CODE> can generate.
<P>
<DL COMPACT>
<DT><CODE></CODE>
<DD>-Asparclite 
A flag to the GNU assembler (configured for SPARC) explicitly 
selects this particular SPARC architecture.  The SPARC assembler 
automatically selects the <CODE>SPARClite</CODE> architecture whenever it 
encounters one of the <CODE>SPARClite</CODE>-only instructions (<CODE>divscc</CODE> 
or <CODE>scan</CODE>).
</DL>
<P>
<HR>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_5.html">previous</A>, <A HREF="embed_7.html">next</A>, <A HREF="embed_44.html">last</A> section, <A HREF="embed_toc.html">table of contents</A>.
</BODY>
</HTML>
