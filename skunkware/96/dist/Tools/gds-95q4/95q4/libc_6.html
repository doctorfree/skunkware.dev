<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from libc.texinfo on 9 October 1995 -->

<TITLE>The Cygnus C Support Library - atof</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_5.html">previous</A>, <A HREF="libc_7.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX5"></A>
<A NAME="IDX6"></A>
<H2><A NAME="SEC6" HREF="libc_toc.html#TOC6"><CODE>atof</CODE>, <CODE>atoff</CODE>---string to double or float</A></H2>
<STRONG>Synopsis</STRONG>
<PRE>
#include &#60;stdlib.h&#62;
double atof(const char *<VAR>s</VAR>);
float atoff(const char *<VAR>s</VAR>);

</PRE>
<STRONG>Description</STRONG><BR>
<CODE>atof</CODE> converts the initial portion of a string to a <CODE>double</CODE>.
<CODE>atoff</CODE> converts the initial portion of a string to a <CODE>float</CODE>.
<P>
The functions parse the character string <VAR>s</VAR>,
locating a substring which can be converted to a floating point
value. The substring must match the format:
<PRE>
 [+|-]<VAR>digits</VAR>[.][<VAR>digits</VAR>][(e|E)[+|-]<VAR>digits</VAR>]
</PRE>
The substring converted is the longest initial
fragment of <VAR>s</VAR> that has the expected format, beginning with
the first non-whitespace character.  The substring
is empty if <CODE>str</CODE> is empty, consists entirely
of whitespace, or if the first non-whitespace character is
something other than <CODE>+</CODE>, <CODE>-</CODE>, <CODE>.</CODE>, or a digit.
<P>
<CODE>atof(<VAR>s</VAR>)</CODE> is implemented as <CODE>strtod(<VAR>s</VAR>, NULL)</CODE>.
<CODE>atoff(<VAR>s</VAR>)</CODE> is implemented as <CODE>strtodf(<VAR>s</VAR>, NULL)</CODE>.
<P>
<BR>
<STRONG>Returns</STRONG><BR>
<CODE>atof</CODE> returns the converted substring value, if any, as a
<CODE>double</CODE>; or <CODE>0.0</CODE>,  if no conversion could be performed.
If the correct value is out of the range of representable values, plus
or minus <CODE>HUGE_VAL</CODE> is returned, and <CODE>ERANGE</CODE> is stored in
<CODE>errno</CODE>.
If the correct value would cause underflow, <CODE>0.0</CODE> is returned
and <CODE>ERANGE</CODE> is stored in <CODE>errno</CODE>.
<P>
<CODE>atoff</CODE> obeys the same rules as <CODE>atof</CODE>, except that it
returns a <CODE>float</CODE>.
<P>
<BR>
<STRONG>Portability</STRONG><BR>
<CODE>atof</CODE> is ANSI C. <CODE>atof</CODE>, <CODE>atoi</CODE>, and <CODE>atol</CODE> are subsumed by <CODE>strod</CODE>
and <CODE>strol</CODE>, but are used extensively in existing code. These functions are
less reliable, but may be faster if the argument is verified to be in a valid
range.
<P>
Supporting OS subroutines required: <CODE>close</CODE>, <CODE>fstat</CODE>, <CODE>isatty</CODE>,
<CODE>lseek</CODE>, <CODE>read</CODE>, <CODE>sbrk</CODE>, <CODE>write</CODE>.
<P>
<BR>
<P>
<HR>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_5.html">previous</A>, <A HREF="libc_7.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
