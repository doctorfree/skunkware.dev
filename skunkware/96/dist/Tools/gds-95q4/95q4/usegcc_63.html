<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from usegcc.texi on 9 October 1995 -->

<TITLE>Using GNU CC - Naming Types</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_62.html">previous</A>, <A HREF="usegcc_64.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX263"></A>
<H2><A NAME="SEC66" HREF="usegcc_toc.html#TOC66">Naming an Expression's Type</A></H2>
<P>
You can give a name to the type of an expression using a <CODE>typedef</CODE>
declaration with an initializer.  Here is how to define <VAR>name</VAR> as a
type name for the type of <VAR>exp</VAR>:
<P>
<PRE>
typedef <VAR>name</VAR> = <VAR>exp</VAR>;
</PRE>
<P>
This is useful in conjunction with the statements-within-expressions
feature.  Here is how the two together can be used to define a safe
"maximum" macro that operates on any arithmetic type:
<P>
<PRE>
#define max(a,b) \
  ({typedef _ta = (a), _tb = (b);  \
    _ta _a = (a); _tb _b = (b);     \
    _a &#62; _b ? _a : _b; })
</PRE>
<A NAME="IDX264"></A>
<A NAME="IDX265"></A>
<A NAME="IDX266"></A>
<A NAME="IDX267"></A>
<A NAME="IDX268"></A>
<P>
The reason for using names that start with underscores for the local
variables is to avoid conflicts with variable names that occur within the
expressions that are substituted for <CODE>a</CODE> and <CODE>b</CODE>.  Eventually we
hope to design a new form of declaration syntax that allows you to declare
variables whose scopes start only after their initializers; this will be a
more reliable way to prevent such conflicts.
<P>
<HR>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_62.html">previous</A>, <A HREF="usegcc_64.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
</BODY>
</HTML>
