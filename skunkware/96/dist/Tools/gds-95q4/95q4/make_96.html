<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from make.texinfo on 9 October 1995 -->

<TITLE>GNU Make - Pattern Match</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_95.html">previous</A>, <A HREF="make_97.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
<HR>
<H3><A NAME="SEC95" HREF="make_toc.html#TOC95">How Patterns Match</A></H3>
<A NAME="IDX813"></A>
<P>
A target pattern is composed of a <SAMP>`%'</SAMP> between a prefix and a suffix,
either or both of which may be empty.  The pattern matches a file name only
if the file name starts with the prefix and ends with the suffix, without
overlap.  The text between the prefix and the suffix is called the
<DFN>stem</DFN>.  Thus, when the pattern <SAMP>`%.o'</SAMP> matches the file name
<TT>`test.o'</TT>, the stem is <SAMP>`test'</SAMP>.  The pattern rule dependencies are
turned into actual file names by substituting the stem for the character
<SAMP>`%'</SAMP>.  Thus, if in the same example one of the dependencies is written
as <SAMP>`%.c'</SAMP>, it expands to <SAMP>`test.c'</SAMP>.<P>
When the target pattern does not contain a slash (and it usually does
not), directory names in the file names are removed from the file name
before it is compared with the target prefix and suffix.  After the
comparison of the file name to the target pattern, the directory
names, along with the slash that ends them, are added on to the
dependency file names generated from the pattern rule's dependency
patterns and the file name. The directories are ignored only for the
purpose of finding an implicit rule to use, not in the application of
that rule.  Thus, <SAMP>`e%t'</SAMP> matches the file name <TT>`src/eat'</TT>,
with <SAMP>`src/a'</SAMP> as the stem.  When dependencies are turned into file
names, the directories from the stem are added at the front, while the
rest of the stem is substituted for the <SAMP>`%'</SAMP>.  The stem
<SAMP>`src/a'</SAMP> with a dependency pattern <SAMP>`c%r'</SAMP> gives the file name
<TT>`src/car'</TT>.<P>
<HR>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_95.html">previous</A>, <A HREF="make_97.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
</BODY>
</HTML>
