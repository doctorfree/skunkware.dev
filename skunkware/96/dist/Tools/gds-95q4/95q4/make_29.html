<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from make.texinfo on 9 October 1995 -->

<TITLE>GNU Make - Commands/Search</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_28.html">previous</A>, <A HREF="make_30.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
<HR>
<A NAME="IDX144"></A>
<A NAME="IDX145"></A>
<H3><A NAME="SEC28" HREF="make_toc.html#TOC28">Writing Shell Commands with Directory Search</A></H3>
<P>
When a dependency is found in another directory through directory search,
this cannot change the commands of the rule; they will execute as written.
Therefore, you must write the commands with care so that they will look for
the dependency in the directory where <CODE>make</CODE> finds it.
<P>
This is done with the <DFN>automatic variables</DFN> such as <SAMP>`$^'</SAMP>
(see section <A HREF="make_95.html#SEC94">Automatic Variables</A>).  
For instance, the value of <SAMP>`$^'</SAMP> is a
list of all the dependencies of the rule, including the names of
the directories in which they were found, and the value of
<SAMP>`$@'</SAMP> is the target.  Thus:<P>
<PRE>
foo.o : foo.c
        cc -c $(CFLAGS) $^ -o $@
</PRE>
<P>
(The variable <CODE>CFLAGS</CODE> exists so you can specify flags for C
compilation by implicit rules; we use it here for consistency so it will
affect all C compilations uniformly;
see section <A HREF="make_90.html#SEC89">Variables Used by Implicit Rules</A>.)
<P>
Often the dependencies include header files as well, which you do not
want to mention in the commands.  The automatic variable <SAMP>`$&#60;'</SAMP> is
just the first dependency:
<P>
<PRE>
VPATH = src:../headers
foo.o : foo.c defs.h hack.h
        cc -c $(CFLAGS) $&#60; -o $@
</PRE>
<P>
<HR>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_28.html">previous</A>, <A HREF="make_30.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
</BODY>
</HTML>
