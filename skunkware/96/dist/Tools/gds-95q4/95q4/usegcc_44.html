<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from usegcc.texi on 9 October 1995 -->

<TITLE>Using GNU CC - Configurations</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_43.html">previous</A>, <A HREF="usegcc_45.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX227"></A>
<H2><A NAME="SEC47" HREF="usegcc_toc.html#TOC47">Configurations Supported by GNU CC</A></H2>
<P>
Here are the possible CPU types:
<P>
<BLOCKQUOTE>
1750a, a29k, alpha, arm, c<VAR>n</VAR>, clipper, dsp16xx, elxsi, h8300,
hppa1.0, hppa1.1, i370, i386, i486, i586, i860, i960, m68000, m68k,
m88k, mips, mipsel, mips64, mips64el, ns32k, powerpc, powerpcle,
pyramid, romp, rs6000, sh, sparc, sparclite, sparc64, vax, we32k.
</BLOCKQUOTE>
<P>
Here are the recognized company names.  As you can see, customary
abbreviations are used rather than the longer official names.
<P>
<BLOCKQUOTE>
acorn, alliant, altos, apollo, att, bull,
cbm, convergent, convex, crds, dec, dg, dolphin,
elxsi, encore, harris, hitachi, hp, ibm, intergraph, isi,
mips, motorola, ncr, next, ns, omron, plexus,
sequent, sgi, sony, sun, tti, unicom, wrs.
</BLOCKQUOTE>
<P>
The company name is meaningful only to disambiguate when the rest of
the information supplied is insufficient.  You can omit it, writing
just <SAMP>`<VAR>cpu</VAR>-<VAR>system</VAR>'</SAMP>, if it is not needed.  For example,
<SAMP>`vax-ultrix4.2'</SAMP> is equivalent to <SAMP>`vax-dec-ultrix4.2'</SAMP>.
<P>
Here is a list of system types:
<P>
<BLOCKQUOTE>
386bsd, aix, acis, amigados, aos, aout, bosx, bsd, clix, coff, ctix, cxux,
dgux, dynix, ebmon, ecoff, elf, esix, freebsd, hms, genix, gnu, gnu/linux,
hiux, hpux, iris, irix, isc, luna, lynxos, mach, minix, msdos, mvs,
netbsd, newsos, nindy, ns, osf, osfrose, ptx, riscix, riscos, rtu, sco, sim,
solaris, sunos, sym, sysv, udi, ultrix, unicos, uniplus, unos, vms, vsta,
vxworks, winnt, xenix.
</BLOCKQUOTE>
<P>
You can omit the system type; then <TT>`configure'</TT> guesses the
operating system from the CPU and company.
<P>
You can add a version number to the system type; this may or may not
make a difference.  For example, you can write <SAMP>`bsd4.3'</SAMP> or
<SAMP>`bsd4.4'</SAMP> to distinguish versions of BSD.  In practice, the version
number is most needed for <SAMP>`sysv3'</SAMP> and <SAMP>`sysv4'</SAMP>, which are often
treated differently.
<P>
If you specify an impossible combination such as <SAMP>`i860-dg-vms'</SAMP>,
then you may get an error message from <TT>`configure'</TT>, or it may
ignore part of the information and do the best it can with the rest.
<TT>`configure'</TT> always prints the canonical name for the alternative
that it used.  GNU CC does not support all possible alternatives.
<P>
Often a particular model of machine has a name.  Many machine names are
recognized as aliases for CPU/company combinations.  Thus, the machine
name <SAMP>`sun3'</SAMP>, mentioned above, is an alias for <SAMP>`m68k-sun'</SAMP>.
Sometimes we accept a company name as a machine name, when the name is
popularly used for a particular machine.  Here is a table of the known
machine names:
<P>
<BLOCKQUOTE>
3300, 3b1, 3b<VAR>n</VAR>, 7300, altos3068, altos,
apollo68, att-7300, balance,
convex-c<VAR>n</VAR>, crds, decstation-3100,
decstation, delta, encore,
fx2800, gmicro, hp7<VAR>nn</VAR>, hp8<VAR>nn</VAR>,
hp9k2<VAR>nn</VAR>, hp9k3<VAR>nn</VAR>, hp9k7<VAR>nn</VAR>,
hp9k8<VAR>nn</VAR>, iris4d, iris, isi68,
m3230, magnum, merlin, miniframe,
mmax, news-3600, news800, news, next,
pbd, pc532, pmax, powerpc, powerpcle, ps2, risc-news,
rtpc, sun2, sun386i, sun386, sun3,
sun4, symmetry, tower-32, tower.
</BLOCKQUOTE>
<P>
Remember that a machine name specifies both the cpu type and the company
name.
If you want to install your own homemade configuration files, you can
use <SAMP>`local'</SAMP> as the company name to access them.  If you use 
configuration <SAMP>`<VAR>cpu</VAR>-local'</SAMP>, the configuration name
without the cpu prefix 
is used to form the configuration file names.
<P>
Thus, if you specify <SAMP>`m68k-local'</SAMP>, configuration uses
files <TT>`m68k.md'</TT>, <TT>`local.h'</TT>, <TT>`m68k.c'</TT>,
<TT>`xm-local.h'</TT>, <TT>`t-local'</TT>, and <TT>`x-local'</TT>, all in the
directory <TT>`config/m68k'</TT>.
<P>
Here is a list of configurations that have special treatment or special
things you must know:
<P>
<DL COMPACT>
<DT><SAMP>`1750a-*-*'</SAMP>
<DD>MIL-STD-1750A processors.

Starting with <CODE>gcc</CODE> 2.6.1, the MIL-STD-1750A cross configuration 
no longer supports the Tektronix Assembler, but instead produces output for
<CODE>as1750</CODE>, an assembler/linker available under the GNU Public
License for the 1750A. Contact <EM>okellogg@salyko.cube.net</EM> for more
details on obtaining <SAMP>`as1750'</SAMP>.  A similarly licensed simulator for
the 1750A is available from same address.

You should ignore a fatal error during the building of libgcc (libgcc is
not yet implemented for the 1750A.)

The <CODE>as1750</CODE> assembler requires the file <TT>`ms1750.inc'</TT>, which is
found in the directory <TT>`config/1750a'</TT>.

GNU CC produced the same sections as the Fairchild F9450 C Compiler,
namely:

<DL COMPACT>
<DT><CODE>NREL</CODE>
<DD>The program code section.

<DT><CODE>SREL</CODE>
<DD>The read/write (RAM) data section.

<DT><CODE>KREL</CODE>
<DD>The read-only (ROM) constants section.

<DT><CODE>IREL</CODE>
<DD>Initialization section (code to copy KREL to SREL).
</DL>

The smallest addressable unit is 16 bits (BITS_PER_UNIT is 16).  This
means that type `char' is represented with a 16-bit word per character.
The 1750A's "Load/Store Upper/Lower Byte" instructions are not used by
GNU CC.

There is a problem with long argument lists to functions.  The compiler
aborts if the sum of space needed by all arguments exceeds 14 words.
This is because the arguments are passed in registers (R0..R13) not on
the stack, and there is a problem with passing further arguments (i.e.
beyond those in R0..R13) via the stack.

If efficiency is less important than using long argument lists, you
can change the definition of the <CODE>FUNCTION_ARG</CODE> macro in
<TT>`config/1750/1750a.h'</TT> to always return zero.  If you do that,
GNU CC will pass all parameters on the stack.

<DT><SAMP>`alpha-*-osf1'</SAMP>
<DD>Systems using processors that implement the DEC Alpha architecture and
are running the OSF/1 operating system, for example the DEC Alpha AXP
systems.  (VMS on the Alpha is not currently supported by GNU CC.)

GNU CC writes a <SAMP>`.verstamp'</SAMP> directive to the assembler output file
unless it is built as a cross-compiler.  It gets the version to use from
the system header file <TT>`/usr/include/stamp.h'</TT>.  If you install a
new version of OSF/1, you should rebuild <CODE>gcc</CODE> to pick up the new 
version stamp.

Note that since the Alpha is a 64-bit architecture, cross-compilers from
32-bit machines will not generate code as efficient as that generated
when the compiler is running on a 64-bit machine because many
optimizations that depend on being able to represent a word on the
target in an integral value on the host cannot be performed.  Building
cross-compilers on the Alpha for 32-bit machines has only been tested in
a few cases and may not work properly.

<CODE>make compare</CODE> may fail on old versions of OSF/1 unless you add
<SAMP>`-save-temps'</SAMP> to <CODE>CFLAGS</CODE>.  On these systems, the name of the
assembler input file is stored in the object file, and that makes
comparison fail if it differs between the <CODE>stage1</CODE> and
<CODE>stage2</CODE> compilations.  The option <SAMP>`-save-temps'</SAMP> forces a
fixed name to be used for the assembler input file, instead of a
randomly chosen name in <TT>`/tmp'</TT>.  Do not add <SAMP>`-save-temps'</SAMP>
unless the comparisons fail without that option.  If you add
<SAMP>`-save-temps'</SAMP>, you will have to manually delete the <SAMP>`.i'</SAMP> and
<SAMP>`.s'</SAMP> files after each series of compilations.

GNU CC now supports both the native (ECOFF) debugging format used by DBX
and GDB and an encapsulated STABS format for use only with GDB.  See the
discussion of the <SAMP>`--with-stabs'</SAMP> option of <TT>`configure'</TT> above
for more information on these formats and how to select them.

There is a bug in DEC's assembler that produces incorrect line numbers
for ECOFF format when the <SAMP>`.align'</SAMP> directive is used.  To work
around this problem, GNU CC will not emit such alignment directives
while writing ECOFF format debugging information even if optimization is
being performed.  Unfortunately, this has the very undesirable
side-effect that code addresses when <SAMP>`-O'</SAMP> is specified are
different depending on whether or not <SAMP>`-g'</SAMP> is also specified.

To avoid this behavior, specify <SAMP>`-gstabs+'</SAMP> and use GDB instead of
DBX.  DEC is now aware of this problem with the assembler and hopes to
provide a fix shortly.

<DT><SAMP>`arm'</SAMP>
<DD>Advanced RISC Machines ARM-family processors.  These are often used in
embedded applications.  There are no standard Unix configurations.
This configuration corresponds to the basic instruction sequences and will
produce a.out format object modules.

You may need to make a variant of the file <TT>`arm.h'</TT> for your particular
configuration.

<DT><SAMP>`arm-*-riscix'</SAMP>
<DD>The ARM2 or ARM3 processor running RISC iX, Acorn's port of BSD Unix.  If
you are running a version of RISC iX prior to 1.2 then you must specify
the version number during configuration.  Note that the assembler 
shipped with RISC iX does not support stabs debugging information; a
new version of the assembler, with stabs support included, is now
available from Acorn.

<DT><SAMP>`a29k'</SAMP>
<DD>AMD Am29k-family processors.  These are normally used in embedded
applications.  There are no standard Unix configurations.
This configuration
corresponds to AMD's standard calling sequence and binary interface
and is compatible with other 29k tools.  

You may need to make a variant of the file <TT>`a29k.h'</TT> for your
particular configuration.

<DT><SAMP>`a29k-*-bsd'</SAMP>
<DD>AMD Am29050 used in a system running a variant of BSD Unix.

<DT><SAMP>`decstation-*'</SAMP>
<DD>DECstations can support three different personalities: Ultrix,
DEC OSF/1, and OSF/rose.  To configure <CODE>gcc</CODE> for these platforms
use the following configurations:

<DL COMPACT>
<DT><SAMP>`decstation-ultrix'</SAMP>
<DD>Ultrix configuration.

<DT><SAMP>`decstation-osf1'</SAMP>
<DD>Dec's version of OSF/1.

<DT><SAMP>`decstation-osfrose'</SAMP>
<DD>Open Software Foundation reference port of OSF/1 which uses the
OSF/rose object file format instead of ECOFF.  Normally, you
would not select this configuration.
</DL>

The MIPS C compiler needs to be told to increase its table size
for switch statements with the <SAMP>`-Wf,-XNg1500'</SAMP> option in
order to compile <TT>`cp/parse.c'</TT>.  If you use the <SAMP>`-O2'</SAMP>
optimization option, you also need to use <SAMP>`-Olimit 3000'</SAMP>.
Both of these options are automatically generated in the
<TT>`Makefile'</TT> that the shell script <TT>`configure'</TT> builds.
If you override the <CODE>CC</CODE> make variable and use the MIPS
compilers, you may need to add <SAMP>`-Wf,-XNg1500 -Olimit 3000'</SAMP>.

<DT><SAMP>`elxsi-elxsi-bsd'</SAMP>
<DD>The Elxsi's C compiler has known limitations that prevent it from
compiling GNU C.  Please contact <CODE>mrs@cygnus.com</CODE> for more details.

<DT><SAMP>`dsp16xx'</SAMP>
<DD>A port to the AT&#38;T DSP1610 family of processors.


<DT><SAMP>`h8300-*-*'</SAMP>
<DD>The calling convention and structure layout has changed in release 2.6.
All code must be recompiled.  The calling convention now passes the
first three arguments in function calls in registers.  Structures are no
longer a multiple of 2 bytes.
  
<DT><SAMP>`hppa*-*-*'</SAMP>
<DD>There are two variants of this CPU, called 1.0 and 1.1, which have
different machine descriptions.  You must use the right one for your
machine.  All 7<VAR>nn</VAR> machines and 8<VAR>n</VAR>7 machines use 1.1, while
all other 8<VAR>nn</VAR> machines use 1.0.

The easiest way to handle this problem is to use <SAMP>`configure
hp<VAR>nnn</VAR>'</SAMP> or <SAMP>`configure hp<VAR>nnn</VAR>-hpux'</SAMP>, where <VAR>nnn</VAR> is
the model number of the machine.  Then <TT>`configure'</TT> will figure out
if the machine is a 1.0 or 1.1.  Use <SAMP>`uname -a'</SAMP> to find out the
model number of your machine.

<SAMP>`-g'</SAMP> does not work on HP-UX, since that system uses a peculiar
debugging format which GNU CC does not know about.  However, <SAMP>`-g'</SAMP>
will work if you also use GAS and GDB in conjunction with <CODE>gcc</CODE>.  
We highly recommend using GAS for all HP-PA configurations.

You should be using GAS-2.3 (or later) along with GDB-4.12 (or later).  These
can be retrieved from all the traditional GNU ftp archive sites.  

Build GAS and install the resulting binary as:

<PRE>
/usr/local/lib/gcc-lib/<VAR>configuration</VAR>/<VAR>gccversion</VAR>/as
</PRE>

where <VAR>configuration</VAR> is the configuration name (perhaps
<SAMP>`hp<VAR>nnn</VAR>-hpux'</SAMP>) and <VAR>gccversion</VAR> is the GNU CC version
number.  Do this <EM>before</EM> starting the build process, otherwise you will
get errors from the HPUX assembler while building <TT>`libgcc2.a'</TT>.  The
command 

<PRE>
make install-dir
</PRE>

will create the necessary directory hierarchy so you can install GAS before
building <CODE>gcc</CODE>.

To enable debugging, configure GNU CC with the <SAMP>`--with-gnu-as'</SAMP> option
before building.

It has been reported that GNU CC produces invalid assembly code for
1.1 machines running HP-UX 8.02 when using the HP assembler.  Typically
the errors look like this:
<PRE>
as: bug.s @line#15 [err#1060]
  Argument 0 or 2 in FARG upper
         - lookahead = ARGW1=FR,RTNVAL=GR
as: foo.s @line#28 [err#1060]
  Argument 0 or 2 in FARG upper
         - lookahead = ARGW1=FR
</PRE>

You can check the version of HP-UX you are running by executing the command
<SAMP>`uname -r'</SAMP>.   If you are indeed running HP-UX 8.02 on a PA and 
using the HP assembler then configure <CODE>gcc</CODE> with 
"hp<VAR>nnn</VAR>-hpux8.02".

<DT><SAMP>`i370-*-*'</SAMP>
<DD>This port is very preliminary and has many known bugs.  We hope to
have a higher-quality port for this machine soon.

<DT><SAMP>`i386-*-linuxoldld'</SAMP>
<DD>Use this configuration to generate a.out binaries on Linux if you do not
have gas/binutils version 2.5.2 or later installed. This is an obsolete
configuration.

<DT><SAMP>`i386-*-linuxaout'</SAMP>
<DD>Use this configuration to generate a.out binaries on Linux. This is an
obsolete configuration.  You must use gas/binutils version 2.5.2 or
later.

<DT><SAMP>`i386-*-linux'</SAMP>
<DD>Use this configuration to generate ELF binaries on Linux.  You must 
use gas/binutils version 2.5.2 or later.

<DT><SAMP>`i386-*-sco'</SAMP>
<DD>Compilation with RCC is recommended.  Also, it may be a good idea to
link with GNU malloc instead of the malloc that comes with the system.

<DT><SAMP>`i386-*-sco3.2v4'</SAMP>
<DD>Use this configuration for SCO release 3.2 version 4.

<DT><SAMP>`i386-*-isc'</SAMP>
<DD>It may be a good idea to link with GNU malloc instead of the malloc that
comes with the system.

In ISC version 4.1, <TT>`sed'</TT> core dumps when building
<TT>`deduced.h'</TT>.  Use the version of <TT>`sed'</TT> from version 4.0.

<DT><SAMP>`i386-*-esix'</SAMP>
<DD>It may be good idea to link with GNU malloc instead of the malloc that
comes with the system.

<DT><SAMP>`i386-ibm-aix'</SAMP>
<DD>You need to use GAS version 2.1 or later, and and LD from
GNU binutils version 2.2 or later.

<DT><SAMP>`i386-sequent-bsd'</SAMP>
<DD>Go to the Berkeley universe before compiling.  In addition, you probably
need to create a file named <TT>`string.h'</TT> containing just one line:
<SAMP>`#include &#60;strings.h&#62;'</SAMP>.

<DT><SAMP>`i386-sequent-ptx1*'</SAMP>
<DD>Sequent DYNIX/ptx 1.x.

<DT><SAMP>`i386-sequent-ptx2*'</SAMP>
<DD>Sequent DYNIX/ptx 2.x.

<DT><SAMP>`i386-sun-sunos4'</SAMP>
<DD>You may find that you need another version of GNU CC to begin
bootstrapping with, since the current version when built with the
system's own compiler seems to get an infinite loop compiling part of
<TT>`libgcc2.c'</TT>.  GNU CC version 2 compiled with GNU CC (any version)
seems not to have this problem.

See section <A HREF="usegcc_53.html#SEC56">Installing GNU CC on the Sun</A>, for information on installing GNU CC on Sun
systems.

<DT><SAMP>`i[345]86-*-winnt3.5'</SAMP>
<DD>This version requires a GAS that has not let been released.  Until it
is, you can get a prebuilt binary version via anonymous ftp from
<TT>`cs.washington.edu:pub/gnat'</TT> or <TT>`cs.nyu.edu:pub/gnat'</TT>. You
must also use the Microsoft header files from the Windows NT 3.5 SDK.
Find these on the CDROM in the <TT>`/mstools/h'</TT> directory dated 9/4/94.  You
must use a fixed version of Microsoft linker made especially for NT 3.5,
which is also is available on the NT 3.5 SDK CDROM.  If you do not have
this linker, can you also use the linker from Visual C/C++ 1.0 or 2.0.

Installing GNU CC for NT builds a wrapper linker, called <TT>`ld.exe'</TT>,
which mimics the behaviour of Unix <TT>`ld'</TT> in the specification of
libraries (<SAMP>`-L'</SAMP> and <SAMP>`-l'</SAMP>).  <TT>`ld.exe'</TT> looks for both Unix
and Microsoft named libraries.  For example, if you specify
<SAMP>`-lfoo'</SAMP>, <TT>`ld.exe'</TT> will look first for <TT>`libfoo.a'</TT>
and then for <TT>`foo.lib'</TT>.

You may install GNU CC for Windows NT in one of two ways, depending on
whether or not you have a Unix-like shell and various Unix-like
utilities.

<OL>
<DT><SAMP>`'</SAMP>
<DD>If you do not have a Unix-like shell and few Unix-like utilities, you
will use a DOS style batch script called <TT>`configure.bat'</TT>.  Invoke
it as <CODE>configure winnt</CODE> from an MSDOS console window or from the
program manager dialog box.  <TT>`configure.bat'</TT> assumes you have
already installed and have in your path a Unix-like <TT>`sed'</TT> program
which is used to create a working <TT>`Makefile'</TT> from <TT>`Makefile.in'</TT>.

<TT>`Makefile'</TT> uses the Microsoft Nmake program maintenance utility and
the Visual C/C++ V8.00 compiler to build GNU CC.  You need only have the
utilities <TT>`sed'</TT> and <TT>`touch'</TT> to use this installation method,
which only automatically builds the compiler itself.  You must then
examine what <TT>`fixinc.winnt'</TT> does, edit the header files by hand and
build <TT>`libgcc.a'</TT> manually.

<DT><SAMP>`'</SAMP>
<DD>The second type of installation assumes you are running a Unix-like
shell, have a complete suite of Unix-like utilities in your path, and
have a previous version of GNU CC already installed, either through
building it via the above installation method or acquiring a pre-built
binary.  In this case, use the <TT>`configure'</TT> script in the normal
fashion.
</OL>

<DT><SAMP>`i860-intel-osf1'</SAMP>
<DD>This is the Paragon.
If you have version 1.0 of the operating system,
see section <A HREF="usegcc_115.html#SEC118">Installation Problems</A>, for special things you need to do to
compensate for peculiarities in the system.

<DT><SAMP>`*-lynx-lynxos'</SAMP>
<DD>LynxOS 2.2 and earlier comes with GNU CC 1.x already installed as
<TT>`/bin/gcc'</TT>.  You should compile with this instead of <TT>`/bin/cc'</TT>.
You can tell GNU CC to use the GNU assembler and linker, by specifying
<SAMP>`--with-gnu-as --with-gnu-ld'</SAMP> when configuring.  These will produce
COFF format object files and executables;  otherwise GNU CC will use the
installed tools, which produce a.out format executables.

<DT><SAMP>`m68000-hp-bsd'</SAMP>
<DD>HP 9000 series 200 running BSD.  Note that the C compiler that comes
with this system cannot compile GNU CC; contact <CODE>law@cs.utah.edu</CODE>
to get binaries of GNU CC for bootstrapping.

<DT><SAMP>`m68k-altos'</SAMP>
<DD>Altos 3068.  You must use the GNU assembler, linker and debugger.
Also, you must fix a kernel bug.  Details in the file <TT>`README.ALTOS'</TT>.

<DT><SAMP>`m68k-att-sysv'</SAMP>
<DD>AT&#38;T 3b1, a.k.a. 7300 PC.  Special procedures are needed to compile GNU
CC with this machine's standard C compiler, due to bugs in that
compiler.  You can bootstrap it more easily with
previous versions of GNU CC if you have them.

Installing GNU CC on the 3b1 is difficult if you do not already have
GNU CC running, due to bugs in the installed C compiler.  However,
the following procedure might work.  We are unable to test it.

<OL>
<DT><SAMP>`'</SAMP>
<DD>Comment out the <SAMP>`#include "config.h"'</SAMP> line on line 37 of
<TT>`cccp.c'</TT> and do <SAMP>`make cpp'</SAMP>.  This makes a preliminary version
of GNU cpp.

<DT><SAMP>`'</SAMP>
<DD>Save the old <TT>`/lib/cpp'</TT> and copy the preliminary GNU cpp to that
file name.

<DT><SAMP>`'</SAMP>
<DD>Undo your change in <TT>`cccp.c'</TT>, or reinstall the original version,
and do <SAMP>`make cpp'</SAMP> again.

<DT><SAMP>`'</SAMP>
<DD>Copy this final version of GNU cpp into <TT>`/lib/cpp'</TT>.

<A NAME="IDX228"></A>
<DT><SAMP>`'</SAMP>
<DD>Replace every occurrence of <CODE>obstack_free</CODE> in the file
<TT>`tree.c'</TT> with <CODE>_obstack_free</CODE>.

<DT><SAMP>`'</SAMP>
<DD>Run <CODE>make</CODE> to get the first-stage GNU CC.

<DT><SAMP>`'</SAMP>
<DD>Reinstall the original version of <TT>`/lib/cpp'</TT>.

<DT><SAMP>`'</SAMP>
<DD>Now you can compile GNU CC with itself and install it in the normal
fashion.
</OL>

<DT><SAMP>`m68k-bull-sysv'</SAMP>
<DD>Bull DPX/2 series 200 and 300 with BOS-2.00.45 up to BOS-2.01. GNU CC works 
either with native assembler or GNU assembler. You can use
GNU assembler with native coff generation by providing <SAMP>`--with-gnu-as'</SAMP> to
the configure script or use GNU assembler with dbx-in-coff encapsulation
by providing <SAMP>`--with-gnu-as --stabs'</SAMP>. For any problem with native 
assembler or for availability of the DPX/2 port of GAS, contact 
<CODE>F.Pierresteguy@frcl.bull.fr</CODE>.

<DT><SAMP>`m68k-crds-unox'</SAMP>
<DD>Use <SAMP>`configure unos'</SAMP> for building on Unos.

The Unos assembler is named <CODE>casm</CODE> instead of <CODE>as</CODE>.  For some
strange reason linking <TT>`/bin/as'</TT> to <TT>`/bin/casm'</TT> changes the
behavior, and does not work.  So, when installing GNU CC, you should
install the following script as <TT>`as'</TT> in the subdirectory where
the passes of <CODE>gcc</CODE> are installed:

<PRE>
#!/bin/sh
casm $*
</PRE>

The default Unos library is named <TT>`libunos.a'</TT> instead of
<TT>`libc.a'</TT>.  To allow GNU CC to function, either change all
references to <SAMP>`-lc'</SAMP> in <TT>`gcc.c'</TT> to <SAMP>`-lunos'</SAMP> or link
<TT>`/lib/libc.a'</TT> to <TT>`/lib/libunos.a'</TT>.

<A NAME="IDX229"></A>
When compiling GNU CC with the standard compiler, to overcome bugs in
the support of <CODE>alloca</CODE>, do not use <SAMP>`-O'</SAMP> when making stage 2.
Then use the stage 2 compiler with <SAMP>`-O'</SAMP> to make the stage 3
compiler.  This compiler will have the same characteristics as the usual
stage 2 compiler on other systems.  Use it to make a stage 4 compiler
and compare that with stage 3 to verify proper compilation.

(Perhaps simply defining <CODE>ALLOCA</CODE> in <TT>`x-crds'</TT> as described in
the comments there will make the above paragraph superfluous.  Please
inform us of whether this works.)

Unos uses memory segmentation instead of demand paging, so you will need
a lot of memory.  5 Mb is barely enough if no other tasks are running.
If linking <TT>`cc1'</TT> fails, try putting the object files into a library
and linking from that library.

<DT><SAMP>`m68k-hp-hpux'</SAMP>
<DD>HP 9000 series 300 or 400 running HP-UX.  HP-UX version 8.0 has a bug in
the assembler that prevents compilation of GNU CC.  To fix it, get patch
PHCO_4484 from HP.

In addition, if you wish to use gas <SAMP>`--with-gnu-as'</SAMP> you must use
gas version 2.1 or later, and you must use the GNU linker version 2.1 or
later.  Earlier versions of gas relied upon a program which converted the
gas output into the native HP/UX format, but that program has not been
kept up to date.  gdb does not understand that native HP/UX format, so
you must use gas if you wish to use gdb.

<DT><SAMP>`m68k-sun'</SAMP>
<DD>Sun 3.  We do not provide a configuration file to use the Sun FPA by
default, because programs that establish signal handlers for floating
point traps inherently cannot work with the FPA.

See section <A HREF="usegcc_53.html#SEC56">Installing GNU CC on the Sun</A>, for information on installing GNU CC on Sun
systems.

<DT><SAMP>`m88k-*-svr3'</SAMP>
<DD>Motorola m88k running the AT&#38;T/Unisoft/Motorola V.3 reference port.
These systems tend to use the Green Hills C, revision 1.8.5, as the
standard C compiler.  There are apparently bugs in this compiler that
result in object files differences between stage 2 and stage 3.  If this
happens, make the stage 4 compiler and compare it to the stage 3
compiler.  If the stage 3 and stage 4 object files are identical, this
suggests you encountered a problem with the standard C compiler; the
stage 3 and 4 compilers may be usable.

It is best, however, to use an older version of GNU CC for bootstrapping
if you have one.

<DT><SAMP>`m88k-*-dgux'</SAMP>
<DD>Motorola m88k running DG/UX.  To build 88open BCS native or cross
compilers on DG/UX, specify the configuration name as
<SAMP>`m88k-*-dguxbcs'</SAMP> and build in the 88open BCS software development
environment.  To build ELF native or cross compilers on DG/UX, specify
<SAMP>`m88k-*-dgux'</SAMP> and build in the DG/UX ELF development environment.
You set the software development environment by issuing
<SAMP>`sde-target'</SAMP> command and specifying either <SAMP>`m88kbcs'</SAMP> or
<SAMP>`m88kdguxelf'</SAMP> as the operand.

If you do not specify a configuration name, <TT>`configure'</TT> guesses the
configuration based on the current software development environment.

<DT><SAMP>`m88k-tektronix-sysv3'</SAMP>
<DD>Tektronix XD88 running UTekV 3.2e.  Do not turn on
optimization while building stage1 if you bootstrap with
the buggy Green Hills compiler.  Also, The bundled LAI
System V NFS is buggy so if you build in an NFS mounted
directory, start from a fresh reboot, or avoid NFS all together.
Otherwise you may have trouble getting clean comparisons
between stages.

<DT><SAMP>`mips-mips-bsd'</SAMP>
<DD>MIPS machines running the MIPS operating system in BSD mode.  It's
possible that some old versions of the system lack the functions
<CODE>memcpy</CODE>, <CODE>memcmp</CODE>, and <CODE>memset</CODE>.  If your system lacks
these, you must remove or undo the definition of
<CODE>TARGET_MEM_FUNCTIONS</CODE> in <TT>`mips-bsd.h'</TT>.

The MIPS C compiler needs to be told to increase its table size
for switch statements with the <SAMP>`-Wf,-XNg1500'</SAMP> option in
order to compile <TT>`cp/parse.c'</TT>.  If you use the <SAMP>`-O2'</SAMP>
optimization option, you also need to use <SAMP>`-Olimit 3000'</SAMP>.
Both of these options are automatically generated in the
<TT>`Makefile'</TT> that the shell script <TT>`configure'</TT> builds.
If you override the <CODE>CC</CODE> make variable and use the MIPS
compilers, you may need to add <SAMP>`-Wf,-XNg1500 -Olimit 3000'</SAMP>.

<DT><SAMP>`mips-mips-riscos*'</SAMP>
<DD>The MIPS C compiler needs to be told to increase its table size
for switch statements with the <SAMP>`-Wf,-XNg1500'</SAMP> option in
order to compile <TT>`cp/parse.c'</TT>.  If you use the <SAMP>`-O2'</SAMP>
optimization option, you also need to use <SAMP>`-Olimit 3000'</SAMP>.
Both of these options are automatically generated in the
<TT>`Makefile'</TT> that the shell script <TT>`configure'</TT> builds.
If you override the <CODE>CC</CODE> make variable and use the MIPS
compilers, you may need to add <SAMP>`-Wf,-XNg1500 -Olimit 3000'</SAMP>.

MIPS computers running RISC-OS can support four different
personalities: default, BSD 4.3, System V.3, and System V.4
(older versions of RISC-OS don't support V.4).  To configure 
<CODE>gcc</CODE> for these platforms use the following configurations:

<DL COMPACT>
<DT><SAMP>`mips-mips-riscos<CODE>rev</CODE>'</SAMP>
<DD>Default configuration for RISC-OS, revision <CODE>rev</CODE>.

<DT><SAMP>`mips-mips-riscos<CODE>rev</CODE>bsd'</SAMP>
<DD>BSD 4.3 configuration for RISC-OS, revision <CODE>rev</CODE>.

<DT><SAMP>`mips-mips-riscos<CODE>rev</CODE>sysv4'</SAMP>
<DD>System V.4 configuration for RISC-OS, revision <CODE>rev</CODE>.

<DT><SAMP>`mips-mips-riscos<CODE>rev</CODE>sysv'</SAMP>
<DD>System V.3 configuration for RISC-OS, revision <CODE>rev</CODE>.
</DL>

The revision <CODE>rev</CODE> mentioned above is the revision of
RISC-OS to use.  You must reconfigure <CODE>gcc</CODE> when going from a
RISC-OS revision 4 to RISC-OS revision 5.  This has the effect of
avoiding a linker
bug (see section <A HREF="usegcc_115.html#SEC118">Installation Problems</A>, for more details).

<DT><SAMP>`mips-sgi-*'</SAMP>
<DD>In order to compile <CODE>gcc</CODE> on an SGI running IRIX 4, the 
"c.hdr.lib" option must be installed from the CD-ROM supplied from Silicon 
Graphics.  This is found on the 2nd CD in release 4.0.1.

In order to compile <CODE>gcc</CODE> on an SGI running IRIX 5, the 
"compiler_dev.hdr" subsystem must be installed from the IDO CD-ROM supplied 
by Silicon Graphics.

<CODE>make compare</CODE> may fail on version 5 of IRIX unless you add
<SAMP>`-save-temps'</SAMP> to <CODE>CFLAGS</CODE>.  On these systems, the name of the
assembler input file is stored in the object file, and that makes
comparison fail if it differs between the <CODE>stage1</CODE> and
<CODE>stage2</CODE> compilations.  The option <SAMP>`-save-temps'</SAMP> forces a
fixed name to be used for the assembler input file, instead of a
randomly chosen name in <TT>`/tmp'</TT>.  Do not add <SAMP>`-save-temps'</SAMP>
unless the comparisons fail without that option.  If you do you
<SAMP>`-save-temps'</SAMP>, you will have to manually delete the <SAMP>`.i'</SAMP> and
<SAMP>`.s'</SAMP> files after each series of compilations.

The MIPS C compiler needs to be told to increase its table size
for switch statements with the <SAMP>`-Wf,-XNg1500'</SAMP> option in
order to compile <TT>`cp/parse.c'</TT>.  If you use the <SAMP>`-O2'</SAMP>
optimization option, you also need to use <SAMP>`-Olimit 3000'</SAMP>.
Both of these options are automatically generated in the
<TT>`Makefile'</TT> that the shell script <TT>`configure'</TT> builds.
If you override the <CODE>CC</CODE> make variable and use the MIPS
compilers, you may need to add <SAMP>`-Wf,-XNg1500 -Olimit 3000'</SAMP>.

On Irix version 4.0.5F, and perhaps on some other versions as well,
there is an assembler bug that reorders instructions incorrectly.  To
work around it, specify the target configuration
<SAMP>`mips-sgi-irix4loser'</SAMP>.  This configuration inhibits assembler
optimization.

In a compiler configured with target <SAMP>`mips-sgi-irix4'</SAMP>, you can turn
off assembler optimization by using the <SAMP>`-noasmopt'</SAMP> option.  This
compiler option passes the option <SAMP>`-O0'</SAMP> to the assembler, to
inhibit reordering.

The <SAMP>`-noasmopt'</SAMP> option can be useful for testing whether a problem
is due to erroneous assembler reordering.  Even if a problem does not go
away with <SAMP>`-noasmopt'</SAMP>, it may still be due to assembler
reordering--perhaps GNU CC itself was miscompiled as a result.

To enable debugging under Irix 5, you must use GNU as 2.5 or later,
and use the <SAMP>`--with-gnu-as'</SAMP> configure option when configuring gcc.
GNU as is distributed as part of the binutils package.  

<DT><SAMP>`mips-sony-sysv'</SAMP>
<DD>Sony MIPS NEWS.  This works in NEWSOS 5.0.1, but not in 5.0.2 (which
uses ELF instead of COFF).  Support for 5.0.2 will probably be provided
soon by volunteers.  In particular, the linker does not like the
code generated by <CODE>gcc</CODE> when shared libraries are linked in.

<DT><SAMP>`ns32k-encore'</SAMP>
<DD>Encore ns32000 system.  Encore systems are supported only under BSD.

<DT><SAMP>`ns32k-*-genix'</SAMP>
<DD>National Semiconductor ns32000 system.  Genix has bugs in <CODE>alloca</CODE>
and <CODE>malloc</CODE>; you must get the compiled versions of these from GNU
Emacs.

<DT><SAMP>`ns32k-sequent'</SAMP>
<DD>Go to the Berkeley universe before compiling.  In addition, you probably
need to create a file named <TT>`string.h'</TT> containing just one line:
<SAMP>`#include &#60;strings.h&#62;'</SAMP>.

<DT><SAMP>`ns32k-utek'</SAMP>
<DD>UTEK ns32000 system ("merlin").  The C compiler that comes with this
system cannot compile GNU CC; contact <SAMP>`tektronix!reed!mason'</SAMP> to get
binaries of GNU CC for bootstrapping.

<DT><SAMP>`romp-*-aos'</SAMP>
<DD><DT><SAMP>`romp-*-mach'</SAMP>
<DD>The only operating systems supported for the IBM RT PC are AOS and
MACH.  GNU CC does not support AIX running on the RT.  We recommend you
compile GNU CC with an earlier version of itself; if you compile GNU CC
with <CODE>hc</CODE>, the Metaware compiler, it will work, but you will get
mismatches between the stage 2 and stage 3 compilers in various files.
These errors are minor differences in some floating-point constants and
can be safely ignored; the stage 3 compiler is correct.

<DT><SAMP>`rs6000-*-aix'</SAMP>
<DD><DT><SAMP>`powerpc-*-aix'</SAMP>
<DD>Various early versions of each release of the IBM XLC compiler will not
bootstrap GNU CC.  Symptoms include differences between the stage2 and
stage3 object files, and errors when compiling <TT>`libgcc.a'</TT> or
<TT>`enquire'</TT>.  Known problematic releases include: xlc-1.2.1.8,
xlc-1.3.0.0 (distributed with AIX 3.2.5), and xlc-1.3.0.19.  Both
xlc-1.2.1.28 and xlc-1.3.0.24 (PTF 432238) are known to produce working
versions of GNU CC, but most other recent releases correctly bootstrap
GNU CC.  Also, releases of AIX prior to AIX 3.2.4 include a version of
the IBM assembler which does not accept debugging directives: assembler
updates are available as PTFs.  See the file <TT>`README.RS6000'</TT> for
more details on both of these problems.

Only AIX is supported on the PowerPC.  GNU CC does not yet support the
64-bit PowerPC instructions.

Objective C does not work on this architecture.

AIX on the RS/6000 provides support (NLS) for environments outside of
the United States.  Compilers and assemblers use NLS to support
locale-specific representations of various objects including
floating-point numbers ("." vs "," for separating decimal fractions).
There have been problems reported where the library linked with GNU CC
does not produce the same floating-point formats that the assembler
accepts.  If you have this problem, set the LANG environment variable to
"C" or "En_US".

<DT><SAMP>`powerpc-*-elf'</SAMP>
<DD><DT><SAMP>`powerpc-*-sysv4'</SAMP>
<DD>PowerPC system in big endian mode, running System V.4.  This system is
currently under development.

<DT><SAMP>`powerpc-*-eabi'</SAMP>
<DD>Embedded PowerPC system in big endian mode.  This system is currently
under development.

<DT><SAMP>`powerpcle-*-elf'</SAMP>
<DD><DT><SAMP>`powerpcle-*-eabi'</SAMP>
<DD>PowerPC system in little endian mode, running System V.4.  This system
is currently under development.

<DT><SAMP>`powerpcle-*-sysv4'</SAMP>
<DD>Embedded PowerPC system in little endian mode.  This system is currently
under development.

<DT><SAMP>`vax-dec-ultrix'</SAMP>
<DD>Don't try compiling with Vax C (<CODE>vcc</CODE>).  It produces incorrect code
in some cases (for example, when <CODE>alloca</CODE> is used).

Meanwhile, compiling <TT>`cp/parse.c'</TT> with pcc does not work because of
an internal table size limitation in that compiler.  To avoid this
problem, compile just the GNU C compiler first, and use it to recompile 
building all the languages that you want to run.

<DT><SAMP>`sparc-sun-*'</SAMP>
<DD>See section <A HREF="usegcc_53.html#SEC56">Installing GNU CC on the Sun</A>, for information on installing GNU CC on Sun
systems.

<DT><SAMP>`vax-dec-vms'</SAMP>
<DD>See section <A HREF="usegcc_54.html#SEC57">Installing GNU CC on VMS</A>, for details on how to install GNU CC on VMS.

<DT><SAMP>`we32k-*-*'</SAMP>
<DD>These computers are also known as the 3b2, 3b5, 3b20 and other similar
names.  (However, the 3b1 is actually a 68000; see
section <A HREF="usegcc_44.html#SEC47">Configurations Supported by GNU CC</A>.)

Don't use <SAMP>`-g'</SAMP> when compiling with the system's compiler.  The
system's linker seems to be unable to handle such a large program with
debugging information.

The system's compiler runs out of capacity when compiling <TT>`stmt.c'</TT>
in GNU CC.  You can work around this by building <TT>`cpp'</TT> in GNU CC
first, then use that instead of the system's preprocessor with the
system's C compiler to compile <TT>`stmt.c'</TT>.  Here is how:

<PRE>
mv /lib/cpp /lib/cpp.att
cp cpp /lib/cpp.gnu
echo '/lib/cpp.gnu -traditional ${1+"$@"}' &#62; /lib/cpp
chmod +x /lib/cpp
</PRE>

The system's compiler produces bad code for some of the GNU CC
optimization files.  So you must build the stage 2 compiler without
optimization.  Then build a stage 3 compiler with optimization.
That executable should work.  Here are the necessary commands:

<PRE>
make LANGUAGES=c CC=stage1/xgcc CFLAGS="-Bstage1/ -g"
make stage2
make CC=stage2/xgcc CFLAGS="-Bstage2/ -g -O"
</PRE>

You may need to raise the ULIMIT setting to build a C++ compiler,
as the file <TT>`cc1plus'</TT> is larger than one megabyte.
</DL>
<P>
<HR>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_43.html">previous</A>, <A HREF="usegcc_45.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
</BODY>
</HTML>
