<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.35
     from rebuilding.texi on 19 October 1995 -->

<TITLE>Rebuilding From Source - setting prefix/exec-prefix and srcdir</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="rebuilding_1.html">first</A>, <A HREF="rebuilding_24.html">previous</A>, <A HREF="rebuilding_26.html">next</A>, <A HREF="rebuilding_26.html">last</A> section, <A HREF="rebuilding_toc.html">table of contents</A>.
<HR>


<H3><A NAME="SEC24" HREF="rebuilding_toc.html#SEC24">Example: setting <VAR>prefix</VAR>/<VAR>exec-prefix</VAR> and <VAR>srcdir</VAR></A></H3>

<P>
This example shows different source and object directories, as well as
different installation directories from the default.  The defaults for
this example are as follows (the <VAR>release</VAR> is shown as <SAMP>`94q4'</SAMP>):

</P>

<PRE>
prefix       <EM>set on command line</EM>
exec-prefix  <EM>set on command line</EM>
                 <EM>(we show the <VAR>hosttype</VAR> as <SAMP>`sparc-sun-sunos4.1.3'</SAMP>)</EM>
target       <EM>nonexistent by default; cross example uses <TT>`m68k-coff'</TT></EM>
srcdir       <EM>example shows <TT>`/usr/local/src'</TT></EM>
objdir       <EM>example shows <TT>`/usr/local/obj/native'</TT> and
                                 <TT>`/usr/local/obj/m68k-coff'</TT></EM>
release      <EM>shown on distribution tape (example uses <SAMP>`94q4'</SAMP>)</EM>
</PRE>

<P>
The native and cross examples show a complete walk-through for each type
of build.  (The only difference is the use of the <SAMP>`--target'</SAMP>
option to <CODE>configure</CODE> for a cross-development toolkit.  We'll use
<SAMP>`m68k-coff'</SAMP> as an example for building a cross-development
toolkit.)

</P>
<P>
<EM>Note:</EM> The use of <SAMP>`--srcdir'</SAMP> is redundant, as the default
source directory is the one in which <CODE>configure</CODE> itself resides.
We show it here for the purposes of the example.  Builds are shown
independently; for an example of a simultaneous build, see section <A HREF="rebuilding_26.html#SEC25">Multiple simultaneous builds</A>.   <EM>This option
is only supported when you use GNU <CODE>make</CODE>.</EM>

</P>
<P>
<EM>Native:</EM>
@let@nonarrowing=@comment

<PRE>
$ cd /usr/local/obj/native
$ /usr/local/src/configure --srcdir=/usr/local/src \
    --prefix=/usr/local/94q4 --exec-prefix=/usr/local/94q4/H-sun4
Configuring for a sparc-sun-sunos4.1.3_U1 host.
...<EM>time passes</EM>...
$ make all info &#62; ./make.log
...<EM>time passes</EM>...
$ su        <EM>(may need root priviledge to install in <TT>`/usr'</TT>)</EM>
# mkdir /usr/local/94q4
# make install install-info &#62;&#62; ./make.log
# ln -s /usr/local/94q4 /usr/local/progressive
# ln -s /usr/local/94q4/H-sun4 /usr/progressive
# exit
$ ls /usr/progressive/bin
ar              gcov            objdump
as              gdb             patch
byacc           genclass        ranlib
c++             gperf           sdiff
c++filt         gprof           send-pr
cmp             info            size
diff            install-sid     sparc-sun-sunos4.1.3-gcc
diff3           ld              strings
flex            make            strip
g++             makeinfo        texi2dvi
gasp            nm              texindex
gcc             objcopy         
</PRE>

<P>
<EM>Cross:</EM>

<PRE>
$ cd /usr/local/obj/m68k-coff
$ /usr/local/src/configure --target=m68k-coff --srcdir=/usr/local/src \
    --prefix=/usr/local/94q4 --exec-prefix=/usr/local/94q4/H-sun4
Configuring for a sparc-sun-sunos4.1.3_U1 host.
...<EM>time passes</EM>...
$ make all info &#62; ./make.log
...<EM>time passes</EM>...
$ su        <EM>(may need root priviledge to install in <TT>`/usr'</TT>)</EM>
# mkdir /usr/local/94q4
# make install install-info &#62;&#62; ./make.log
# ln -s /usr/local/94q4 /usr/local/progressive
# ln -s /usr/local/progressive/H-sun4 /usr/progressive
# exit
$ ls /usr/progressive/bin
byacc     install-sid        m68k-coff-gdb      m68k-coff-strip
cmp       m68k-coff-ar       m68k-coff-ld       make
diff      m68k-coff-as       m68k-coff-nm       makeinfo
diff3     m68k-coff-c++      m68k-coff-objcopy  patch
flex      m68k-coff-c++filt  m68k-coff-objdump  sdiff
gcov      m68k-coff-g++      m68k-coff-ranlib   send-pr
genclass  m68k-coff-gasp     m68k-coff-size     texi2dvi
info      m68k-coff-gcc      m68k-coff-strings  texindex
</PRE>

<P>
@let@nonarrowing=@relax

</P>
<P>
In either of the above examples, you must set your <CODE>PATH</CODE>
environment variable to include <TT>`/usr/progressive/bin'</TT> in order
to access the tools easily.

</P>
<HR>
Go to the <A HREF="rebuilding_1.html">first</A>, <A HREF="rebuilding_24.html">previous</A>, <A HREF="rebuilding_26.html">next</A>, <A HREF="rebuilding_26.html">last</A> section, <A HREF="rebuilding_toc.html">table of contents</A>.
</BODY>
</HTML>
