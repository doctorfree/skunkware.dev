<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from libc.texinfo on 9 October 1995 -->

<TITLE>The Cygnus C Support Library - strtol</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_23.html">previous</A>, <A HREF="libc_25.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX39"></A>
<A NAME="IDX40"></A>
<H2><A NAME="SEC24" HREF="libc_toc.html#TOC24"><CODE>strtol</CODE>---string to long</A></H2>
<STRONG>Synopsis</STRONG>
<PRE>
#include &#60;stdlib.h&#62;
long strtol(const char *<VAR>s</VAR>, char **<VAR>ptr</VAR>,int <VAR>base</VAR>);

long _strtol_r(void *<VAR>reent</VAR>, 
    const char *<VAR>s</VAR>, char **<VAR>ptr</VAR>,int <VAR>base</VAR>);

</PRE>
<STRONG>Description</STRONG><BR>
The function <CODE>strtol</CODE> converts the string <CODE>*<VAR>s</VAR></CODE> to
a <CODE>long</CODE>. First, it breaks down the string into three parts:
leading whitespace, which is ignored; a subject string consisting
of characters resembling an integer in the radix specified by <VAR>base</VAR>;
and a trailing portion consisting of zero or more unparseable characters,
and always including the terminating null character. Then, it attempts
to convert the subject string into a <CODE>long</CODE> and returns the
result.
<P>
If the value of <VAR>base</VAR> is 0, the subject string is expected to look
like a normal C integer constant: an optional sign, a possible `<CODE>0x</CODE>'
indicating a hexadecimal base, and a number. If <VAR>base</VAR> is between
2 and 36, the expected form of the subject is a sequence of letters
and digits representing an integer in the radix specified by <VAR>base</VAR>,
with an optional plus or minus sign. The letters <CODE>a</CODE>--<CODE>z</CODE> (or,
equivalently, <CODE>A</CODE>--<CODE>Z</CODE>) are used to signify values from 10 to 35;
only letters whose ascribed values are less than <VAR>base</VAR> are
permitted. If <VAR>base</VAR> is 16, a leading <CODE>0x</CODE> is permitted.
<P>
The subject sequence is the longest initial sequence of the input
string that has the expected form, starting with the first
non-whitespace character.  If the string is empty or consists entirely
of whitespace, or if the first non-whitespace character is not a
permissible letter or digit, the subject string is empty.
<P>
If the subject string is acceptable, and the value of <VAR>base</VAR> is zero,
<CODE>strtol</CODE> attempts to determine the radix from the input string. A
string with a leading <CODE>0x</CODE> is treated as a hexadecimal value; a string with
a leading 0 and no <CODE>x</CODE> is treated as octal; all other strings are
treated as decimal. If <VAR>base</VAR> is between 2 and 36, it is used as the
conversion radix, as described above. If the subject string begins with
a minus sign, the value is negated. Finally, a pointer to the first
character past the converted subject string is stored in <VAR>ptr</VAR>, if
<VAR>ptr</VAR> is not <CODE>NULL</CODE>.
<P>
If the subject string is empty (or not in acceptable form), no conversion
is performed and the value of <VAR>s</VAR> is stored in <VAR>ptr</VAR> (if <VAR>ptr</VAR> is
not <CODE>NULL</CODE>).
<P>
The alternate function <CODE>_strtol_r</CODE> is a reentrant version.  The
extra argument <VAR>reent</VAR> is a pointer to a reentrancy structure.
<P>
<BR>
<STRONG>Returns</STRONG><BR>
<CODE>strtol</CODE> returns the converted value, if any. If no conversion was
made, 0 is returned.
<P>
<CODE>strtol</CODE> returns <CODE>LONG_MAX</CODE> or <CODE>LONG_MIN</CODE> if the magnitude of
the converted value is too large, and sets <CODE>errno</CODE> to <CODE>ERANGE</CODE>.
<P>
<BR>
<STRONG>Portability</STRONG><BR>
<CODE>strtol</CODE> is ANSI.
<P>
No supporting OS subroutines are required.
<P>
<BR>
<P>
<HR>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_23.html">previous</A>, <A HREF="libc_25.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
