<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from embed.texi on 19 October 1995 -->

<TITLE>Embed With GNU - Fcopts</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_4.html">previous</A>, <A HREF="embed_6.html">next</A>, <A HREF="embed_44.html">last</A> section, <A HREF="embed_toc.html">table of contents</A>.
<HR>
<H4><A NAME="SEC5" HREF="embed_toc.html#TOC5">Compiler options</A></H4>
<P>
When you run <CODE>GCC</CODE>, you can use command-line options to choose
machine-specific details.  For information on all the <CODE>GCC</CODE> command-line
options, see section `GNU CC Command Options' in <CITE>Using GNU CC</CITE>.
<P>
<H3>GCC options for architecture and code generation</H3>
<P>
Some special compiler command-line options are available for
<CODE>SPARClite</CODE>; in addition, the machine-dependent options already
present for SPARC in general continue to be available.  Both kinds of
options are described in section `SPARC Options' in <CITE>Using GNU CC</CITE>.
<P>
<DL COMPACT>
<DT><CODE>-msparclite</CODE>
<DD>The SPARC configurations of <CODE>GCC</CODE> generate code for the 
common subset of the instruction set: the v7 variant of the SPARC 
architecture.

<SAMP>`-msparclite'</SAMP> (which is on automatically for any of the
<CODE>SPARClite</CODE> configurations) gives you <CODE>SPARClite</CODE> code.  
This adds the integer multiply (<CODE>smul</CODE> and <CODE>umul</CODE>, just as in 
SPARC v8), integer divide-step (<CODE>divscc</CODE>), and scan (<CODE>scan</CODE>) 
instructions which exist in <CODE>SPARClite</CODE> but not in SPARC v7.

Using <SAMP>`-msparclite'</SAMP> when you run the compiler does <EM>not</EM>,
however, give you floating point code that uses the entry points for US
Software's GOFAST library.  


<DT><CODE>-mv8</CODE>
<DD><SAMP>`-mv8'</SAMP> gives you SPARC v8 code.  The only difference from v7 code
is that the compiler emits the integer multiply (<CODE>smul</CODE> and
<CODE>umul</CODE>) and integer divide (<CODE>sdiv</CODE> and <CODE>udiv</CODE>)
instructions which exist in SPARC v8 but not in SPARC v7.

<DT><CODE>-mf930</CODE>
<DD>Generate code specifically intended for the Fujitsu MB86930, a 
<CODE>SPARClite</CODE> chip without an FPU.  This option is equivalent to the 
combination <SAMP>`-msparclite -mno-fpu'</SAMP>.

<SAMP>`-mf930'</SAMP> is the default when the compiler is configured
specifically for <CODE>SPARClite</CODE>.

<DT><CODE>-mf934</CODE>
<DD>Generate code specifically for the Fujitsu MB86934, a <CODE>SPARClite</CODE> chip
<EM>with</EM> an FPU.  This option is equivalent to <SAMP>`-msparclite'</SAMP>.

<DT><CODE>-mflat</CODE>
<DD>Does not use register windows in function calls.  
</DL>
<P>
The following command line options are available for both 
<CODE>SPARClite</CODE> and other SPARC configurations of the compiler.  
See section `SPARC Options' in <CITE>Using GNU CC</CITE>.
<P>
<DL COMPACT>
<DT><CODE>-mno-epilogue</CODE>
<DD><DT><CODE>-mepilogue</CODE>
<DD>With <SAMP>`-mepilogue'</SAMP> (the default), the compiler always emits code for
function exit at the end of each function.  Any function exit in
the middle of the function (such as a return statement in C) will
generate a jump to the exit code at the end of the function.

With <SAMP>`-mno-epilogue'</SAMP>, the compiler tries to emit exit code inline
at every function exit.

The Cygnus Support compiler specialists recommend avoiding
<SAMP>`-mno-epilogue'</SAMP>.
</DL>
<P>
<H3>GCC options for floating point</H3>
<P>
When you run the compiler, you can specify whether to compile for
hardware or software floating point configurations with these 
<CODE>GCC</CODE> command-line options:
<P>
<DL COMPACT>
<DT><CODE>-mfpu</CODE>
<DD><DT><CODE>-mhard-float</CODE>
<DD>Generate output containing floating point instructions.  This is the
default.

<DT><CODE>-mflat</CODE>
<DD>Use flat register windows.

<DT><CODE>-msoft-float</CODE>
<DD><DT><CODE>-mno-fpu</CODE>
<DD>Generate output containing library calls for floating point.
The SPARC configurations of <TT>`libgcc'</TT> include a collection of
subroutines to implement these library calls.

In particular, the <CODE>SPARClite</CODE> <CODE>GCC</CODE> configurations 
generate subroutine calls compatible with the US Software <TT>`goFast.a'</TT> 
floating point library, giving you the opportunity to use either the 
<TT>`libgcc'</TT> implementation or the US Software version.

To use the US Software library, simply include <SAMP>`-lgoFast'</SAMP> on the
<CODE>GCC</CODE> command line.

To use the <TT>`libgcc'</TT> version, you need nothing special; <CODE>GCC</CODE> 
links with <TT>`libgcc'</TT> automatically after all other object files and
libraries.
</DL>
<P>
<H3>Floating point subroutines</H3>
<P>
Two kinds of floating point subroutines are useful with <CODE>GCC</CODE>:
<P>
<OL>
<LI>
Software implementations of the basic functions (floating-point
multiply, divide, add, subtract), for use when there is no hardware
floating-point support.

When you indicate that no hardware floating point is available (with
either of the <CODE>GCC</CODE> options <SAMP>`-msoft-float'</SAMP> or 
<SAMP>`-mno-fpu'</SAMP>), the <CODE>SPARClite</CODE> configurations of 
<CODE>GCC</CODE> generate calls compatible with the U.S. Software 
GOFAST library.  If you do not have this library, you can still use 
software floating point; <TT>`libgcc'</TT>, the auxiliary library distributed with 
<CODE>GCC</CODE>, includes compatible--though slower--subroutines.

<LI>
General-purpose mathematical subroutines.

The Developer's Kit from Cygnus Support includes an implementation of
the standard C mathematical subroutine library.  See section `Mathematical Functions' in <CITE>The Cygnus C Math Library</CITE>.
</OL>
<P>
<HR>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_4.html">previous</A>, <A HREF="embed_6.html">next</A>, <A HREF="embed_44.html">last</A> section, <A HREF="embed_toc.html">table of contents</A>.
</BODY>
</HTML>
