<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from embed.texi on 19 October 1995 -->

<TITLE>Embed With GNU - Fdebug</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_6.html">previous</A>, <A HREF="embed_8.html">next</A>, <A HREF="embed_44.html">last</A> section, <A HREF="embed_toc.html">table of contents</A>.
<HR>
<H3><A NAME="SEC7" HREF="embed_toc.html#TOC7">Debugging on Fujitsu SPARClite targets</A></H3>
<P>
GDB needs to know these things to talk to your Fujitsu 
<CODE>SPARClite</CODE>:
<P>
<OL>
<LI>
that you want to use:

<UL>
<LI>
<SAMP>`target remote'</SAMP>, the remote debugging interface for the Fujitsu
<CODE>SPARClite</CODE> microprocessor.
</UL>

<LI>
what serial device connects your host to your Fujitsu <CODE>SPARClite</CODE> 
board (the first serial device available on your host is the default).

<LI>
what speed to use over the serial device.
</OL>
<P>
Use one of these GDB commands to specify the connection to your target 
board:
<P>
<DL COMPACT>
<DT><CODE>target sparclite <VAR>port</VAR></CODE>
<DD>To run a program on the board, start up GDB with the name of your
program as the argument.  To connect to the board, use the command
<SAMP>`target sparclite <VAR>port</VAR>'</SAMP>, where <VAR>port</VAR> is the name of the
serial port connected to the board.  If the program has not already been
downloaded to the board, use the <CODE>load</CODE> command to download
it.  

For example, this sequence connects to the target board through a serial
port, and loads and runs a program called <VAR>prog</VAR> through the
debugger:

<PRE>
(gdb) target sparclite com1
[SPARClite appears to be alive]
(gdb) load
[Loading section .text at 0x40000000 (9160 bytes)]
[Loading section .data at 0x400023c8 (96 bytes)]
[Starting hello at 0x40000020]
</PRE>

<CODE>target sparclite</CODE> allows loading, but no other operations.
This sequence uses <CODE>target remote</CODE> to debug:

<PRE>
(gdb) target remote com1
Remote debugging using com1
breakinst () ../sparcl-stub.c:975
975     }
(gdb) s
main () hello.c:50
50        writez(1, "Got to here\n");
(gdb) 
</PRE>

<DT><CODE>target sparclite <VAR>hostname</VAR>:<VAR>portnumber</VAR></CODE>
<DD>You can specify a TCP/IP connection instead of a serial port, using the syntax
<CODE><VAR>hostname</VAR>:<VAR>portnumber</VAR></CODE> (assuming your <CODE>SPARClite</CODE> 
board is connected so that this makes sense; for instance, to a serial line
managed by a terminal concentrator).
</DL>
<P>
GDB also supports:
<P>
<DL COMPACT>
<DT><CODE>set remotedebug <VAR>n</VAR></CODE>
<DD>You can see some debugging information about communications with the board
by setting the <CODE>remotedebug</CODE> variable. 
</DL>
<P>
<HR>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_6.html">previous</A>, <A HREF="embed_8.html">next</A>, <A HREF="embed_44.html">last</A> section, <A HREF="embed_toc.html">table of contents</A>.
</BODY>
</HTML>
