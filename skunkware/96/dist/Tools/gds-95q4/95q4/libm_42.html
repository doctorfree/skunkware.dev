<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from libm.texinfo on 9 October 1995 -->

<TITLE>The Cygnus C Math Library - Reentrancy</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libm_1.html">first</A>, <A HREF="libm_41.html">previous</A>, <A HREF="libm_43.html">next</A>, <A HREF="libm_43.html">last</A> section, <A HREF="libm_toc.html">table of contents</A>.
<HR>
<H1><A NAME="SEC42" HREF="libm_toc.html#TOC42">Reentrancy Properties of <CODE>libm</CODE></A></H1>
<A NAME="IDX108"></A>
<A NAME="IDX109"></A>
<P>
When a math function detects an error, it sets the static variable
<CODE>errno</CODE>.  Depending upon the severity of the error, it may also
print a message to <CODE>stderr</CODE>.  None of this behavior is reentrant.
When one process detects an error, it sets <CODE>errno</CODE>.  If another
process is testing <CODE>errno</CODE>, it detects the change and probably
fails.  Note that failing system calls can also set <CODE>errno</CODE>.  This
problem can only be fixed by either ignoring <CODE>errno</CODE>, or treating
it as part of the context of a process and switching it along with the
rest of a processor state.  In normal debugged programs, there are
usually no math subroutine errors--and therefore no <CODE>matherr</CODE>
calls; in that situation, the math functions behave reentrantly.
<P>
As an alternative, you can use the reentrant versions of the
mathematical functions: these versions have a different name, normally
formed by prepending <SAMP>`_'</SAMP> and appending <SAMP>`_r'</SAMP>, and use an extra
argument--a pointer to the particular reentrancy structure to use.
See section `Reentrancy' in <CITE>The Cygnus C Support Library</CITE>,
for more discussion of this approach to reentrancy.
<P>
The reentrancy structure is always an additional first argument; for
example, the reentrant version of <SAMP>`double acos (double <VAR>x</VAR>)'</SAMP> is
<SAMP>`double _acos_r (void *<VAR>reent</VAR>, double <VAR>x</VAR>)'</SAMP>.
<A NAME="IDX110"></A>
<A NAME="IDX111"></A>
<A NAME="IDX112"></A>
<A NAME="IDX113"></A>
<A NAME="IDX114"></A>
<A NAME="IDX115"></A>
<A NAME="IDX116"></A>
<A NAME="IDX117"></A>
<A NAME="IDX118"></A>
<A NAME="IDX119"></A>
<A NAME="IDX120"></A>
<A NAME="IDX121"></A>
<A NAME="IDX122"></A>
<A NAME="IDX123"></A>
<A NAME="IDX124"></A>
<A NAME="IDX125"></A>
<A NAME="IDX126"></A>
<A NAME="IDX127"></A>
<A NAME="IDX128"></A>
<A NAME="IDX129"></A>
<A NAME="IDX130"></A>
<A NAME="IDX131"></A>
<A NAME="IDX132"></A>
<A NAME="IDX133"></A>
<A NAME="IDX134"></A>
<A NAME="IDX135"></A>
<A NAME="IDX136"></A>
<A NAME="IDX137"></A>
<A NAME="IDX138"></A>
<A NAME="IDX139"></A>
<A NAME="IDX140"></A>
<A NAME="IDX141"></A>
<A NAME="IDX142"></A>
<A NAME="IDX143"></A>
<A NAME="IDX144"></A>
<A NAME="IDX145"></A>
<A NAME="IDX146"></A>
<A NAME="IDX147"></A>
<A NAME="IDX148"></A>
<A NAME="IDX149"></A>
<A NAME="IDX150"></A>
<A NAME="IDX151"></A>
<A NAME="IDX152"></A>
<A NAME="IDX153"></A>
<A NAME="IDX154"></A>
<A NAME="IDX155"></A>
<A NAME="IDX156"></A>
<A NAME="IDX157"></A>
<A NAME="IDX158"></A>
<P>
Here is a list of the names for reentrant versions of the
mathematical library functions:
<P>
<PRE>
_acos_r            _gammaf_r_r           _log10f_r   
_acosf_r           _hypot_r              _log_r      
_acosh_r           _hypotf_r             _logf_r     
_acoshf_r          _j0_r                 _pow_r      
_asin_r            _j0f_r                _powf_r     
_asinf_r           _j1_r                 _remainder_r
_atanh_r           _j1f_r                _sinh_r     
_atanhf_r          _jn_r                 _sinhf_r    
_cosh_r            _jnf_r                _sqrt_r     
_coshf_r           _ldexp_r              _sqrtf_r    
_exp_r             _ldexpf_r             _y0_r       
_expf_r            _lgamma_r             _y0f_r      
_fmod_r            _lgamma_r_r           _y1_r       
_fmodf_r           _lgammaf_r            _y1f_r      
_gamma_r           _lgammaf_r_r          _yn_r       
_gamma_r_r         _log10_r              _ynf_r      
_gammaf_r
</PRE>
<P>
<HR>
Go to the <A HREF="libm_1.html">first</A>, <A HREF="libm_41.html">previous</A>, <A HREF="libm_43.html">next</A>, <A HREF="libm_43.html">last</A> section, <A HREF="libm_toc.html">table of contents</A>.
</BODY>
</HTML>
