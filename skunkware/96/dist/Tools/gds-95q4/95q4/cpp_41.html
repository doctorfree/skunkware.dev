<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from cpp.texi on 6 October 1995 -->

<TITLE>The C Preprocessor - Invocation</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="cpp_1.html">first</A>, <A HREF="cpp_40.html">previous</A>, <A HREF="cpp_42.html">next</A>, <A HREF="cpp_43.html">last</A> section, <A HREF="cpp_toc.html">table of contents</A>.
<HR>
<A NAME="IDX99"></A>
<H2><A NAME="SEC42" HREF="cpp_toc.html#TOC42">Invoking the C Preprocessor</A></H2>
<P>
Most often when you use the C preprocessor you will not have to invoke it
explicitly: the C compiler will do so automatically.  However, the
preprocessor is sometimes useful on its own.
<P>
The C preprocessor expects two file names as arguments, <VAR>infile</VAR> and
<VAR>outfile</VAR>.  The preprocessor reads <VAR>infile</VAR> together with any other
files it specifies with <SAMP>`#include'</SAMP>.  All the output generated by the
combined input files is written in <VAR>outfile</VAR>.
<P>
Either <VAR>infile</VAR> or <VAR>outfile</VAR> may be <SAMP>`-'</SAMP>, which as <VAR>infile</VAR>
means to read from standard input and as <VAR>outfile</VAR> means to write to
standard output.  Also, if <VAR>outfile</VAR> or both file names are omitted,
the standard output and standard input are used for the omitted file names.
<A NAME="IDX100"></A>
<P>
Here is a table of command options accepted by the C preprocessor.
These options can also be given when compiling a C program; they are
passed along automatically to the preprocessor when it is invoked by the
compiler.
<P>
<A NAME="IDX101"></A>
<DL COMPACT>
<DT><SAMP>`-P'</SAMP>
<DD>Inhibit generation of <SAMP>`#'</SAMP>-lines with line-number information in
the output from the preprocessor (see section <A HREF="cpp_40.html#SEC41">C Preprocessor Output</A>).  This might be
useful when running the preprocessor on something that is not C code
and will be sent to a program which might be confused by the
<SAMP>`#'</SAMP>-lines.

<A NAME="IDX102"></A>
<DT><SAMP>`-C'</SAMP>
<DD>Do not discard comments: pass them through to the output file.
Comments appearing in arguments of a macro call will be copied to the
output before the expansion of the macro call.

<A NAME="IDX103"></A>
<DT><SAMP>`-traditional'</SAMP>
<DD>Try to imitate the behavior of old-fashioned C, as opposed to ANSI C.

<UL>
<DT><SAMP>`'</SAMP>
<DD>Traditional macro expansion pays no attention to singlequote or
doublequote characters; macro argument symbols are replaced by the
argument values even when they appear within apparent string or
character constants.

<DT><SAMP>`'</SAMP>
<DD>Traditionally, it is permissible for a macro expansion to end in the
middle of a string or character constant.  The constant continues into
the text surrounding the macro call.

<DT><SAMP>`'</SAMP>
<DD>However, traditionally the end of the line terminates a string or
character constant, with no error.

<DT><SAMP>`'</SAMP>
<DD>In traditional C, a comment is equivalent to no text at all.  (In ANSI
C, a comment counts as whitespace.)

<DT><SAMP>`'</SAMP>
<DD>Traditional C does not have the concept of a "preprocessing number".
It considers <SAMP>`1.0e+4'</SAMP> to be three tokens: <SAMP>`1.0e'</SAMP>, <SAMP>`+'</SAMP>,
and <SAMP>`4'</SAMP>.

<DT><SAMP>`'</SAMP>
<DD>A macro is not suppressed within its own definition, in traditional C.
Thus, any macro that is used recursively inevitably causes an error.

<DT><SAMP>`'</SAMP>
<DD>The character <SAMP>`#'</SAMP> has no special meaning within a macro definition
in traditional C.

<DT><SAMP>`'</SAMP>
<DD>In traditional C, the text at the end of a macro expansion can run
together with the text after the macro call, to produce a single token.
(This is impossible in ANSI C.)

<DT><SAMP>`'</SAMP>
<DD>Traditionally, <SAMP>`\'</SAMP> inside a macro argument suppresses the syntactic
significance of the following character.
</UL>

<A NAME="IDX104"></A>
<DT><SAMP>`-trigraphs'</SAMP>
<DD>Process ANSI standard trigraph sequences.  These are three-character
sequences, all starting with <SAMP>`??'</SAMP>, that are defined by ANSI C to
stand for single characters.  For example, <SAMP>`??/'</SAMP> stands for
<SAMP>`\'</SAMP>, so <SAMP>`'??/n''</SAMP> is a character constant for a newline.
Strictly speaking, the GNU C preprocessor does not support all
programs in ANSI Standard C unless <SAMP>`-trigraphs'</SAMP> is used, but if
you ever notice the difference it will be with relief.

You don't want to know any more about trigraphs.

<A NAME="IDX105"></A>
<DT><SAMP>`-pedantic'</SAMP>
<DD>Issue warnings required by the ANSI C standard in certain cases such
as when text other than a comment follows <SAMP>`#else'</SAMP> or <SAMP>`#endif'</SAMP>.

<A NAME="IDX106"></A>
<DT><SAMP>`-pedantic-errors'</SAMP>
<DD>Like <SAMP>`-pedantic'</SAMP>, except that errors are produced rather than
warnings.

<A NAME="IDX107"></A>
<DT><SAMP>`-Wtrigraphs'</SAMP>
<DD>Warn if any trigraphs are encountered (assuming they are enabled).

<A NAME="IDX108"></A>
<DT><SAMP>`-Wcomment'</SAMP>
<DD>Warn whenever a comment-start sequence <SAMP>`/*'</SAMP> appears in a comment.

<A NAME="IDX109"></A>
<DT><SAMP>`-Wall'</SAMP>
<DD>Requests both <SAMP>`-Wtrigraphs'</SAMP> and <SAMP>`-Wcomment'</SAMP> (but not
<SAMP>`-Wtraditional'</SAMP>). 

<A NAME="IDX110"></A>
<DT><SAMP>`-Wtraditional'</SAMP>
<DD>Warn about certain constructs that behave differently in traditional and
ANSI C.

<A NAME="IDX111"></A>
<DT><SAMP>`-I <VAR>directory</VAR>'</SAMP>
<DD>Add the directory <VAR>directory</VAR> to the head of the list of
directories to be searched for header files (see section <A HREF="cpp_5.html#SEC6">The <SAMP>`#include'</SAMP> Directive</A>).
This can be used to override a system header file, substituting your
own version, since these directories are searched before the system
header file directories.  If you use more than one <SAMP>`-I'</SAMP> option,
the directories are scanned in left-to-right order; the standard
system directories come after.

<DT><SAMP>`-I-'</SAMP>
<DD>Any directories specified with <SAMP>`-I'</SAMP> options before the <SAMP>`-I-'</SAMP>
option are searched only for the case of <SAMP>`#include "<VAR>file</VAR>"'</SAMP>;
they are not searched for <SAMP>`#include &#60;<VAR>file</VAR>&#62;'</SAMP>.

If additional directories are specified with <SAMP>`-I'</SAMP> options after
the <SAMP>`-I-'</SAMP>, these directories are searched for all <SAMP>`#include'</SAMP>
directives.

In addition, the <SAMP>`-I-'</SAMP> option inhibits the use of the current
directory as the first search directory for <SAMP>`#include "<VAR>file</VAR>"'</SAMP>.
Therefore, the current directory is searched only if it is requested
explicitly with <SAMP>`-I.'</SAMP>.  Specifying both <SAMP>`-I-'</SAMP> and <SAMP>`-I.'</SAMP>
allows you to control precisely which directories are searched before
the current one and which are searched after.

<A NAME="IDX112"></A>
<DT><SAMP>`-nostdinc'</SAMP>
<DD>Do not search the standard system directories for header files.
Only the directories you have specified with <SAMP>`-I'</SAMP> options
(and the current directory, if appropriate) are searched.

<A NAME="IDX113"></A>
<DT><SAMP>`-nostdinc++'</SAMP>
<DD>Do not search for header files in the C++-specific standard directories,
but do still search the other standard directories.
(This option is used when building libg++.)

<A NAME="IDX114"></A>
<DT><SAMP>`-D <VAR>name</VAR>'</SAMP>
<DD>Predefine <VAR>name</VAR> as a macro, with definition <SAMP>`1'</SAMP>.

<DT><SAMP>`-D <VAR>name</VAR>=<VAR>definition</VAR>'</SAMP>
<DD>Predefine <VAR>name</VAR> as a macro, with definition <VAR>definition</VAR>.
There are no restrictions on the contents of <VAR>definition</VAR>, but if
you are invoking the preprocessor from a shell or shell-like program you
may need to use the shell's quoting syntax to protect characters such as
spaces that have a meaning in the shell syntax.  If you use more than
one <SAMP>`-D'</SAMP> for the same <VAR>name</VAR>, the rightmost definition takes
effect.

<A NAME="IDX115"></A>
<DT><SAMP>`-U <VAR>name</VAR>'</SAMP>
<DD>Do not predefine <VAR>name</VAR>.  If both <SAMP>`-U'</SAMP> and <SAMP>`-D'</SAMP> are
specified for one name, the <SAMP>`-U'</SAMP> beats the <SAMP>`-D'</SAMP> and the name
is not predefined.

<A NAME="IDX116"></A>
<DT><SAMP>`-undef'</SAMP>
<DD>Do not predefine any nonstandard macros.

<A NAME="IDX117"></A>
<DT><SAMP>`-A <VAR>predicate</VAR>(<VAR>answer</VAR>)'</SAMP>
<DD>Make an assertion with the predicate <VAR>predicate</VAR> and answer
<VAR>answer</VAR>.  See section <A HREF="cpp_36.html#SEC37">Assertions</A>.

You can use <SAMP>`-A-'</SAMP> to disable all predefined assertions; it also
undefines all predefined macros that identify the type of target system.

<A NAME="IDX118"></A>
<DT><SAMP>`-dM'</SAMP>
<DD>Instead of outputting the result of preprocessing, output a list of
<SAMP>`#define'</SAMP> directives for all the macros defined during the
execution of the preprocessor, including predefined macros.  This gives
you a way of finding out what is predefined in your version of the
preprocessor; assuming you have no file <SAMP>`foo.h'</SAMP>, the command

<PRE>
touch foo.h; cpp -dM foo.h
</PRE>

shows the values of any predefined macros.

<A NAME="IDX119"></A>
<DT><SAMP>`-dD'</SAMP>
<DD>Like <SAMP>`-dM'</SAMP> except in two respects: it does <EM>not</EM> include the
predefined macros, and it outputs <EM>both</EM> the <SAMP>`#define'</SAMP>
directives and the result of preprocessing.  Both kinds of output go to
the standard output file.

<A NAME="IDX120"></A>
<DT><SAMP>`-M [-MG]'</SAMP>
<DD>Instead of outputting the result of preprocessing, output a rule
suitable for <CODE>make</CODE> describing the dependencies of the main
source file.  The preprocessor outputs one <CODE>make</CODE> rule containing
the object file name for that source file, a colon, and the names of
all the included files.  If there are many included files then the
rule is split into several lines using <SAMP>`\'</SAMP>-newline.

<SAMP>`-MG'</SAMP> says to treat missing header files as generated files and assume
they live in the same directory as the source file.  It must be specified
in addition to <SAMP>`-M'</SAMP>.

This feature is used in automatic updating of makefiles.

<A NAME="IDX121"></A>
<DT><SAMP>`-MM [-MG]'</SAMP>
<DD>Like <SAMP>`-M'</SAMP> but mention only the files included with <SAMP>`#include
"<VAR>file</VAR>"'</SAMP>.  System header files included with <SAMP>`#include
&#60;<VAR>file</VAR>&#62;'</SAMP> are omitted.

<A NAME="IDX122"></A>
<DT><SAMP>`-MD <VAR>file</VAR>'</SAMP>
<DD>Like <SAMP>`-M'</SAMP> but the dependency information is written to <VAR>file</VAR>.
This is in addition to compiling the file as specified---<SAMP>`-MD'</SAMP> does
not inhibit ordinary compilation the way <SAMP>`-M'</SAMP> does.

When invoking <CODE>gcc</CODE>, do not specify the <VAR>file</VAR> argument.
<CODE>gcc</CODE> creates file names made by replacing ".c" with ".d" at
the end of the input file names.

In Mach, you can use the utility <CODE>md</CODE> to merge multiple dependency
files into a single dependency file suitable for using with the <SAMP>`make'</SAMP>
command.

<A NAME="IDX123"></A>
<DT><SAMP>`-MMD <VAR>file</VAR>'</SAMP>
<DD>Like <SAMP>`-MD'</SAMP> except mention only user header files, not system
header files.

<A NAME="IDX124"></A>
<DT><SAMP>`-H'</SAMP>
<DD>Print the name of each header file used, in addition to other normal
activities.

<A NAME="IDX125"></A>
<DT><SAMP>`-imacros <VAR>file</VAR>'</SAMP>
<DD>Process <VAR>file</VAR> as input, discarding the resulting output, before
processing the regular input file.  Because the output generated from
<VAR>file</VAR> is discarded, the only effect of <SAMP>`-imacros <VAR>file</VAR>'</SAMP>
is to make the macros defined in <VAR>file</VAR> available for use in the
main input.

<A NAME="IDX126"></A>
<DT><SAMP>`-include <VAR>file</VAR>'</SAMP>
<DD>Process <VAR>file</VAR> as input, and include all the resulting output,
before processing the regular input file.  

<A NAME="IDX128"></A>
<A NAME="IDX127"></A>
<DT><SAMP>`-idirafter <VAR>dir</VAR>'</SAMP>
<DD>Add the directory <VAR>dir</VAR> to the second include path.  The directories
on the second include path are searched when a header file is not found
in any of the directories in the main include path (the one that
<SAMP>`-I'</SAMP> adds to).

<A NAME="IDX129"></A>
<DT><SAMP>`-iprefix <VAR>prefix</VAR>'</SAMP>
<DD>Specify <VAR>prefix</VAR> as the prefix for subsequent <SAMP>`-iwithprefix'</SAMP>
options.

<A NAME="IDX130"></A>
<DT><SAMP>`-iwithprefix <VAR>dir</VAR>'</SAMP>
<DD>Add a directory to the second include path.  The directory's name is
made by concatenating <VAR>prefix</VAR> and <VAR>dir</VAR>, where <VAR>prefix</VAR>
was specified previously with <SAMP>`-iprefix'</SAMP>.

<A NAME="IDX131"></A>
<DT><SAMP>`-isystem <VAR>dir</VAR>'</SAMP>
<DD>Add a directory to the beginning of the second include path, marking it
as a system directory, so that it gets the same special treatment as
is applied to the standard system directories.

<A NAME="IDX133"></A>
<A NAME="IDX134"></A>
<A NAME="IDX135"></A>
<A NAME="IDX136"></A>
<A NAME="IDX132"></A>
<DT><SAMP>`-lang-c'</SAMP>
<DD><DT><SAMP>`-lang-c89'</SAMP>
<DD><DT><SAMP>`-lang-c++'</SAMP>
<DD><DT><SAMP>`-lang-objc'</SAMP>
<DD><DT><SAMP>`-lang-objc++'</SAMP>
<DD>Specify the source language.  <SAMP>`-lang-c'</SAMP> is the default; it
allows recognition of C++ comments (comments that begin with
<SAMP>`//'</SAMP> and end at end of line), since this is
a common feature and it will most likely be in the next C standard.
<SAMP>`-lang-c89'</SAMP> disables recognition of C++ comments.  <SAMP>`-lang-c++'</SAMP>
handles C++ comment syntax and includes extra default include
directories for C++.  <SAMP>`-lang-objc'</SAMP> enables the Objective C
<SAMP>`#import'</SAMP> directive.  <SAMP>`-lang-objc++'</SAMP> enables both C++ and Objective C
extensions.

These options are generated by the compiler driver <CODE>gcc</CODE>, but not
passed from the <CODE>gcc</CODE> command line unless you use the driver's
<SAMP>`-Wp'</SAMP> option.

<DT><SAMP>`-lint'</SAMP>
<DD>Look for commands to the program checker <CODE>lint</CODE> embedded in
comments, and emit them preceded by <SAMP>`#pragma lint'</SAMP>.  For example,
the comment <SAMP>`/* NOTREACHED */'</SAMP> becomes <SAMP>`#pragma lint
NOTREACHED'</SAMP>.

This option is available only when you call <CODE>cpp</CODE> directly;
<CODE>gcc</CODE> will not pass it from its command line.

<A NAME="IDX137"></A>
<DT><SAMP>`-$'</SAMP>
<DD>Forbid the use of <SAMP>`$'</SAMP> in identifiers.  This is required for ANSI
conformance.  <CODE>gcc</CODE> automatically supplies this option to the
preprocessor if you specify <SAMP>`-ansi'</SAMP>, but <CODE>gcc</CODE> doesn't
recognize the <SAMP>`-$'</SAMP> option itself--to use it without the other
effects of <SAMP>`-ansi'</SAMP>, you must call the preprocessor directly.

</DL>
<P>
<HR>
Go to the <A HREF="cpp_1.html">first</A>, <A HREF="cpp_40.html">previous</A>, <A HREF="cpp_42.html">next</A>, <A HREF="cpp_43.html">last</A> section, <A HREF="cpp_toc.html">table of contents</A>.
</BODY>
</HTML>
