<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from gasp.texi on 9 October 1995 -->

<TITLE>GASP, an assembly preprocessor - Loops</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="gasp_1.html">first</A>, <A HREF="gasp_4.html">previous</A>, <A HREF="gasp_6.html">next</A>, <A HREF="gasp_20.html">last</A> section, <A HREF="gasp_toc.html">table of contents</A>.
<HR>
<H2><A NAME="SEC5" HREF="gasp_toc.html#TOC5">Repetitive sections of assembly</A></H2>
<P>
Two preprocessor directives allow you to repeatedly issue copies of the
same block of assembly code.
<P>
<DL COMPACT>
<A NAME="IDX39"></A>
<DT><CODE>.AREPEAT <VAR>aexp</VAR></CODE>
<DD><A NAME="IDX40"></A>
<DT><CODE>.AENDR</CODE>
<DD>If you simply need to repeat the same block of assembly over and over a
fixed number of times, sandwich one instance of the repeated block
between <CODE>.AREPEAT</CODE> and <CODE>.AENDR</CODE>.  Specify the number of
copies as <VAR>aexp</VAR> (which must be an absolute expression).  For
example, this repeats two assembly statements three times in succession:

<PRE>
        .AREPEAT        3
        rotcl   r2
        div1    r0,r1
        .AENDR
</PRE>

<A NAME="IDX41"></A>
<DT><CODE>.AWHILE <VAR>expra</VAR> <VAR>cmp</VAR> <VAR>exprb</VAR></CODE>
<DD><A NAME="IDX42"></A>
<DT><CODE>.AENDW</CODE>
<DD><A NAME="IDX43"></A>
<DT><CODE>.AWHILE <VAR>stra</VAR> <VAR>cmp</VAR> <VAR>strb</VAR></CODE>
<DD><A NAME="IDX44"></A>
<DT><CODE>.AENDW</CODE>
<DD>To repeat a block of assembly depending on a conditional test, rather
than repeating it for a specific number of times, use <CODE>.AWHILE</CODE>.
<CODE>.AENDW</CODE> marks the end of the repeated block.  The conditional
comparison works exactly the same way as for <CODE>.AIF</CODE>, with the same
comparison operators (see section <A HREF="gasp_4.html#SEC4">Conditional assembly</A>).

Since the terms of the comparison must be absolute expression,
<CODE>.AWHILE</CODE> is primarily useful within macros.  See section <A HREF="gasp_7.html#SEC7">Defining your own directives</A>.
</DL>
<A NAME="IDX45"></A>
<A NAME="IDX46"></A>
<P>
You can use the <CODE>.EXITM</CODE> preprocessor directive to break out of
loops early (as well as to break out of macros).  See section <A HREF="gasp_7.html#SEC7">Defining your own directives</A>.
<P>
<HR>
Go to the <A HREF="gasp_1.html">first</A>, <A HREF="gasp_4.html">previous</A>, <A HREF="gasp_6.html">next</A>, <A HREF="gasp_20.html">last</A> section, <A HREF="gasp_toc.html">table of contents</A>.
</BODY>
</HTML>
