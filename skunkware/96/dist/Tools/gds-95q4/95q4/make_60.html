<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from make.texinfo on 9 October 1995 -->

<TITLE>GNU Make - Substitution Refs</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_59.html">previous</A>, <A HREF="make_61.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
<HR>
<A NAME="IDX401"></A>
<A NAME="IDX402"></A>
<A NAME="IDX403"></A>
<A NAME="IDX404"></A>
<H3><A NAME="SEC59" HREF="make_toc.html#TOC59">Substitution References</A></H3>
<A NAME="IDX405"></A>
<A NAME="IDX406"></A>
<P>
A <DFN>substitution reference</DFN> substitutes the value of a variable with
alterations that you specify.  It has the form
<SAMP>`$(<VAR>var</VAR>:<VAR>a</VAR>=<VAR>b</VAR>)'</SAMP> (or
<SAMP>`${<VAR>var</VAR>:<VAR>a</VAR>=<VAR>b</VAR>}'</SAMP>) and its meaning is to take the value
of the variable <VAR>var</VAR>, replace every <VAR>a</VAR> at the end of a word with
<VAR>b</VAR> in that value, and substitute the resulting string.
<P>
When we say "at the end of a word", we mean that <VAR>a</VAR> must appear
either followed by whitespace or at the end of the value in order to be
replaced; other occurrences of <VAR>a</VAR> in the value are unaltered.  For
example:<P>
<PRE>
foo := a.o b.o c.o
bar := $(foo:.o=.c)
</PRE>
<P>
sets <SAMP>`bar'</SAMP> to <SAMP>`a.c b.c c.c'</SAMP>.  See section <A HREF="make_63.html#SEC62">Setting Variables</A>.
<P>
A substitution reference is actually an abbreviation for use of the
<CODE>patsubst</CODE> expansion function (see section <A HREF="make_74.html#SEC73">Functions for String Substitution and Analysis</A>).  We provide
substitution references as well as <CODE>patsubst</CODE> for compatibility with
other implementations of <CODE>make</CODE>.
<A NAME="IDX407"></A>
<P>
Another type of substitution reference lets you use the full power of
the <CODE>patsubst</CODE> function.  It has the same form
<SAMP>`$(<VAR>var</VAR>:<VAR>a</VAR>=<VAR>b</VAR>)'</SAMP> described above, except that now
<VAR>a</VAR> must contain a single <SAMP>`%'</SAMP> character.  This case is
equivalent to <SAMP>`$(patsubst <VAR>a</VAR>,<VAR>b</VAR>,$(<VAR>var</VAR>))'</SAMP>.
See section <A HREF="make_74.html#SEC73">Functions for String Substitution and Analysis</A>,
for a description of the <CODE>patsubst</CODE> function.<P>
<PRE>
For example:

foo := a.o b.o c.o
bar := $(foo:%.o=%.c)
</PRE>
<P>
sets <SAMP>`bar'</SAMP> to <SAMP>`a.c b.c c.c'</SAMP>.
<P>
<HR>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_59.html">previous</A>, <A HREF="make_61.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
</BODY>
</HTML>
