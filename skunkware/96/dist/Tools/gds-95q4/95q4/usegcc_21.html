<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from usegcc.texi on 9 October 1995 -->

<TITLE>Using GNU CC - M680x0 Options</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_20.html">previous</A>, <A HREF="usegcc_22.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX110"></A>
<H3><A NAME="SEC24" HREF="usegcc_toc.html#TOC24">M680x0 Options</A></H3>
<P>
These are the <SAMP>`-m'</SAMP> options defined for the 68000 series.  The default
values for these options depends on which style of 68000 was selected when
the compiler was configured; the defaults for the most common choices are
given below.
<P>
<DL COMPACT>
<DT><CODE>-m68000</CODE>
<DD><DT><CODE>-mc68000</CODE>
<DD>Generate output for a 68000.  This is the default
when the compiler is configured for 68000-based systems.

<DT><CODE>-m68020</CODE>
<DD><DT><CODE>-mc68020</CODE>
<DD>Generate output for a 68020.  This is the default
when the compiler is configured for 68020-based systems.

<DT><CODE>-m68881</CODE>
<DD>Generate output containing 68881 instructions for floating point.
This is the default for most 68020 systems unless <SAMP>`-nfp'</SAMP> was
specified when the compiler was configured.

<DT><CODE>-m68030</CODE>
<DD>Generate output for a 68030.  This is the default when the compiler is
configured for 68030-based systems.

<DT><CODE>-m68040</CODE>
<DD>Generate output for a 68040.  This is the default when the compiler is
configured for 68040-based systems.

This option inhibits the use of 68881/68882 instructions that have to be
emulated by software on the 68040.  If your 68040 does not have code to
emulate those instructions, use <SAMP>`-m68040'</SAMP>.

<DT><CODE>-m68020-40</CODE>
<DD>Generate output for a 68040, without using any of the new instructions.
This results in code which can run relatively efficiently on either a
68020/68881 or a 68030 or a 68040.  The generated code does use the
68881 instructions that are emulated on the 68040.

<DT><CODE>-mfpa</CODE>
<DD>Generate output containing Sun FPA instructions for floating point.

<DT><CODE>-msoft-float</CODE>
<DD>Generate output containing library calls for floating point.
<STRONG>Warning:</STRONG> the requisite libraries are not available for all m68k
targets.  Normally the facilities of the machine's usual C compiler are
used, but this can't be done directly in cross-compilation.  You must
make your own arrangements to provide suitable library functions for
cross-compilation.  The embedded targets <SAMP>`m68k-*-aout'</SAMP> and
<SAMP>`m68k-*-coff'</SAMP> do provide software floating point support.

<DT><CODE>-mshort</CODE>
<DD>Consider type <CODE>int</CODE> to be 16 bits wide, like <CODE>short int</CODE>.

<DT><CODE>-mnobitfield</CODE>
<DD>Do not use the bit-field instructions.  The <SAMP>`-m68000'</SAMP> option
implies <SAMP>`-mnobitfield'</SAMP>.

<DT><CODE>-mbitfield</CODE>
<DD>Do use the bit-field instructions.  The <SAMP>`-m68020'</SAMP> option implies
<SAMP>`-mbitfield'</SAMP>.  This is the default if you use a configuration
designed for a 68020.

<DT><CODE>-mrtd</CODE>
<DD>Use a different function-calling convention, in which functions
that take a fixed number of arguments return with the <CODE>rtd</CODE>
instruction, which pops their arguments while returning.  This
saves one instruction in the caller since there is no need to pop
the arguments there.

This calling convention is incompatible with the one normally
used on Unix, so you cannot use it if you need to call libraries
compiled with the Unix compiler.

Also, you must provide function prototypes for all functions that
take variable numbers of arguments (including <CODE>printf</CODE>);
otherwise incorrect code will be generated for calls to those
functions.

In addition, seriously incorrect code will result if you call a
function with too many arguments.  (Normally, extra arguments are
harmlessly ignored.)

The <CODE>rtd</CODE> instruction is supported by the 68010 and 68020
processors, but not by the 68000.
</DL>
<P>
<HR>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_20.html">previous</A>, <A HREF="usegcc_22.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
</BODY>
</HTML>
