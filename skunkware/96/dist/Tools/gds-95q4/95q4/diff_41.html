<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from diff.texi on 5 October 1995 -->

<TITLE>Comparing and Merging Files - Comparing Directories</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="diff_1.html">first</A>, <A HREF="diff_40.html">previous</A>, <A HREF="diff_42.html">next</A>, <A HREF="diff_93.html">last</A> section, <A HREF="diff_toc.html">table of contents</A>.
<HR>
<H1><A NAME="SEC41" HREF="diff_toc.html#TOC41">Comparing Directories</A></H1>
<P>
You can use <CODE>diff</CODE> to compare some or all of the files in two
directory trees.  When both file name arguments to <CODE>diff</CODE> are
directories, it compares each file that is contained in both
directories, examining file names in alphabetical order.  Normally
<CODE>diff</CODE> is silent about pairs of files that contain no differences,
but if you use the <SAMP>`-s'</SAMP> or <SAMP>`--report-identical-files'</SAMP> option,
it reports pairs of identical files.  Normally <CODE>diff</CODE> reports
subdirectories common to both directories without comparing
subdirectories' files, but if you use the <SAMP>`-r'</SAMP> or
<SAMP>`--recursive'</SAMP> option, it compares every corresponding pair of files
in the directory trees, as many levels deep as they go.
<P>
For file names that are in only one of the directories, <CODE>diff</CODE>
normally does not show the contents of the file that exists; it reports
only that the file exists in that directory and not in the other.  You
can make <CODE>diff</CODE> act as though the file existed but was empty in the
other directory, so that it outputs the entire contents of the file that
actually exists.  (It is output as either an insertion or a
deletion, depending on whether it is in the first or the second
directory given.)  To do this, use the <SAMP>`-N'</SAMP> or <SAMP>`--new-file'</SAMP>
option.
<P>
If the older directory contains one or more large files that are not in
the newer directory, you can make the patch smaller by using the
<SAMP>`-P'</SAMP> or <SAMP>`--unidirectional-new-file'</SAMP> option instead of <SAMP>`-N'</SAMP>.
This option is like <SAMP>`-N'</SAMP> except that it only inserts the contents
of files that appear in the second directory but not the first (that is,
files that were added).  At the top of the patch, write instructions for
the user applying the patch to remove the files that were deleted before
applying the patch.  See section <A HREF="diff_69.html#SEC69">Tips for Making Patch Distributions</A>, for more discussion of
making patches for distribution.
<P>
To ignore some files while comparing directories, use the <SAMP>`-x
<VAR>pattern</VAR>'</SAMP> or <SAMP>`--exclude=<VAR>pattern</VAR>'</SAMP> option.  This option
ignores any files or subdirectories whose base names match the shell
pattern <VAR>pattern</VAR>.  Unlike in the shell, a period at the start of
the base of a file name matches a wildcard at the start of a pattern.
You should enclose <VAR>pattern</VAR> in quotes so that the shell does not
expand it.  For example, the option <SAMP>`-x '*.[ao]''</SAMP> ignores any file
whose name ends with <SAMP>`.a'</SAMP> or <SAMP>`.o'</SAMP>.
<P>
This option accumulates if you specify it more than once.  For example,
using the options <SAMP>`-x 'RCS' -x '*,v''</SAMP> ignores any file or
subdirectory whose base name is <SAMP>`RCS'</SAMP> or ends with <SAMP>`,v'</SAMP>.
<P>
If you need to give this option many times, you can instead put the
patterns in a file, one pattern per line, and use the <SAMP>`-X
<VAR>file</VAR>'</SAMP> or <SAMP>`--exclude-from=<VAR>file</VAR>'</SAMP> option.
<P>
If you have been comparing two directories and stopped partway through,
later you might want to continue where you left off.  You can do this by
using the <SAMP>`-S <VAR>file</VAR>'</SAMP> or <SAMP>`--starting-file=<VAR>file</VAR>'</SAMP>
option.  This compares only the file <VAR>file</VAR> and all alphabetically
later files in the topmost directory level.
<P>
<HR>
Go to the <A HREF="diff_1.html">first</A>, <A HREF="diff_40.html">previous</A>, <A HREF="diff_42.html">next</A>, <A HREF="diff_93.html">last</A> section, <A HREF="diff_toc.html">table of contents</A>.
</BODY>
</HTML>
