<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from cpp.texi on 6 October 1995 -->

<TITLE>The C Preprocessor - #if Directive</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="cpp_1.html">first</A>, <A HREF="cpp_30.html">previous</A>, <A HREF="cpp_32.html">next</A>, <A HREF="cpp_43.html">last</A> section, <A HREF="cpp_toc.html">table of contents</A>.
<HR>
<H4><A NAME="SEC32" HREF="cpp_toc.html#TOC32">The <SAMP>`#if'</SAMP> Directive</A></H4>
<P>
The <SAMP>`#if'</SAMP> directive in its simplest form consists of
<P>
<PRE>
#if <VAR>expression</VAR>
<VAR>controlled text</VAR>
#endif /* <VAR>expression</VAR> */
</PRE>
<P>
The comment following the <SAMP>`#endif'</SAMP> is not required, but it is a good
practice because it helps people match the <SAMP>`#endif'</SAMP> to the
corresponding <SAMP>`#if'</SAMP>.  Such comments should always be used, except in
short conditionals that are not nested.  In fact, you can put anything at
all after the <SAMP>`#endif'</SAMP> and it will be ignored by the GNU C preprocessor,
but only comments are acceptable in ANSI Standard C.
<P>
<VAR>expression</VAR> is a C expression of integer type, subject to stringent
restrictions.  It may contain
<P>
<UL>
<LI>
Integer constants, which are all regarded as <CODE>long</CODE> or
<CODE>unsigned long</CODE>.

<LI>
Character constants, which are interpreted according to the character
set and conventions of the machine and operating system on which the
preprocessor is running.  The GNU C preprocessor uses the C data type
<SAMP>`char'</SAMP> for these character constants; therefore, whether some
character codes are negative is determined by the C compiler used to
compile the preprocessor.  If it treats <SAMP>`char'</SAMP> as signed, then
character codes large enough to set the sign bit will be considered
negative; otherwise, no character code is considered negative.

<LI>
Arithmetic operators for addition, subtraction, multiplication,
division, bitwise operations, shifts, comparisons, and logical
operations (<SAMP>`&#38;&#38;'</SAMP> and <SAMP>`||'</SAMP>).

<LI>
Identifiers that are not macros, which are all treated as zero(!).

<LI>
Macro calls.  All macro calls in the expression are expanded before
actual computation of the expression's value begins.
</UL>
<P>
Note that <SAMP>`sizeof'</SAMP> operators and <CODE>enum</CODE>-type values are not allowed.
<CODE>enum</CODE>-type values, like all other identifiers that are not taken
as macro calls and expanded, are treated as zero.
<P>
The <VAR>controlled text</VAR> inside of a conditional can include
preprocessing directives.  Then the directives inside the conditional are
obeyed only if that branch of the conditional succeeds.  The text can
also contain other conditional groups.  However, the <SAMP>`#if'</SAMP> and
<SAMP>`#endif'</SAMP> directives must balance.
<P>
<HR>
Go to the <A HREF="cpp_1.html">first</A>, <A HREF="cpp_30.html">previous</A>, <A HREF="cpp_32.html">next</A>, <A HREF="cpp_43.html">last</A> section, <A HREF="cpp_toc.html">table of contents</A>.
</BODY>
</HTML>
