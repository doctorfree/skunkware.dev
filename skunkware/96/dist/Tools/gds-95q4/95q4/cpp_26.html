<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from cpp.texi on 6 October 1995 -->

<TITLE>The C Preprocessor - Cascaded Macros</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="cpp_1.html">first</A>, <A HREF="cpp_25.html">previous</A>, <A HREF="cpp_27.html">next</A>, <A HREF="cpp_43.html">last</A> section, <A HREF="cpp_toc.html">table of contents</A>.
<HR>
<H4><A NAME="SEC27" HREF="cpp_toc.html#TOC27">Cascaded Use of Macros</A></H4>
<A NAME="IDX69"></A>
<A NAME="IDX70"></A>
<P>
A <DFN>cascade</DFN> of macros is when one macro's body contains a reference
to another macro.  This is very common practice.  For example,
<P>
<PRE>
#define BUFSIZE 1020
#define TABLESIZE BUFSIZE
</PRE>
<P>
This is not at all the same as defining <SAMP>`TABLESIZE'</SAMP> to be <SAMP>`1020'</SAMP>.
The <SAMP>`#define'</SAMP> for <SAMP>`TABLESIZE'</SAMP> uses exactly the body you
specify--in this case, <SAMP>`BUFSIZE'</SAMP>---and does not check to see whether
it too is the name of a macro.
<P>
It's only when you <EM>use</EM> <SAMP>`TABLESIZE'</SAMP> that the result of its expansion
is checked for more macro names.
<P>
This makes a difference if you change the definition of <SAMP>`BUFSIZE'</SAMP>
at some point in the source file.  <SAMP>`TABLESIZE'</SAMP>, defined as shown,
will always expand using the definition of <SAMP>`BUFSIZE'</SAMP> that is
currently in effect:
<P>
<PRE>
#define BUFSIZE 1020
#define TABLESIZE BUFSIZE
#undef BUFSIZE
#define BUFSIZE 37
</PRE>
<P>
Now <SAMP>`TABLESIZE'</SAMP> expands (in two stages) to <SAMP>`37'</SAMP>.  (The
<SAMP>`#undef'</SAMP> is to prevent any warning about the nontrivial
redefinition of <CODE>BUFSIZE</CODE>.)
<P>
<HR>
Go to the <A HREF="cpp_1.html">first</A>, <A HREF="cpp_25.html">previous</A>, <A HREF="cpp_27.html">next</A>, <A HREF="cpp_43.html">last</A> section, <A HREF="cpp_toc.html">table of contents</A>.
</BODY>
</HTML>
