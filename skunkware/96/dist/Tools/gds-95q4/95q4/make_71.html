<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from make.texinfo on 9 October 1995 -->

<TITLE>GNU Make - Testing Flags</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_70.html">previous</A>, <A HREF="make_72.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
<HR>
<H2><A NAME="SEC70" HREF="make_toc.html#TOC70">Conditionals that Test Flags</A></H2>
<P>
You can write a conditional that tests <CODE>make</CODE> command flags such as
<SAMP>`-t'</SAMP> by using the variable <CODE>MAKEFLAGS</CODE> together with the
<CODE>findstring</CODE> function 
(see section <A HREF="make_74.html#SEC73">Functions for String Substitution and Analysis</A>).
This is useful when <CODE>touch</CODE> is not enough to make a file appear up
to date.
<P>
The <CODE>findstring</CODE> function determines whether one string appears as a
substring of another.  If you want to test for the <SAMP>`-t'</SAMP> flag,
use <SAMP>`t'</SAMP> as the first string and the value of <CODE>MAKEFLAGS</CODE> as
the other.
<P>
For example, here is how to arrange to use <SAMP>`ranlib -t'</SAMP> to finish
marking an archive file up to date:
<P>
<PRE>
archive.a: ...
ifneq (,$(findstring t,$(MAKEFLAGS)))
        +touch archive.a
        +ranlib -t archive.a
else
        ranlib archive.a
endif
</PRE>
<P>
The <SAMP>`+'</SAMP> prefix marks those command lines as "recursive" so
that they will be executed despite use of the <SAMP>`-t'</SAMP> flag.
See section <A HREF="make_49.html#SEC48">Recursive Use of <CODE>make</CODE></A>.
<P>
<HR>
Go to the <A HREF="make_1.html">first</A>, <A HREF="make_70.html">previous</A>, <A HREF="make_72.html">next</A>, <A HREF="make_119.html">last</A> section, <A HREF="make_toc.html">table of contents</A>.
</BODY>
</HTML>
