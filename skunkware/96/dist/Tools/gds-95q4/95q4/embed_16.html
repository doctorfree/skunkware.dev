<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from embed.texi on 19 October 1995 -->

<TITLE>Embed With GNU - HH8debug</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_15.html">previous</A>, <A HREF="embed_17.html">next</A>, <A HREF="embed_44.html">last</A> section, <A HREF="embed_toc.html">table of contents</A>.
<HR>
<H3><A NAME="SEC16" HREF="embed_toc.html#TOC16">Debugging on Hitachi H8/300 targets</A></H3>
<P>
GDB needs to know these things to talk to your Hitachi H8/300:
<P>
<OL>
<LI>
that you want to use one of the following:

<UL>
<LI>
<SAMP>`target remote'</SAMP>, the remote debugging interface for the Hitachi 
H8/300 microprocessor.  Use this for the Hitachi low-cost evaluation
board (LCEVB) running CMON.
<LI>
<SAMP>`target hms'</SAMP>, the interface to H8/300 eval boards running the HMS
monitor.
<LI>
<SAMP>`target e7000'</SAMP>, the in-circuit emulator for the Hitachi H8/300 and 
the Hitachi SH 300H. 
<LI>
<SAMP>`target sim'</SAMP>, the simulator, which allows you to run GDB remotely 
without an external device.
</UL>

<LI>
what serial device connects your host to your Hitachi board (the first
serial device available on your host is the default).

<LI>
if you are using a Unix host, what speed to use over the serial device.
</OL>
<P>
Use one of these GDB commands to specify the connection to your target 
board:
<P>
<DL COMPACT>
<DT><CODE>target hms <VAR>port</VAR></CODE>
<DD>To run a program on the board, start up GDB with the name of your
program as the argument.  To connect to the board, use the command
<SAMP>`target hms <VAR>port</VAR>'</SAMP>, where <VAR>port</VAR> is the name of the
serial port connected to the board.  If the program has not already been
downloaded to the board, you may use the <CODE>load</CODE> command to download
it.  You can then use all the usual GDB commands.

For example, this sequence connects to the target board through a serial
port, and loads and runs a program called <VAR>prog</VAR> through the
debugger:

<PRE>
host$ h8300-hms-gdb <VAR>prog</VAR>
GDB is free software and ...
(gdb) target hms /dev/ttyb
...
(gdb) load
...
(gdb) run
</PRE>

<DT><CODE>target hms <VAR>hostname</VAR>:<VAR>portnumber</VAR></CODE>
<DD>You can specify a TCP/IP connection instead of a serial port, using the syntax
<CODE><VAR>hostname</VAR>:<VAR>portnumber</VAR></CODE> (assuming your board is
connected so that this makes sense; for instance, to a serial line
managed by a terminal concentrator).
</DL>
<P>
GDB also supports:
<P>
<DL COMPACT>
<DT><CODE>set remotedebug <VAR>n</VAR></CODE>
<DD>You can see some debugging information about communications with the board
by setting the <CODE>remotedebug</CODE> variable. 
</DL>
<P>
<HR>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_15.html">previous</A>, <A HREF="embed_17.html">next</A>, <A HREF="embed_44.html">last</A> section, <A HREF="embed_toc.html">table of contents</A>.
</BODY>
</HTML>
