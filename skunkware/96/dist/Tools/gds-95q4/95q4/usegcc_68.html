<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from usegcc.texi on 9 October 1995 -->

<TITLE>Using GNU CC - Complex</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_67.html">previous</A>, <A HREF="usegcc_69.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX291"></A>
<H2><A NAME="SEC71" HREF="usegcc_toc.html#TOC71">Complex Numbers</A></H2>
<P>
GNU C supports complex data types.  You can declare both complex integer
types and complex floating types, using the keyword <CODE>__complex__</CODE>.
<P>
For example, <SAMP>`__complex__ double x;'</SAMP> declares <CODE>x</CODE> as a
variable whose real part and imaginary part are both of type
<CODE>double</CODE>.  <SAMP>`__complex__ short int y;'</SAMP> declares <CODE>y</CODE> to
have real and imaginary parts of type <CODE>short int</CODE>; this is not
likely to be useful, but it shows that the set of complex types is
complete.
<P>
To write a constant with a complex data type, use the suffix <SAMP>`i'</SAMP> or
<SAMP>`j'</SAMP> (either one; they are equivalent).  For example, <CODE>2.5fi</CODE>
has type <CODE>__complex__ float</CODE> and <CODE>3i</CODE> has type
<CODE>__complex__ int</CODE>.  Such a constant always has a pure imaginary
value, but you can form any complex value you like by adding one to a
real constant.
<P>
To extract the real part of a complex-valued expression <VAR>exp</VAR>, write
<CODE>__real__ <VAR>exp</VAR></CODE>.  Likewise, use <CODE>__imag__</CODE> to
extract the imaginary part.
<P>
The operator <SAMP>`~'</SAMP> performs complex conjugation when used on a value
with a complex type.
<P>
GNU CC can allocate complex automatic variables in a noncontiguous
fashion; it's even possible for the real part to be in a register while
the imaginary part is on the stack (or vice-versa).  None of the
supported debugging info formats has a way to represent noncontiguous
allocation like this, so GNU CC describes a noncontiguous complex
variable as if it were two separate variables of noncomplex type.
If the variable's actual name is <CODE>foo</CODE>, the two fictitious 
variables are named <CODE>foo$real</CODE> and <CODE>foo$imag</CODE>.  You can
examine and set these two fictitious variables with your debugger.
<P>
A future version of GDB will know how to recognize such pairs and treat
them as a single variable with a complex type.
<P>
<HR>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_67.html">previous</A>, <A HREF="usegcc_69.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
</BODY>
</HTML>
