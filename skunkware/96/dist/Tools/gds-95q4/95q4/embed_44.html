<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from embed.texi on 19 October 1995 -->

<TITLE>Embed With GNU - Mdebug</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_43.html">previous</A>, next, last section, <A HREF="embed_toc.html">table of contents</A>.
<HR>
<H3><A NAME="SEC44" HREF="embed_toc.html#TOC44">Debugging on Motorola m68k targets</A></H3>
<P>
GDB needs to know these things to talk to your Motorola <CODE>m68k</CODE>:
<P>
<OL>
<LI>
that you want to use one of the following:

<UL>
<LI>
<SAMP>`target rom68k'</SAMP>, the rom monitor for the IDP board.
<LI>
<SAMP>`target cpu32bug'</SAMP>, the rom monitor for other Motorola boards, such as 
the Motorola Business Card Computer, BCC.
<LI>
<SAMP>`target est'</SAMP>, the EST Net/300 emulator.
<LI>
<SAMP>`target remote'</SAMP>, the remote debugging interface for the Motorola 
<CODE>m68k</CODE> microprocessor.    
</UL>

<LI>
what serial device connects your host to your <CODE>m68k</CODE> board (the first
serial device available on your host is the default).

<LI>
what speed to use over the serial device.
</OL>
<P>
Use these GDB commands to specify the connection to your target board:
<P>
<DL COMPACT>
<DT><CODE>target m68k <VAR>port</VAR></CODE>
<DD>To run a program on the board, start up GDB with the name of your
program as the argument.  To connect to the board, use the command
<SAMP>`target m68k <VAR>port</VAR>'</SAMP>, where <VAR>port</VAR> is the name of the
serial port connected to the board.  If the program has not already been
downloaded to the board, you may use the <CODE>load</CODE> command to download
it.  You can then use all the usual GDB commands.

For example, this sequence connects to the target board through a serial
port, and loads and runs a program called <VAR>prog</VAR> through the
debugger:

<PRE>
host$ m68k-coff-gdb <VAR>prog</VAR>
GDB is free software and ...
(gdb) target cpu32bug /dev/ttyb
...
(gdb) load
...
(gdb) run
</PRE>

<DT><CODE>target m68k <VAR>hostname</VAR>:<VAR>portnumber</VAR></CODE>
<DD>You can specify a TCP/IP connection instead of a serial port, using the syntax
<CODE><VAR>hostname</VAR>:<VAR>portnumber</VAR></CODE> (assuming your board is
connected so that this makes sense; for instance, to a serial line
managed by a terminal concentrator).
</DL>
<P>
GDB also supports:
<P>
<DL COMPACT>
<DT><CODE>set remotedebug <VAR>n</VAR></CODE>
<DD>You can see some debugging information about communications with the board
by setting the <CODE>remotedebug</CODE> variable. 
</DL>
<P>
<HR>
Go to the <A HREF="embed_1.html">first</A>, <A HREF="embed_43.html">previous</A>, next, last section, <A HREF="embed_toc.html">table of contents</A>.
</BODY>
</HTML>
