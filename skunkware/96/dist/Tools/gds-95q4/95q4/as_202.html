<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from as.texinfo on 5 October 1995 -->

<TITLE>Using as - i386-prefixes</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="as_1.html">first</A>, <A HREF="as_201.html">previous</A>, <A HREF="as_203.html">next</A>, <A HREF="as_222.html">last</A> section, <A HREF="as_toc.html">table of contents</A>.
<HR>
<H2><A NAME="SEC204" HREF="as_toc.html#TOC204">Opcode Prefixes</A></H2>
<A NAME="IDX667"></A>
<A NAME="IDX668"></A>
<A NAME="IDX669"></A>
<P>
Opcode prefixes are used to modify the following opcode.  They are used
to repeat string instructions, to provide section overrides, to perform
bus lock operations, and to give operand and address size (16-bit
operands are specified in an instruction by prefixing what would
normally be 32-bit operands with a "operand size" opcode prefix).
Opcode prefixes are usually given as single-line instructions with no
operands, and must directly precede the instruction they act upon.  For
example, the <SAMP>`scas'</SAMP> (scan string) instruction is repeated with:
<PRE>
        repne
        scas
</PRE>
<P>
Here is a list of opcode prefixes:
<A NAME="IDX670"></A>
<P>
<UL>
<LI>
Section override prefixes <SAMP>`cs'</SAMP>, <SAMP>`ds'</SAMP>, <SAMP>`ss'</SAMP>, <SAMP>`es'</SAMP>,
<SAMP>`fs'</SAMP>, <SAMP>`gs'</SAMP>.  These are automatically added by specifying
using the <VAR>section</VAR>:<VAR>memory-operand</VAR> form for memory references.

<A NAME="IDX671"></A>
<LI>
Operand/Address size prefixes <SAMP>`data16'</SAMP> and <SAMP>`addr16'</SAMP>
change 32-bit operands/addresses into 16-bit operands/addresses.  Note
that 16-bit addressing modes (i.e. 8086 and 80286 addressing modes)
are not supported (yet).

<A NAME="IDX673"></A>
<A NAME="IDX672"></A>
<LI>
The bus lock prefix <SAMP>`lock'</SAMP> inhibits interrupts during
execution of the instruction it precedes.  (This is only valid with
certain instructions; see a 80386 manual for details).

<A NAME="IDX674"></A>
<LI>
The wait for coprocessor prefix <SAMP>`wait'</SAMP> waits for the
coprocessor to complete the current instruction.  This should never be
needed for the 80386/80387 combination.

<A NAME="IDX675"></A>
<LI>
The <SAMP>`rep'</SAMP>, <SAMP>`repe'</SAMP>, and <SAMP>`repne'</SAMP> prefixes are added
to string instructions to make them repeat <SAMP>`%ecx'</SAMP> times.
</UL>
<P>
<HR>
Go to the <A HREF="as_1.html">first</A>, <A HREF="as_201.html">previous</A>, <A HREF="as_203.html">next</A>, <A HREF="as_222.html">last</A> section, <A HREF="as_toc.html">table of contents</A>.
</BODY>
</HTML>
