<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from usegcc.texi on 9 October 1995 -->

<TITLE>Using GNU CC - RS/6000 and PowerPC Options</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_27.html">previous</A>, <A HREF="usegcc_29.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX187"></A>
<A NAME="IDX188"></A>
<H3><A NAME="SEC31" HREF="usegcc_toc.html#TOC31">IBM RS/6000 and PowerPC Options</A></H3>
<P>
These <SAMP>`-m'</SAMP> options are defined for the IBM RS/6000 and PowerPC:
<P>
<A NAME="IDX189"></A>
<A NAME="IDX190"></A>
<A NAME="IDX191"></A>
<A NAME="IDX192"></A>
<A NAME="IDX193"></A>
<DL COMPACT>
<DT><CODE>-mpower</CODE>
<DD><DT><CODE>-mno-power</CODE>
<DD><DT><CODE>-mpower2</CODE>
<DD><DT><CODE>-mno-power2</CODE>
<DD><DT><CODE>-mpowerpc</CODE>
<DD><DT><CODE>-mno-powerpc</CODE>
<DD><DT><CODE>-mpowerpc-gpopt</CODE>
<DD><DT><CODE>-mno-powerpc-gpopt</CODE>
<DD><DT><CODE>-mpowerpc-gfxopt</CODE>
<DD><DT><CODE>-mno-powerpc-gfxopt</CODE>
<DD>GNU CC supports two related instruction set architectures for the
RS/6000 and PowerPC.  The <DFN>POWER</DFN> instruction set are those
instructions supported by the <SAMP>`rios'</SAMP> chip set used in the original
RS/6000 systems and the <DFN>PowerPC</DFN> instruction set is the
architecture of the Motorola MPC6xx microprocessors.  The PowerPC
architecture defines 64-bit instructions, but they are not supported by
any current processors.

Neither architecture is a subset of the other.  However there is a
large common subset of instructions supported by both.  An MQ
register is included in processors supporting the POWER architecture.

You use these options to specify which instructions are available on the
processor you are using.  The default value of these options is
determined when configuring GNU CC.  Specifying the
<SAMP>`-mcpu=<VAR>cpu_type</VAR>'</SAMP> overrides the specification of these
options.  We recommend you use that option rather than these.

The <SAMP>`-mpower'</SAMP> option allows GNU CC to generate instructions that
are found only in the POWER architecture and to use the MQ register.
Specifying <SAMP>`-mpower2'</SAMP> implies <SAMP>`-power'</SAMP> and also allows GNU CC
to generate instructions that are present in the POWER2 architecture but
not the original POWER architecture.

The <SAMP>`-mpowerpc'</SAMP> option allows GNU CC to generate instructions that
are found only in the 32-bit subset of the PowerPC architecture.
Specifying <SAMP>`-mpowerpc-gpopt'</SAMP> implies <SAMP>`-mpowerpc'</SAMP> and also allows
GNU CC to use the optional PowerPC architecture instructions in the
General Purpose group, including floating-point square root.  Specifying
<SAMP>`-mpowerpc-gfxopt'</SAMP> implies <SAMP>`-mpowerpc'</SAMP> and also allows GNU CC to
use the optional PowerPC architecture instructions in the Graphics
group, including floating-point select.

If you specify both <SAMP>`-mno-power'</SAMP> and <SAMP>`-mno-powerpc'</SAMP>, GNU CC
will use only the instructions in the common subset of both
architectures plus some special AIX common-mode calls, and will not use
the MQ register.  Specifying both <SAMP>`-mpower'</SAMP> and <SAMP>`-mpowerpc'</SAMP>
permits GNU CC to use any instruction from either architecture and to
allow use of the MQ register; specify this for the Motorola MPC601.

<A NAME="IDX195"></A>
<A NAME="IDX194"></A>
<DT><CODE>-mnew-mnemonics</CODE>
<DD><DT><CODE>-mold-mnemonics</CODE>
<DD>Select which mnemonics to use in the generated assembler code.
<SAMP>`-mnew-mnemonics'</SAMP> requests output that uses the assembler mnemonics
defined for the PowerPC architecture, while <SAMP>`-mold-mnemonics'</SAMP>
requests the assembler mnemonics defined for the POWER architecture.
Instructions defined in only one architecture have only one mnemonic;
GNU CC uses that mnemonic irrespective of which of thse options is
specified.

PowerPC assemblers support both the old and new mnemonics, as will later
POWER assemblers.  Current POWER assemblers only support the old
mnemonics.  Specify <SAMP>`-mnew-mnemonics'</SAMP> if you have an assembler that
supports them, otherwise specify <SAMP>`-mold-mnemonics'</SAMP>.

The default value of these options depends on how GNU CC was configured.
Specifying <SAMP>`-mcpu=<VAR>cpu_type</VAR>'</SAMP> sometimes overrides the value of
these option.  Unless you are building a cross-compiler, you should
normally not specify either <SAMP>`-mnew-mnemonics'</SAMP> or
<SAMP>`-mold-mnemonics'</SAMP>, but should instead accept the default.

<DT><CODE>-mcpu=<VAR>cpu_type</VAR></CODE>
<DD>Set architecture type, register usage, choice of mnemonics, and instruction
scheduling parameters for machine type <VAR>cpu_type</VAR>.  By default,
<VAR>cpu_type</VAR> is the target system defined when GNU CC was configured.
Supported values for <VAR>cpu_type</VAR> are <SAMP>`rios1'</SAMP>, <SAMP>`rios2'</SAMP>, <SAMP>`rsc'</SAMP>,
<SAMP>`601'</SAMP>, <SAMP>`603'</SAMP>, <SAMP>`604'</SAMP>, <SAMP>`power'</SAMP>, <SAMP>`powerpc'</SAMP>, <SAMP>`403'</SAMP>,
and <SAMP>`common'</SAMP>.  <SAMP>`-mcpu=power'</SAMP> and <SAMP>`-mcpu=powerpc'</SAMP> specify generic
POWER and pure PowerPC (i.e., not MPC601) architecture machine types, with an
appropriate, generic processor model assumed for scheduling purposes.
Specifying <SAMP>`-mcpu=rios1'</SAMP>, <SAMP>`-mcpu=rios2'</SAMP>, <SAMP>`-mcpu=rsc'</SAMP>, or
<SAMP>`-mcpu=power'</SAMP> enables the <SAMP>`-mpower'</SAMP> option and disables the
<SAMP>`-mpowerpc'</SAMP> option; <SAMP>`-mcpu=601'</SAMP> enables both the <SAMP>`-mpower'</SAMP> and
<SAMP>`-mpowerpc'</SAMP> options; <SAMP>`-mcpu=603'</SAMP>, <SAMP>`-mcpu=604'</SAMP>, <SAMP>`-mcpu=403'</SAMP>,
and <SAMP>`-mcpu=powerpc'</SAMP> enable the <SAMP>`-mpowerpc'</SAMP> option and disable the
<SAMP>`-mpower'</SAMP> option; <SAMP>`-mcpu=common'</SAMP> disables both the <SAMP>`-mpower'</SAMP> and
<SAMP>`-mpowerpc'</SAMP> options.
To generate code that will operate on all members of the RS/6000 and
PowerPC families, specify <SAMP>`-mcpu=common'</SAMP>.  In that case, GNU CC
will use only the instructions in the common subset of both
architectures plus some special AIX common-mode calls, and will not use
the MQ register.  GNU CC assumes a generic processor model for scheduling
purposes.

Specifying <SAMP>`-mcpu=rios1'</SAMP>, <SAMP>`-mcpu=rios2'</SAMP>, <SAMP>`-mcpu=rsc'</SAMP>, or
<SAMP>`-mcpu=power'</SAMP> also disables the <SAMP>`new-mnemonics'</SAMP> option.
Specifying <SAMP>`-mcpu=601'</SAMP>, <SAMP>`-mcpu=603'</SAMP>, <SAMP>`-mcpu=604'</SAMP>,
<SAMP>`403'</SAMP>, or <SAMP>`-mcpu=powerpc'</SAMP> also enables the <SAMP>`new-mnemonics'</SAMP>
option.
<DT><CODE>-mfull-toc</CODE>
<DD><DT><CODE>-mno-fp-in-toc</CODE>
<DD><DT><CODE>-mno-sum-in-toc</CODE>
<DD><DT><CODE>-mminimal-toc</CODE>
<DD>Modify generation of the TOC (Table Of Contents), which is created for
every executable file.  The <SAMP>`-mfull-toc'</SAMP> option is selected by
default.  In that case, GNU CC will allocate at least one TOC entry for
each unique non-automatic variable reference in your program.  GNU CC
will also place floating-point constants in the TOC.  However, only
16,384 entries are available in the TOC.

If you receive a linker error message that saying you have overflowed
the available TOC space, you can reduce the amount of TOC space used
with the <SAMP>`-mno-fp-in-toc'</SAMP> and <SAMP>`-mno-sum-in-toc'</SAMP> options.
<SAMP>`-mno-fp-in-toc'</SAMP> prevents GNU CC from putting floating-point
constants in the TOC and <SAMP>`-mno-sum-in-toc'</SAMP> forces GNU CC to
generate code to calculate the sum of an address and a constant at
run-time instead of putting that sum into the TOC.  You may specify one
or both of these options.  Each causes GNU CC to produce very slightly
slower and larger code at the expense of conserving TOC space.

If you still run out of space in the TOC even when you specify both of
these options, specify <SAMP>`-mminimal-toc'</SAMP> instead.  This option causes
GNU CC to make only one TOC entry for every file.  When you specify this
option, GNU CC will produce code that is slower and larger but which
uses extremely little TOC space.  You may wish to use this option
only on files that contain less frequently executed code. 
<DT><CODE>-msoft-float</CODE>
<DD><DT><CODE>-mhard-float</CODE>
<DD>Generate code that does not use (uses) the floating-point register set.
Software floating point emulation is provided if you use the
<SAMP>`-msoft-float'</SAMP> option, and pass the option to GNU CC when linking.

<DT><CODE>-mmultiple</CODE>
<DD><DT><CODE>-mno-multiple</CODE>
<DD>Generate code that uses (does not use) the load multiple word
instructions and the store multiple word instructions.  These
instructions are generated by default on POWER systems, and not
generated on PowerPC systems.  Do not use <SAMP>`-mmultiple'</SAMP> on little
endian PowerPC systems, since those instructions do not work when the
processor is in little endian mode.

<DT><CODE>-mstring</CODE>
<DD><DT><CODE>-mno-string</CODE>
<DD>Generate code that uses (does not use) the load string instructions and the
store string word instructions to save multiple registers and do small block
moves.  These instructions are generated by default on POWER systems, anod not
generated on PowerPC systems.  Do not use <SAMP>`-mstring'</SAMP> on little endian
PowerPC systems, since those instructions do not work when the processor is in
little endian mode.

<DT><CODE>-mno-bit-align</CODE>
<DD><DT><CODE>-mbit-align</CODE>
<DD>On System V.4 and embedded PowerPC systems do not (do) force structures
and unions that contain bit fields to be aligned to the base type of the
bit field.

For example, by default a structure containing nothing but 8
<CODE>unsigned</CODE> bitfields of length 1 would be aligned to a 4 byte
boundary and have a size of 4 bytes.  By using <SAMP>`-mno-bit-align'</SAMP>,
the structure would be aligned to a 1 byte boundary and be one byte in
size.

<DT><CODE>-mno-strict-align</CODE>
<DD><DT><CODE>-mstrict-align</CODE>
<DD>On System V.4 and embedded PowerPC systems do not (do) assume that
unaligned memory references will be handled by the system.

<DT><CODE>-mrelocatable</CODE>
<DD><DT><CODE>-mno-relocatable</CODE>
<DD>On embedded PowerPC systems generate code that allows (does not allow)
the program to be relocated to a different address at runtime.

<DT><CODE>-mno-toc</CODE>
<DD><DT><CODE>-mtoc</CODE>
<DD>On System V.4 and embedded PowerPC systems do not (do) assume that
register 2 contains a pointer to a global area pointing to the addresses
used in the program.

<DT><CODE>-mno-traceback</CODE>
<DD><DT><CODE>-mtraceback</CODE>
<DD>On embedded PowerPC systems do not (do) generate a traceback tag before
the start of the function.  This tag can be used by the debugger to
identify where the start of a function is.

<DT><CODE>-mlittle</CODE>
<DD><DT><CODE>-mlittle-endian</CODE>
<DD>On System V.4 and embedded PowerPC systems compile code for the
processor in little endian mode.  The <SAMP>`-mlittle-endian'</SAMP> option is
the same as <SAMP>`-mlittle'</SAMP>.

<DT><CODE>-mbig</CODE>
<DD><DT><CODE>-mbig-endian</CODE>
<DD>On System V.4 and embedded PowerPC systems compile code for the
processor in big endian mode.  The <SAMP>`-mbig-endian'</SAMP> option is
the same as <SAMP>`-mbig'</SAMP>.

<DT><CODE>-mcall-sysv</CODE>
<DD>On System V.4 and embedded PowerPC systems compile code using calling
conventions that adheres to the March 1995 draft of the System V
Application Binary Interface, PowerPC processor supplement.  This is the
default unless you configured GCC using <SAMP>`powerpc-*-eabiaix'</SAMP>.

<DT><CODE>-mcall-aix</CODE>
<DD>On System V.4 and embedded PowerPC systems compile code using calling
conventions that are similar to those used on AIX.  This is the
default if you configured GCC using <SAMP>`powerpc-*-eabiaix'</SAMP>.

<DT><CODE>-mprototype</CODE>
<DD><DT><CODE>-mno-prototype</CODE>
<DD>On System V.4 and embedded PowerPC systems assume that all calls to
variable argument functions are properly prototyped.  Otherwise, the
compiler must insert an instruction before every non prototyped call to
set or clear bit 6 of the condition code register (<VAR>CR</VAR>) to
indicate whether floating point values were passed in the floating point
registers in case the function takes a variable arguments.  With
<SAMP>`-mprototype'</SAMP>, only calls to prototyped variable argument functions
will set or clear the bit.
</DL>
<HR>
Go to the <A HREF="usegcc_1.html">first</A>, <A HREF="usegcc_27.html">previous</A>, <A HREF="usegcc_29.html">next</A>, <A HREF="usegcc_139.html">last</A> section, <A HREF="usegcc_toc.html">table of contents</A>.
</BODY>
</HTML>
