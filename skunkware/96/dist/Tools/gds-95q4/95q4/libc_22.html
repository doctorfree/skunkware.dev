<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.31
     from libc.texinfo on 9 October 1995 -->

<TITLE>The Cygnus C Support Library - rand</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_21.html">previous</A>, <A HREF="libc_23.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
<HR>
<A NAME="IDX32"></A>
<A NAME="IDX33"></A>
<A NAME="IDX34"></A>
<A NAME="IDX35"></A>
<H2><A NAME="SEC22" HREF="libc_toc.html#TOC22"><CODE>rand</CODE>, <CODE>srand</CODE>---pseudo-random numbers</A></H2>
<STRONG>Synopsis</STRONG>
<PRE>
#include &#60;stdlib.h&#62;
int rand(void);
void srand(unsigned int <VAR>seed</VAR>);

int _rand_r(void *<VAR>reent</VAR>);
void _srand_r(void *<VAR>reent</VAR>, unsigned int <VAR>seed</VAR>);

</PRE>
<STRONG>Description</STRONG><BR>
<CODE>rand</CODE> returns a different integer each time it is called; each
integer is chosen by an algorithm designed to be unpredictable, so
that you can use <CODE>rand</CODE> when you require a random number.
The algorithm depends on a static variable called the "random seed";
starting with a given value of the random seed always produces the
same sequence of numbers in successive calls to <CODE>rand</CODE>.
<P>
You can set the random seed using <CODE>srand</CODE>; it does nothing beyond
storing its argument in the static variable used by <CODE>rand</CODE>.  You can
exploit this to make the pseudo-random sequence less predictable, if
you wish, by using some other unpredictable value (often the least
significant parts of a time-varying value) as the random seed before
beginning a sequence of calls to <CODE>rand</CODE>; or, if you wish to ensure
(for example, while debugging) that successive runs of your program
use the same "random" numbers, you can use <CODE>srand</CODE> to set the same
random seed at the outset.
<P>
<CODE>_rand_r</CODE> and <CODE>_srand_r</CODE> are reentrant versions of <CODE>rand</CODE> and
<CODE>srand</CODE>.  The extra argument <VAR>reent</VAR> is a pointer to a reentrancy
structure.
<P>
<BR>
<STRONG>Returns</STRONG><BR>
<CODE>rand</CODE> returns the next pseudo-random integer in sequence; it is a
number between <CODE>0</CODE> and <CODE>RAND_MAX</CODE> (inclusive).
<P>
<CODE>srand</CODE> does not return a result.
<P>
<BR>
<STRONG>Portability</STRONG><BR>
<CODE>rand</CODE> is required by ANSI, but the algorithm for pseudo-random
number generation is not specified; therefore, even if you use
the same random seed, you cannot expect the same sequence of results
on two different systems.
<P>
<CODE>rand</CODE> requires no supporting OS subroutines.
<P>
<BR>
<P>
<HR>
Go to the <A HREF="libc_1.html">first</A>, <A HREF="libc_21.html">previous</A>, <A HREF="libc_23.html">next</A>, <A HREF="libc_140.html">last</A> section, <A HREF="libc_toc.html">table of contents</A>.
</BODY>
</HTML>
