<HTML><HEAD><TITLE>XV: The TextView Window</TITLE></HEAD>
<BODY><H1>The TextView Window</H1>
<IMG SRC="fig-164.gif" WIDTH=612 HEIGHT=230>
<A NAME="overview"><H2>  Overview</H2></A>
<P> <I>xv</I> now has the ability to display arbitrary text data.  While there are 
several different ways to cause a
 <I>TextView</I> window to appear, (such as opening an unrecognized type of file, 
using the 
 <B>Text view</B>
 command
in the  <I>Visual Schnauzer</I>, or the 
 <B>TextView</B>
, 
 <B>Comments</B>
, or 
 <B>License</B>
 commands in the  <I>xv controls</I> window)
all of the windows behave the same.</P>
<P>The TextView window has two primary modes of operation.  It can display 
data as ASCII text, or it can
display data in hexadecimal format.</P>
<P>There are a total of two TextView windows available.  One is reserved for 
the 
 <B>Comments</B>
 command.  The
other is used for all other text data.</P>
<P>As you might suspect, you can scroll the TextView windows by using the 
mouse in the scroll bars (as
described in "<A HREF="control-window.html#operating-list-window">Operating a List Window"</A>
).  Likewise, you 
can scroll the window around
using the arrow keys on your keyboard, the 
 <B>&lt;PageUp></B>
 and 
 <B>&lt;PageDown></B>
 keys (sometimes labeled
 <B>&lt;Prev></B>
 and 
 <B>&lt;Next></B>
) and the 
 <B>&lt;Home></B>
 and 
 <B>&lt;End></B>
 keys.  It behaves as you would expect.</P>
<P>You can switch modes by pressing the nice friendly 
 <B>Ascii</B>
 and 
 <B>Hex</B>
 buttons.  
 <B>Close</B>
 (or pressing 
 <B>&lt;Esc></B>
)
will close the TextView window.</P>
<A NAME="ascii-mode"><H3>  ASCII Mode</H3></A>
<P>This is the default mode for the TextView windows.  It will display text of 
any width and length.  The
only limitation is that all of the text must fit into memory.  If it 
doesn't, you'll get an appropriate error
message, and the text will not be displayed.</P>
<P>TextView windows are resizable.  When you change the size of the main 
window, the inner text display
window will change size appropriately, and display more (or less) data.  
While the default size of all
TextView windows (except for the 
 <B>Comments</B>
 window) is 80 characters wide by 24 lines high, there is
nothing magical about these numbers.  They're only chosen out of a sense of tradition.</P>
<P>When in ASCII mode, the TAB character (ctrl-I) and the NL character (ctrl-J) are interpreted as 
is normal
on a UNIX system (e.g. tab stops every 8 characters, NL marks end of line). 
 The CR character (ctrl-M) is
not displayed.</P>
<P>All other control characters (characters with an ASCII value less than 
'32') are displayed with a caret (^)
and the appropriate upper-case letter.  For example, character number 17 
(decimal) will be displayed as
'^Q'.</P>
<P>All characters with an ASCII value greater than 127 are displayed as octal 
numbers with a leading
backslash.  As an example, character number 128 (decimal) will display as '\'.</P>
<P>All other characters are displayed with the appropriate standard glyph.</P>
<A NAME="hex-mode"><H3>  Hex Mode<BR></A>
<IMG SRC="fig-165.gif" WIDTH=612 HEIGHT=230><BR>
</B></P>
<P>This mode is useful for displaying binary data.  In fact, if you have some 
binary data to display, you might
want to start up  <I>xv</I> just to display it, as this mode beats the heck out of 
using the standard UNIX command
'
 <TT>od -ha</TT>
'.</P>
<P>The data is shown 16 bytes to a line.  The first number on each line is the 
offset (in hex) from the
beginning of the file.  This is followed by 16 bytes, shown in hex, and 
then in ASCII.  Bytes which have a
value less than 0x20 or greater than 0x7f are shown as a '.' in the ASCII section.</P>
<P>While you can resize the window while in 
 <B>Hex</B>
 mode, changing the width will not be of any use, as the
output is formatted for an 80 character wide TextView window.  Making the 
window wider will just put
unused space on the right side.  Making the window narrower will just 
enable the horizontal scroll bar.
Changing the height of the window may prove useful, however.</P>
<A NAME="comment-window"><H2>  The Comment Window</H2></A>
<P>The  <I>xv comments</I> window (opened by the 
 <B>Comments</B>
 command in the  <I>xv controls</I> <STRONG> </STRONG>window) operates in
exactly the same way as the TextView window.  You can even display image 
comments in 
 <B>Hex</B>
 mode,
though I don't see that as being very useful.</P>
<P>The  <I>xv comments</I>
 window displays any comments found in the currently-loaded image file.  If 
there are no
comments, the window will be empty.  Note that only certain image formats 
support comment fields
(GIF89, JPEG, TIFF, and PBM/PGM/PPM are the most likely formats to have comments).</P>
<P>Whenever a new image is loaded, the  <I>xv comments</I>
 window is updated to reflect the new image comments,
or lack thereof.</P>
<P>Whenever you save an image in a format that supports comments, the comments 
from the last loaded
image will be written out as well.  This lets you read a file (say a GIF) 
which has comments, and write it
out in another format (say, JPEG) preserving the comments.</P>
<P>Currently,  <I>xv</I> does  <I>not</I> give you a way to directly edit the image comments.  
Given how few images
actually have comments in them, it seemed like a lot of work for very 
little gain.  (Yeah, I know, if
something actually let you edit the comments, perhaps people would start 
entering some...)  Whatever.
Seems likely enough that this feature will make it into a future version of 
 <I>xv</I>.  Of course, that's exactly
what I said in the 3.00 documentation, a year and a half ago, so you may 
want to take that statement with
a grain of salt...</P>
<P>Until then, if you  <I>really</I> want to add or edit the comments in an image 
file, write it out as a
PBM/PGM/PPM file.  This format has a plain-text header (comments simply 
begin with a '#' character,
which is not part of the comment), and you can edit it very easily with 
 <I>emacs</I>, or any other reasonable text
editor.  Once that's done, you can use  <I>xv</I>
 to convert the file back into the desired format.</P>
<HR>
This document was extracted from the PostScript documentation and
formatted by <A HREF="mailto:rjohnson@shell.com">Roy Johnson</A>.
Much of the process was automated, and may therefore have introduced
errors.  Corrections are appreciated.

</BODY></HTML>
