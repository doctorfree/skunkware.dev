<HTML><HEAD><TITLE>XV: The Image Window</TITLE></HEAD>
<BODY>
<H1>  The Image Window</H1>
<P>Note:  unless explicitly stated otherwise, the term  <I>click</I>
 means "click with the Left mouse button."</P>
<P>Start the program up by typing '
 <TT>xv</TT>
'.  After a short delay, a window will appear with the default image
(the  <I>xv</I> logo, credits and revision date) displayed in it.  If you change 
the size of the window (using
whatever method your window manager provides), the image will be 
automatically stretched to fit the
window.<BR>
<IMG SRC="fig-002.gif" WIDTH=494 HEIGHT=300><BR>
</P>
<A NAME="displaying-pixel-values"><H2>  Displaying Pixel Values</H2></A>
<P>Clicking (and optionally dragging) the Middle mouse button inside this 
window will display pixel
information in the following format:</P>
<P> <TT>196, 137 = 191,121,209  #bf79d1  (287 42 81 HSV)  [ 0, 0]</TT></P>
<P>The first pair of numbers (196,137) are the  <I>x</I> and  <I>y</I> positions of the 
cursor, in image coordinates.  These
numbers remain the same regardless of any image resizing, or cropping;  a 
320x200 image remains a
320x200 image, regardless of what size it is displayed on the screen.</P>
<P>The first triplet of numbers (191,121,209) are the RGB values of the 
selected pixel.  The components will
have integer values in the range 0-255.  The values displayed are prior to 
any HSV/RGB modification, but
after any colormap changes.  See "<A HREF="color-editor.html">The Color Editor"</A>
 for details.</P>
<P>The next item is a six-digit value expressing the RGB values of the 
selected pixel in hex, in the #rrggbb
format.  This is the same format used to specify colors to other X programs, which may be useful.</P>
<P>The second triplet of numbers (287 42 81) are the HSV values of the 
selected pixel.  The first component
will have integer values in the range 0-359, and the second and third 
components will have integer values
in the range 0-100.  The values displayed are prior to any HSV/RGB 
modification, but after any colormap
changes.  See "<A HREF="color-editor.html">The Color Editor"</A>
 for details.  Also, see "<A HREF="rgb-hsv-colorspaces.html">RGB &amp; HSV Colorspaces"</A>

for more information about what these numbers mean.</P>
<P>Finally, the last pair of numbers is the distance (dx, dy) between the 
current mouse position and where the
mouse was originally clicked.
</P>
<P>Note:  If you actually want to measure some pixels, it will probably help 
to zoom in on a the relevant
portion of the image, to the point that you can see the individual pixels.  
See "<A HREF="image-window.html#zooming">Zooming"</A>

below.</P>
<P>Note:  This also sets the 'current color' value used by various painting 
tools.  (See "<A HREF="image-window.html#editing">Image
Editing"</A>
.)</P>
<P>This string is automatically copied to your X server's cut buffer whenever 
you measure pixel values.  This
lets you easily feed this information to another program, useful if you're 
doing manual feature extraction,
or something.  Try it:  measure a pixel's value, and then go click your 
Middle mouse button in an  <I>xterm</I>
window.</P>
<A NAME="selection-rectangle"><H2>  Selection Rectangle</H2></A>
<P>Bring up the  <I>xv controls</I> window by pressing the 
 <B>?</B>
 key or clicking the Right mouse button inside the
image window.</P>
<P>Clicking and dragging the Left button of the mouse inside the image window 
will allow you to draw a
selection rectangle on the image.  If you're unhappy with the one you've 
drawn, simply click the Left
button and draw another.  If you'd like the rectangle to go away 
altogether, click the Left button and
release it without moving the mouse.</P>
<P>Double-clicking the Left button inside the image window will create a 
selection rectangle the size of  the
currently displayed area of the image, or remove the previous selection as appropriate.</P>
<P>Once a selection rectangle has been drawn, it can be fine-tuned by clicking 
and dragging any of the
handles that appear on its edge.  If you press the &lt;
 <B>Shift</B>
> key while dragging a handle, the selection
rectangle is kept square.  If you press the &lt;
 <B>Ctrl</B>
> key while dragging a handle, the selection rectangle
maintains the same aspect ratio it originally had.</P>
<P>You can move the selection rectangle by Left-clicking inside it and 
dragging it around.  Pressing the
&lt;
 <B>Shift</B>
> key while doing so will constrain the motion to the horizontal and vertical axes.</P>
<P>You can determine how large the selection rectangle is (in image 
coordinates) by bringing up the  <I>xv info</I>
window.  Do this selecting 
 <B>Image Info</B>
 from the 
 <B>Windows</B>
 menu  <I>xv controls</I> window or by pressing the 
 <B>i</B>
key inside any open  <I>xv</I> window.</P>
<P>The  <I>xv info</I> window will display, among other things, the current size and 
position of the selection
rectangle in terms of image coordinates.  For example, if it says:</P>
<P> <TT>114x77 rectangle starting at 119,58</TT></P>
<P>it means that the current selection rectangle is 114 image pixels wide, 77 
image pixels high, and that its
top-left corner is located 119 image pixels in from the left edge of the 
image, and 58 image pixels in from
the top edge.  These values will be updated as you drag the cropping rectangle around.</P>
<P>If you want to set the size or position of the selection rectangle 
precisely, you can use the arrow keys on
your keyboard.  First, make the  <I>xv info</I> window visible as described above.  
Second, use the mouse to draw
a rough approximation of the selection rectangle that you want.  You can 
now use the arrow keys to move
the selection rectangle around the image.  Once you've gotten the top and 
left sides of the selection
rectangle precisely where you want them, you can move the bottom-right 
corner of the selection rectangle
by holding the 
 <B>&lt;shift></B>
 key down while using the arrow keys.  Pressing the up arrow will make the
rectangle shorter, and pressing the down arrow will make the rectangle taller.
</P>
<A NAME="cropping"><H2>  Cropping</H2></A>
<P>Once you have a selection rectangle that you can live with, you can proceed 
with the actual cropping
operation.  Click the 
 <B>Crop</B>
 button in the  <I>xv controls</I> window, or press the 
 <B>c</B>
 key in any open  <I>xv</I> window.
The image window will shrink to show only portions of the image that were inside the cropping rectangle.</P>
<P>Note:  if you are running a window manager such as  <I>mwm</I>, which decorates 
windows with a title bar,
resizing regions, and such, it is quite possible that the aspect ratio of 
the cropped image will get screwed
up.  This is because certain window managers enforce a minimum window size. 
 If you try to crop to a
rectangle that is too small, the window manager will create the smallest window it can, and 
the image will
be stretched to fit this window.  If this happens, you can press the 
 <B>Aspect</B>
 button in the  <I>xv controls</I>
window, or press the 
 <B>a</B>
 key in any open  <I>xv</I> window.  This will expand the image so that it will 
once again
have the correct aspect ratio.  (Also, see the '
 <TT>-nodecor</TT>
' option, in "<A HREF="modifying-behavior.html#miscellaneous-options">Miscellaneous
Options"</A>
.)</P>
<P>You can crop a cropped image by repeating the same steps (drawing a new 
selection rectangle and issuing
the 
 <B>Crop</B>
 command), ad infinitum.</P>
<P>You can return to the original, uncropped image by using the 
 <B>UnCrop</B>
 command.  Simply click the
 <B>UnCrop</B>
 button or press the 
 <B>u</B>
 key in any open  <I>xv</I> window.  Note that using the 
 <B>UnCrop</B>
 command will
turn off image smoothing (the 
 <B>Smooth</B>
 command), due to the potentially long time it can take to generate
a large, smoothed image.</P>
<P>Note that if you try to make the selection rectangle too small in either 
width or height (under 5 screen
pixels), it'll just turn itself off.  If you want to crop a very small 
portion of an image, you'll probably have
to do it in two passes.  First, crop to a smallish rectangle, expand that image, then crop again.</P>
<P>You can also fine-crop the image by pressing the 
 <B>&lt;Ctrl></B>
 key and one of the arrow keys.  This will crop off
one pixel from the edge of the image, based on the arrow key pressed.  The 
 <B>Up</B>
 key moves the bottom edge
up one pixel, the 
 <B>Down</B>
 key moves the top edge down one pixel, and so on.</P>
<A NAME="zooming"><H2>  Zooming</H2></A>
<P>ctrl
+
You can 
 <B>Zoom In</B>
 by a factor of two (or four, or eight, etc.) on any rectangular
region of the image by holding down the &lt;
 <B>Ctrl</B>
> key on your keyboard and
clicking the Left mouse button in the image window.  A rectangle will 
appear,
centered around the cursor position, showing you what portion of the image
will be expanded.  Move the rectangle as you see fit, release the mouse 
button,
and the region inside the rectangle will be redrawn at twice its previous 
size.
The image window should remain the same size.  You can repeat this operation
to zoom in by a factor of four, or eight, or whatever, as many times as you wish.</P>
<P>ctrl
+
While zoomed-in, you can 
 <B>Pan</B>
 the image around by holding down the &lt;
 <B>Ctrl</B>
>
key, clicking the Middle mouse button in the image window, and dragging it
around.  A rectangle will appear around the mouse, indicating where the
currently-displayed portion of the image will be moved to.</P>
<P>ctrl
+
You can 
 <B>Zoom Out</B>
 by a factor of two (if possible) by holding down the 
 <B>&lt;Ctrl></B>
key and clicking the Right mouse button inside the image window.  You can
not zoom out beyond the point where the entire image fills the window.
</P>
<A NAME="multi-page-documents"><H2>  Multi-Page Documents</H2></A>
<P> <I>xv</I> now has the ability to display multi-page image files, though currently 
this is only implemented for
PostScript files (using the  <I>ghostscript</I>
 interpreter).  If you are viewing a multi-page document, a "page  <I>n</I> of
 <I>m</I>" string will be added to the  <I>xv image</I> window's title bar.</P>
<P>You can walk through the document by pressing the 
 <B>&lt;PageUp></B>
 and 
 <B>&lt;PageDown></B>
 keys on your keyboard
(they may be labeled 'Prev' and 'Next' instead) while the keyboard focus is 
on the  <I>xv image</I> window.
Pressing 
 <B>&lt;shift-Up></B>
 and 
 <B>&lt;shift-Down></B>
 may also work.</P>
<P>You can also jump directly to any given page by typing '
 <B>p</B>
' into the  <I>xv image </I>window.  This will pop up a
dialog window which will ask you what page you'd like to go to.</P>
<A NAME="editing"><H2>  Image Editing</H2></A>
<P> <I>xv</I> now features a number of rudimentary image-editing tools.  While it 
isn't about to compete with
Adobe's  <I>PhotoShop</I> anytime soon, you may still find what it does to be of 
some use.  You now have the
ability to do pixel-editing, freehand 'scribbling', line drawing, and 
pixel-level 'smudging'.  Also,  <I>xv</I> now
supports cut, paste, copy, and clear of rectangular selections, as 
described in "<A HREF="control-window.html#cut-paste-commands">Image Cut and
Paste Commands"</A>
.  Also,  <I>xv</I> now has a 'text annotation' tool, described in
"<A HREF="control-window.html#text-annotation">Text Annotation"</A>
.</P>
<P>The major weakness:  the various drawing tools listed above  <I>can</I>  <I>only draw 
in colors that already exist in
the image</I>.  At this time, these tools (and  <I>xv</I>) are primarily focused on the 
'image editing' job, rather than
on the 'arbitrary paint program' job.  Needless to say, there's still a way 
to paint in whatever color you'd
like.  It's just a matter of getting the desired color(s) into the picture. 
 The best way is probably to use the
 <B>Pad</B>
 command (see "<A HREF="control-window.html#pad-command">The Pad Command"</A>
).</P>
<A NAME="pixel-editing-line-drawing"><H3>  Pixel Editing and Line Drawing</H3></A>
<P>All of the following drawing commands use the concept of the 'current 
color'.  The current color is set by
using the Middle mouse button in the image window to 'pick up' the desired color.</P>
<P>You can edit individual pixels by doing a shift-middle-click with the 
mouse.  (Hold a &lt;
 <B>Shift</B>
> key, and
Middle-click somewhere in the image window.)  The selected pixel will 
change to the desired color.  It
will probably help to zoom in on the relevant section of the image first.  
Anyway, if you drag the mouse
around, you will be able to draw arbitrary 'scribbles' all over the image.  
This probably isn't desirable, so
be careful!</P>
<P>You can also draw straight lines by holding down the &lt;
 <B>Ctrl</B>
> key along with the shift-middle
combination.</P>
<A NAME="pixel-smudging"><H3>  Pixel Smudging</H3></A>
<P>You can 'smudge' specific areas of the image by doing a shift-right-click 
with the mouse, in the image
window.  The clicked-on pixel will be replaced with the average color of 
the 9 pixels in the 3x3 square
centered on said pixel.  This can be used to manual edit out 'salt and 
pepper' noise.  It can also be used to
soften edges.  As with the pixel editing tool, you can drag the 'smudger' around.</P>
<P>Note:  This only works in '24-bit' mode.  If you are viewing an 8-bit 
image, it will be automatically
converted up to a 24-bit version of itself.</P>
<P>Note:  While this tool is similar to the 
 <B>Blur</B>
 and 
 <B>DeSpeckle</B>
 algorithms, those algorithms operate on  <I>every</I>
pixel in a rectangular region, whereas this tool operates only on those pixels that you click or drag on.</P>
<HR>
This document was extracted from the PostScript documentation and
formatted by <A HREF="mailto:rjohnson@shell.com">Roy Johnson</A>.
Much of the process was automated, and may therefore have introduced
errors.  Corrections are appreciated.

</BODY></HTML>
