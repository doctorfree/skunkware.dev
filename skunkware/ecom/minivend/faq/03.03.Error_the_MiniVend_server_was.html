<HTML>
<HEAD>
<TITLE>Error -- the MiniVend server was not running...</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="03.00.Configuration_Problems.html">Up</A>&nbsp;&nbsp;<A HREF="03.02.We_re_sorry_the_MiniVend_server.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="03.04.I_get_messages_like_Config_pm_n.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="Error_the_MiniVend_server_was">Error -- the MiniVend server was not running...</A></H2>
<P>
This indicates that the link 
<FONT SIZE=-1>CGI</FONT> is not communicating with the MiniVend server.

<P>
<STRONG>IMPORTANT NOTE:</STRONG> The server should always be started by the same user 
<FONT SIZE=-1>ID</FONT> which owns the suid
<EM>vlink</EM> program. (This does not apply to 
<FONT SIZE=-1>TLINK/INET</FONT> mode.)

<P>
The server must be running, first of all. If you didn't start it, you can
do so by going to the <STRONG>MiniVend home directory</STRONG> and typing:

<P>
<PRE>    bin/start
</PRE>
<P>
You can check to see if your server is running by typing:

<P>
<PRE>    Linux, SunOS, BSD:    ps -ax | grep minivend
    Most other systems:   ps -elf | grep minivend
</PRE>
<P>
<STRONG>Note</STRONG>: Solaris and 
<FONT SIZE=-1>IRIX</FONT> truncate the string, and doesn't allow setting of
the <CODE>$0</CODE> parameter. You may have to grep for 'perl' instead.

<P>
If the server is not running, it may have failed due to another process occupying the 
<FONT SIZE=-1>TCP</FONT> socket 7786. If using 
<FONT SIZE=-1>VLINK,</FONT> you may start MiniVend with 'start -u', which will not monitor the internet-domain socket.


<P>
If 
<FONT SIZE=-1>VLINK</FONT> is not communicating with the server, there are a number of possible reasons. First, if you are trying to run MiniVend on an 
<FONT SIZE=-1>ISP,</FONT> go to the section about 
<FONT SIZE=-1>ISP</FONT> problems -- it is probably one of those. If you are running MiniVend on a single machine, it is probably one of:


<P>
<PRE>    1. Permissions problems
    2. MiniVend on NFS-mounted file system
</PRE>
<P>
Permissions are easy. If you for some reason can't run 
<FONT SIZE=-1>VLINK</FONT> as an 
<FONT SIZE=-1>SUID</FONT> program 
<FONT SIZE=-1>(SUID</FONT> to your user 
<FONT SIZE=-1>ID,</FONT> not to root), then you will need to make permissions more permissive. See the MiniVend documentation for how to use the ReadPermission and WritePermission directives to make the session files and sockets 'group' or 'world' readable and writable. If you can make your 
<FONT SIZE=-1>UID,</FONT> or the one you have chosen to own MiniVend, the same group as your 
<FONT SIZE=-1>HTTP</FONT> user, then you can make the files group read-write. If you can't, you will have to set the dreaded 'world' permissions.


<P>
If you are running MiniVend on an NFS-mounted file system it cannot run in server mode, because UNIX-domain sockets don't work on 
<FONT SIZE=-1>NFS.</FONT> You will need to change to static mode from server mode, or better yet, put MiniVend on a file system that is directly mounted.


<P>
As of MiniVend 2.03, you can use MiniVend in 
<FONT SIZE=-1>INET</FONT> mode along with the tlink.c program to allow running across 
<FONT SIZE=-1>NFS</FONT> boundaries. If you have not changed the configured defaults, and still it will not communicate, you should try setting the 
<FONT SIZE=-1>LINK_HOST</FONT> and 
<FONT SIZE=-1>LINK_PORT</FONT> directives in tlink.c and recompiling. &lt;hr&gt;



<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="03.00.Configuration_Problems.html">Up</A>&nbsp;&nbsp;<A HREF="03.02.We_re_sorry_the_MiniVend_server.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="03.04.I_get_messages_like_Config_pm_n.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
