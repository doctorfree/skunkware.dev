<HTML>
<HEAD>
<TITLE>PGP encryption -- Server Error</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="07.00.Setup_Questions.html">Up</A>&nbsp;&nbsp;<A HREF="07.04.Can_I_attach_a_size_or_color_to_.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="07.06.PGP_encryption_What_do_I_do_n.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="PGP_encryption_Server_Error">PGP encryption -- Server Error</A></H2>
<P>
As always, check the error log. The most common problem is something like:

<P>
<PRE>    minivend.com 3Ex5lvta:minivend.com - [01/Sep/1997:09:08:43] simple /cgi-bin/simple
    &gt; Encryption error:
    &gt;
</PRE>
<P>
Probable causes:

<DL>
<DT><STRONG>Minivend user ID doesn't have keyring</STRONG><DD>
You must have a <CODE>.pgp</CODE> or <CODE>.gnupg</CODE> directory in the <STRONG>home</STRONG> directory of the user running MiniVend. It is also possible to set an environment variable (variously 
<FONT SIZE=-1>PGPPATH</FONT> or 
<FONT SIZE=-1>GNUPGPATH)</FONT> to orient the program correctly.


</DD><P><DT><STRONG><A NAME="item_Trust">Trust problems</A></STRONG><DD>
If the key you are sending to has not been signed by another (trusted) user, then you will get error returns from some flavors of 
<FONT SIZE=-1>PGP,</FONT> which causes the problem. Sometimes the fix is to route the error output to /dev/null (at least on 
<FONT SIZE=-1>UNIX)</FONT> by changing the EncryptProgram directive in catalog.cfg:


<P>
<PRE> EncryptProgram  /usr/bin/pgp -fat -r sales@your.com 2&gt;/dev/null
</PRE>
<P>
For 
<FONT SIZE=-1>GNU</FONT> Privacy Guard, 
<FONT SIZE=-1>GPG,</FONT> you would use something like:


<P>
<PRE> EncryptProgram /usr/local/bin/gpg -fa --always-trust -r sales@your.com
    
On Windows or other operating systems, the only fix is to sign the
key or otherwise prevent the error from occurring.
</PRE>
</DD><P></DL>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="07.00.Setup_Questions.html">Up</A>&nbsp;&nbsp;<A HREF="07.04.Can_I_attach_a_size_or_color_to_.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="07.06.PGP_encryption_What_do_I_do_n.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
