<HTML>
<HEAD>
<TITLE>How do I get the number of items in a shopping cart?</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="07.00.Setup_Questions.html">Up</A>&nbsp;&nbsp;<A HREF="07.06.PGP_encryption_What_do_I_do_n.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="07.08.The_demo_doesn_t_do_pick_one_.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="How_do_I_get_the_number_of_items">How do I get the number of items in a shopping cart?</A></H2>
<P>
If it is simply the <EM>total</EM> number, extended according to quantity, then you can use the [nitems] tag.
If you need this number for use in an embedded Perl script, you can use

<P>
<PRE>    $number = $Tag-&gt;nitems();
</PRE>
<P>
If it is the number of line items you need, then you can use a Perl script:

<P>
<PRE>    [perl]
        return scalar @{$Carts-&gt;{main}};
    [/perl]
</PRE>
<P>
(The 'main' refers to the main shopping cart.)

<P>
If you have SeparateItems in effect, and need the number of
<EM>unique</EM> items, you could use:

<P>
<PRE>    [perl]
        my $cart = $Carts-&gt;{main};
        foreach my $item (@$cart) {
    @items = split /\|/, $items;
    $count = 0;
    for (@items) {
    $count++ unless $seen{$_}++;
    }
    $count;
    [/perl]
</PRE>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="07.00.Setup_Questions.html">Up</A>&nbsp;&nbsp;<A HREF="07.06.PGP_encryption_What_do_I_do_n.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="07.08.The_demo_doesn_t_do_pick_one_.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
