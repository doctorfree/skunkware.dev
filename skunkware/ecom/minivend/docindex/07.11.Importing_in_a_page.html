<HTML>
<HEAD>
<TITLE>Importing in a page</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="07.00.DATABASES.html">Up</A>&nbsp;&nbsp;<A HREF="07.10.IMPORT_ONCE.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="07.12.Exporting_from_a_database.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="Importing_in_a_page">Importing in a page</A></H2>
<P>
You might often want to add a data record to a database as a result of an
order or other operation. Use MiniVend's <CODE>[import ...]</CODE> tag.

<DL>
<DT><STRONG><A NAME="item__import">[import table type*] RECORD [/import]</A></STRONG><DD>
Named attributes:

<P>
<PRE> [import table=table_name
         file=filename*
         type=(TAB|PIPE|CSV|%%|LINE)*
         continue=(NOTES|UNIX|DITTO)*
         separator=c*]
</PRE>
</DD><P></DL>
<P>
Import one or more records into a database. The <A HREF="#item_type">type</A> is any of the valid MiniVend delimiter types, with the default being 
<FONT SIZE=-1>TAB.</FONT> The table must already be a defined MiniVend database table; it cannot be created on the fly. (If you need that, it is time to use 
<FONT SIZE=-1>SQL.)</FONT>


<P>
The import type selected need not match the type the database was
specified; different delimiters may be used.

<P>
The <A HREF="#item_type">type</A> of <CODE>LINE</CODE> and <CODE>continue</CODE> setting of <CODE>NOTES</CODE> is particularly useful, for it allows you to name your fields and not have
to remember the order in which they appear in the database. The following
two imports are identical in effect:

<P>
<PRE>    [import table=orders]
             code: [value mv_order_number]
    shipping_mode: [shipping-description]
           status: pending
    [/import]
  
    [import table=orders]
    shipping_mode: [shipping-description]
    status:        pending
    code:          [value mv_order_number]
    [/import]
</PRE>
<P>
The <A HREF="#item_code">code</A> or key must always be present, and is always named <A HREF="#item_code">code</A>.

<P>
If you do not use <CODE>NOTES</CODE> mode, you must import the fields in the same order as they appear in the 
<FONT SIZE=-1>ASCII</FONT> source file.

<P>
The <A HREF="#item_file">file</A> option overrides the container text and imports directly from a named file <EM>based in the catalog directory</EM>. Careful, if you want to import from <CODE>products.txt</CODE> you must specify
<CODE>file=&quot;products/products.txt&quot;</CODE>. If the <EM>NoAbsolute</EM> directive is set to <CODE>Yes</CODE> in minivend.cfg, only relative path names will be allowed.

<P>
The <CODE>[import ....] TEXT [/import]</CODE> region may contain multiple records. If using <CODE>NOTES</CODE> mode, you must use a separator, which by default is a form-feed character 
<FONT SIZE=-1>(^L).</FONT> See <EM>Import Attributes</EM> above for more information.

<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="07.00.DATABASES.html">Up</A>&nbsp;&nbsp;<A HREF="07.10.IMPORT_ONCE.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="07.12.Exporting_from_a_database.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
