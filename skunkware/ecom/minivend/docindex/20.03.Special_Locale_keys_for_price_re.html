<HTML>
<HEAD>
<TITLE>Special Locale keys for price representation</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="20.00.INTERNATIONALIZATION.html">Up</A>&nbsp;&nbsp;<A HREF="20.02.MiniVend_Locale_Settings.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="20.04.Dynamic_locale_directive_changes.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="Special_Locale_keys_for_price_re">Special Locale keys for price representation</A></H2>
<P>
MiniVend honors the standard 
<FONT SIZE=-1>POSIX</FONT> keys:

<P>
<PRE>    mon_decimal_point decimal_point 
    mon_thousands_sep thousands_sep 
    currency_symbol   int_currency_symbol
    frac_digits       p_cs_precedes
</PRE>
<P>
See the 
<FONT SIZE=-1>POSIX</FONT> <CODE>setlocale(3)</CODE> man page for more
information.

<P>
These will be used for formatting prices and will approximate the number
format used in most countries. To set the price format to something that is
exactly how you want it, you can use the special keys:

<DL>
<DT><STRONG><A NAME="item_price_picture">price_picture</A></STRONG><DD>
MiniVend will format a currency number based on a ``picture'' given to it.
The basic form is:

<P>
<PRE>    Locale en_US price_picture &quot;$ ###,###,###.##&quot;
</PRE>
<P>
This is the presumably for locale <CODE>en_US</CODE>, the United States, and it would display <CODE>4452.3</CODE> as <CODE>$ 4,445.30</CODE>.

<P>
The same display can be achieved with:

<P>
<PRE>     Locale en_US mon_thousands_sep ,
     Locale en_US mon_decimal_point .
     Locale en_US p_cs_precedes     1
     Locale en_US currency_symbol   $
</PRE>
<P>

<FONT SIZE=-1>A</FONT> common price_picture for European countries would be <CODE>###.###.###,##</CODE>, which would display the same number as <CODE>4.452,30</CODE>. To add a franc notation at the end for the locale <CODE>fr_FR</CODE>, you would use the setting:

<P>
<PRE>    Locale fr_FR price_picture &quot;##.###,## fr&quot;
</PRE>
<P>

<FONT SIZE=-1>IMPORTANT</FONT> 
<FONT SIZE=-1>NOTE:</FONT> The decimal point in use, set by
 <CODE>mon_decimal_point</CODE>, and the thousands separator <CODE>mon_thousands_sep</CODE>  <STRONG>must</STRONG> match the settings in the picture. The <CODE>frac_digits</CODE> setting is not used in this case -- it is derived from the location of the
decimal (if any).

<P>
The same setting for fr_FR above can be achieved with:

<P>
<PRE>     Locale fr_FR mon_thousands_sep .
     Locale fr_FR mon_decimal_point ,
     Locale fr_FR p_cs_precedes     0
     Locale fr_FR currency_symbol   fr
</PRE>
<P>
If the number of digits is greater than the # locations in the picture, the
digits will be changed to asterisks. An overflow number above would show as <CODE>**.***,** fr</CODE>.

</DD><P><DT><STRONG><A NAME="item_picture">picture</A></STRONG><DD>
Same as <A HREF="#item_price_picture">price_picture</A>, but sets the value returned if the <CODE>[currency]</CODE>
tag is not used.

<P>
If the number of digits is greater than the # locations in the picture, the
digits will be changed to asterisks, displaying something like
<CODE>**,***.**</CODE>.

</DD><P></DL>
<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="20.00.INTERNATIONALIZATION.html">Up</A>&nbsp;&nbsp;<A HREF="20.02.MiniVend_Locale_Settings.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="20.04.Dynamic_locale_directive_changes.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
