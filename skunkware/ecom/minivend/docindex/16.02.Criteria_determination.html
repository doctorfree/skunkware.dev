<HTML>
<HEAD>
<TITLE>Criteria determination</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="16.00.SHIPPING.html">Up</A>&nbsp;&nbsp;<A HREF="16.01.Shipping_Cost_Database.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="16.03.Shipping_Calculation_modes.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="Criteria_determination">Criteria determination</A></H2>
<P>
The criteria field varies according to whether it is the first field in the
shipping file exactly matching the mode identifier. In that case, it is
called the <STRONG>main criterion</STRONG>. If it is in subsidiary shipping lines matching the mode (with optional
appended digits) then it is called a
<STRONG>qualifying criterion</STRONG>. The difference is that the main criterion returns the basis for the
calculation (i.e. weight or quantity) while the qualifying criterion
determines whether the individual line may match the conditions.

<P>
The return must be one of:

<DL>
<DT><STRONG><A NAME="item_quantity">quantity</A></STRONG><DD>
quantity -- The literal value <STRONG>quantity</STRONG> as the main criterion will simply count the number of items in the shopping
cart and return it as the <EM>accumulated criteria</EM>. If you want to use a database table field named <A HREF="#item_quantity">quantity</A> then use the <CODE>table::field</CODE> notation.

</DD><P><DT><STRONG><A NAME="item_o">o &lt;field name&gt; or &lt;table&gt;::&lt;field name&gt;</A></STRONG><DD>

<FONT SIZE=-1>A</FONT> valid database field (column) name as main criterion
will cause the number of items in the shopping cart to be multiplied by the
<EM>value of the field for each item</EM> to obtain the <EM>accumulated criteria</EM>. If the table is not supplied, defaults to the first <A HREF="#item_ProductFiles">ProductFiles</A> table.

</DD><P><DT><STRONG>o n.nn</STRONG><DD>
where <STRONG>n.nn</STRONG> is any number. It will be directly used as the
<EM>accumulated criteria</EM>. This can be effectively returned from a Perl subroutine or MiniVend <CODE>[calc][item-list] ... [/item-list][/calc]</CODE>
to create custom shipping routines.

</DD><P></DL>
<P>
<STRONG>IMPORTANT NOTE:</STRONG> The above only applies to the <STRONG>first</STRONG> field that matches the shipping mode exactly. Following <STRONG>criteria</STRONG> fields contain qualifier matching strings.

<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="16.00.SHIPPING.html">Up</A>&nbsp;&nbsp;<A HREF="16.01.Shipping_Cost_Database.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="16.03.Shipping_Calculation_modes.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
