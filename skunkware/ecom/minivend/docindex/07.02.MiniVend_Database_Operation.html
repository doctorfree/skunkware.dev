<HTML>
<HEAD>
<TITLE>MiniVend Database Operation</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="07.00.DATABASES.html">Up</A>&nbsp;&nbsp;<A HREF="07.01.A_bit_about_text_source_files.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="07.03.The_Product_Database.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="MiniVend_Database_Operation">MiniVend Database Operation</A></H2>
<P>

<FONT SIZE=-1>NOTE:</FONT> In the following descriptions, we will use the
following terms somewhat interchangeably:

<DL>
<DT><STRONG><A NAME="item_key">key, code</A></STRONG><DD>
Either one is a reference to the <STRONG>key</STRONG> for the database. In MiniVend this is often the product <STRONG>code</STRONG> or <STRONG>SKU</STRONG>, which is the part number for the product. Other key values may be used to
generate relationships to other database tables.

<P>
It is required that the key be the first column of an 
<FONT SIZE=-1>ASCII</FONT> source file for 
<FONT SIZE=-1>GDBM,</FONT> Berkeley 
<FONT SIZE=-1>DB,</FONT> or in-memory built-in database formats. It is also strongly suggested that you keep that practice for 
<FONT SIZE=-1>SQL</FONT> databases, since MiniVend's import, export, and search facilities will work much better with that practice.


</DD><P><DT><STRONG><A NAME="item_field">field, column</A></STRONG><DD>
This is a column of the database. One of the columns is always the key --
MiniVend prefers that the key be the first column. Field is an
interchangeable reference.

</DD><P><DT><STRONG><A NAME="item_table">table, database</A></STRONG><DD>

<FONT SIZE=-1>A</FONT> table in the database. Because of the evolution of
MiniVend from a single-table database to an access method for an unlimited
number of tables (and databases, for that matter), we will sometimes refer
to a table as a database. The only time <STRONG>database</STRONG> refers to something different is when describing that concept as it relates to 
<FONT SIZE=-1>SQL</FONT> -- where a database contains a series of tables. MiniVend cannot create 
<FONT SIZE=-1>SQL</FONT> databases, but given the proper permissions it may drop and create tables within that database.


</DD><P></DL>
<P>
If necessary, MiniVend reads the data to place in tables from standard ASCII-delimited files. All of these 
<FONT SIZE=-1>ASCII</FONT> source files are kept in the products directory, normally
 <STRONG>products</STRONG> in the catalog directory (where catalog.cfg is).

<P>
The 
<FONT SIZE=-1>ASCII</FONT> files can have 
<FONT SIZE=-1>^M</FONT> (carriage return) characters if desired, but must have a newline character at the
 <STRONG>end</STRONG> of the line to work -- Mac users uploading files must use 
<FONT SIZE=-1>ASCII</FONT> mode, not binary mode!

<P>
MiniVend's default 
<FONT SIZE=-1>ASCII</FONT> delimiter is 
<FONT SIZE=-1>TAB.</FONT>


<P>
<STRONG>IMPORTANT NOTE:</STRONG> The items must be separated by a <STRONG>single</STRONG> delimiter. The items are lined up for your reading convenience.

<DL>
<DT><STRONG><A NAME="item_TAB">TAB</A></STRONG><DD>
Fields separated by 
<FONT SIZE=-1>^I</FONT> characters. No whitespace should be at the
beginning of the line.

<P>
<PRE>    code    description             price   image
    SH543   Men's fine cotton shirt 14.95   shirts.jpg
</PRE>
</DD><P><DT><STRONG><A NAME="item_PIPE">PIPE</A></STRONG><DD>
Fields separated by <CODE>|</CODE> characters. No whitespace should be at the beginning of the line.

<P>
<PRE>    code|description|price|image
    SH543|Men's fine cotton shirt|14.95|shirts.jpg
</PRE>
</DD><P><DT><STRONG><A NAME="item_CSV">CSV</A></STRONG><DD>
Fields enclosed in quotes, separated by commas. No whitespace should be at
the beginning of the line.

<P>
<PRE>    &quot;code&quot;,&quot;description&quot;,&quot;price&quot;,&quot;image&quot;
    &quot;SH543&quot;,&quot;Men's fine cotton shirt&quot;,&quot;14.95&quot;,&quot;shirts.jpg&quot;
</PRE>
</DD><P></DL>
<P>
<STRONG>NOTE:</STRONG> Using the default 
<FONT SIZE=-1>TAB</FONT> delimiter is highly recommended if you are planning on searching the 
<FONT SIZE=-1>ASCII</FONT> source file of the database. 
<FONT SIZE=-1>PIPE</FONT> works fairly well, but 
<FONT SIZE=-1>CSV</FONT> delimiter schemes cause problems with searching.


<P>
<STRONG>IMPORTANT NOTE:</STRONG> Field names are usually case-sensitive. Unless you are consistent in the
names, you will have problems. All lower or all upper case names are
recommended.

<P>
MiniVend uses one mandatory database, which is referred to as the products
database. In the supplied demo catalogs, it is called <EM>products</EM> and the 
<FONT SIZE=-1>ASCII</FONT> source is kept in the file <CODE>products.txt</CODE> in the products directory. This file is also the default file for searching
with the
<EM>THE SEARCH ENGINE</EM>.

<P>
MiniVend also has a two of standard but optional databases, which are in
fixed special formats:

<DL>
<DT><STRONG><A NAME="item_shipping">shipping.asc</A></STRONG><DD>
The database of shipping options if the <EM>CustomShipping</EM> directive is in use. This is a fixed-format database, and must be created
as specified. See <EM>SHIPPING</EM>.

</DD><P><DT><STRONG><A NAME="item_salestax">salestax.asc</A></STRONG><DD>
The database of sales tax information if the <A HREF="#item__salestax_">[salestax]</A> tag is to be used. 
<FONT SIZE=-1>A</FONT> default is supplied -- caution, these things change!
This is a fixed-format database, and must be created as specified. See <EM>Sales Tax</EM>.

</DD><P></DL>
<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="07.00.DATABASES.html">Up</A>&nbsp;&nbsp;<A HREF="07.01.A_bit_about_text_source_files.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="07.03.The_Product_Database.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
