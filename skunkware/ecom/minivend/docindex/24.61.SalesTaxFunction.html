<HTML>
<HEAD>
<TITLE>SalesTaxFunction</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="24.00.Configuration_Directives_in_cata.html">Up</A>&nbsp;&nbsp;<A HREF="24.60.SalesTax.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="24.62.SaveExpire.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="SalesTaxFunction">SalesTaxFunction</A></H2>
<P>

<FONT SIZE=-1>A</FONT> Perl subroutine that will return a hash reference
with the sales tax settings. This can be used to query a database for the
tax for a particular vendor:

<P>
<PRE>    SalesTaxFunction  &lt;&lt;EOR
    sub {
        my $vendor_id = $Session-&gt;{source};
        my $tax = $TextSearch-&gt;hash( {
                            se =&gt; $vendor_id,
                            fi =&gt; 'salestax.asc',
                            sf =&gt; 'vendor_code',
                            ml =&gt; 1000,
                            } );
        $tax = {} if ! $tax;
        $tax-&gt;{DEFAULT} = 0.0;
        return $tax;
    }
    EOR
</PRE>
<P>
or simply produce a table:

<P>
<PRE>    SalesTaxFunction  &lt;&lt;EOR
    sub {
        return {
            DEFAULT =&gt; 0.0,
            IL =&gt; 0.075,
            OH =&gt; 0.065,
        };
    }
    EOR
</PRE>
<P>

<FONT SIZE=-1>A</FONT> <CODE>DEFAULT</CODE> value must always be returned or the function will be ignored.

<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="24.00.Configuration_Directives_in_cata.html">Up</A>&nbsp;&nbsp;<A HREF="24.60.SalesTax.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="24.62.SaveExpire.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
