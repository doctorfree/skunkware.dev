<HTML>
<HEAD>
<TITLE>Handling charges</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="16.00.SHIPPING.html">Up</A>&nbsp;&nbsp;<A HREF="16.06.Geographic_qualification.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="16.08.Default_Shipping_Mode.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="Handling_charges">Handling charges</A></H2>
<P>
Additional handling charges can be defined in the shipping file by setting
the form variable <CODE>mv_handling</CODE> to a space, comma, or null-separated set of valid shipping modes. The
lookup and charges are done in the same fashion, and the additional charges
are added to the order. (The user is responsible for displaying the charge
on the order report or receipt with a <CODE>[shipping handling]</CODE>
tag or the like.) All of the shipping modes found in mv_handling will be
applied -- if multiple instances are found on a form, the accordingly
null-separated values will all be applied. Careful! This should not be done
in an item-list unless you take care to account for multiple setting of the
variables.

<P>
If you wished only to process a handling charge once, you could do safely:

<P>
<PRE>    [item-list]
    [if-item-field very_heavy]
    [perl values]
        return '' if $Values-&gt;{mv_handling} =~ /very_heavy/;
        return &quot;&lt;INPUT TYPE=hidden NAME=mv_handling VALUE=very_heavy&gt;&quot;;
    [/perl]
    [/if-item-field]
    [/item-list]
</PRE>
<P>

<FONT SIZE=-1>A</FONT> non-blank/non-zero value in the database field <STRONG>very_heavy</STRONG> will then trigger Perl code which will only set mv_handling once.

<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="16.00.SHIPPING.html">Up</A>&nbsp;&nbsp;<A HREF="16.06.Geographic_qualification.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="16.08.Default_Shipping_Mode.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
