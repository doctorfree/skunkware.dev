<HTML>
<HEAD>
<TITLE>UNIX-domain sockets</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="28.00.Setup_for_HTTP_Servers.html">Up</A>&nbsp;&nbsp;<A HREF="28.02.INET_domain_sockets.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="UNIX_domain_sockets">UNIX-domain sockets</A></H2>
<P>
This is a socket which is not reachable from the Internet directly, but
which must come from a request on your own server. The link program
<CODE>vlink</CODE> is the provided facility for such communication with MiniVend.

<P>
This is the most secure way to run your catalog, for there is no way for
systems on the Internet to interact with MiniVend except through its link
program.

<P>
The most important issue with UNIX-domain sockets on MiniVend is the permissions with which the 
<FONT SIZE=-1>CGI</FONT> program and the MiniVend server run.


<P>
To improve security, MiniVend normally runs with the socket file having 0600 permissions (rw-------), which mandates that the 
<FONT SIZE=-1>CGI</FONT> program and the server run
 <EM>as the same user ID</EM>. This means that the <CODE>vlink</CODE> program must be 
<FONT SIZE=-1>SUID</FONT> to the same user 
<FONT SIZE=-1>ID</FONT> as the server executes under. (Or that 
<FONT SIZE=-1>CGIWRAP</FONT> is used on a single catalog system).


<P>
With MiniVend multiple catalog capability, the permissions situation gets a
bit tricky. MiniVend comes with a program, <CODE>makecat</CODE>, which configures catalogs for a multiple catalog system. It should
properly set up ownership and permissions for multiple users if run as the
superuser.

<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="28.00.Setup_for_HTTP_Servers.html">Up</A>&nbsp;&nbsp;<A HREF="28.02.INET_domain_sockets.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
