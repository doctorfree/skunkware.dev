<HTML>
<HEAD>
<TITLE>SET, SETI and SCRATCH</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="09.00.MINIVEND_TAG_REFERENCE.html">Up</A>&nbsp;&nbsp;<A HREF="09.02.DATA_and_FIELD.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="09.04.LOOP.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="SET_SETI_and_SCRATCH">SET, SETI and SCRATCH</A></H2>
<P>
Scratch variables are maintained in the user session separate from the form variable values set on 
<FONT SIZE=-1>HTML</FONT> forms.


<P>
Many things can be controlled with scratch variables, notable search and
order processing, the <CODE>mv_click</CODE> multiple variable setting facility, and key MiniVend conditions like
whether an item will be ordered on a separate line.

<P>
There are two tags which are used to access the space, <CODE>[set name]value[/set]</CODE>
and <CODE>[scratch name]</CODE>.

<DL>
<DT><STRONG><A NAME="item__set">[set variable]value[/set]</A></STRONG><DD>
named attributes: <CODE>[set name=&quot;variable&quot;] value [/set]</CODE>



<P>
Sets a scratchpad variable to <EM>value</EM>.

<P>
Most of the mv_* variables that are used for search and order conditionals
are in another namespace -- they can be set by means of hidden fields in a
form.

<P>
You can set an order profile with:

<P>
<PRE>  [set checkout]
  name=required You must give us your name.
  address=required Oops! No address.
  [/set]
  &lt;INPUT TYPE=hidden NAME=mv_order_profile VALUE=&quot;checkout&quot;&gt;
</PRE>
<P>

<FONT SIZE=-1>A</FONT> search profile would be set with:

<P>
<PRE>  [set substring_case]
  mv_substring_match=yes
  mv_case=yes
  [/set]
  &lt;INPUT TYPE=hidden NAME=mv_profile VALUE=&quot;substring_case&quot;&gt;
</PRE>
<P>
To do the same as <CODE>[set foo]bar[/set]</CODE> in embedded Perl:

<P>
<PRE>    [calc]$Scratch-&gt;{foo} = 'bar'; return;[/calc]
</PRE>
</DD><P><DT><STRONG><A NAME="item__seti">[seti variable][value something][/seti]</A></STRONG><DD>
Same as <CODE>[set] [/set]</CODE> except it interpolates the container text. THe above is the same as:

<P>
<PRE>    [set name=variable interpolate=1][value something][/set]
</PRE>
</DD><P><DT><STRONG><A NAME="item__scratch">[scratch name]</A></STRONG><DD>
Returns the contents of a scratch variable to the page. <CODE>[scratch foo]</CODE>
is the same as, but faster than:

<P>
<PRE>    [perl]$Scratch-&gt;{foo}[/perl]
</PRE>
</DD><P><DT><STRONG><A NAME="item__if">[if scratch name op* compare*] yes [else] no [/else] [/if]</A></STRONG><DD>
Tests a scratch variable (see <EM>IF</EM>).

</DD><P></DL>
<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="09.00.MINIVEND_TAG_REFERENCE.html">Up</A>&nbsp;&nbsp;<A HREF="09.02.DATA_and_FIELD.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="09.04.LOOP.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
