<HTML>
<HEAD>
<TITLE>On-the-fly Catalog Pages</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="10.00.MiniVend_Perl_Objects.html">Up</A>&nbsp;&nbsp;<A HREF="10.02.Special_Pages.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="On_the_fly_Catalog_Pages">On-the-fly Catalog Pages</A></H2>
<P>
If an item is displayed on the search list (or order list) and there is a
link to a special page keyed on the item, MiniVend will attempt to build
the page ``on the fly''. It will look for the special page
<EM>flypage.html</EM>, which is used as a template for building the page. If
<CODE>[item-field fieldname]</CODE>, <CODE>[item-price]</CODE>, (etc.) elements are used on the page, quite complex and
information-packed pages can be built. The
<CODE>[if-item-field fieldname]</CODE> 
<FONT SIZE=-1>HTML</FONT> <CODE>[/if-item-field]</CODE> pair can be used to insert 
<FONT SIZE=-1>HTML</FONT> only if there is a non-blank value in a
particular field.

<P>

<FONT SIZE=-1>IMPORTANT</FONT> 
<FONT SIZE=-1>NOTE:</FONT> Because the tags are substituted globally on the page, you cannot use
 <CODE>[item-*]</CODE> tags on the default on-the-fly page. If you want to use a [search-region]
or [item-list] tag, change the default with the prefix parameter. Example:

<P>
<PRE>    [item-list prefix=cart]
    [cart-code] -- title=[cart-data products title]
    [/item-list]
</PRE>
<P>
If you want to have an on-the-fly page mixed in reliably, use the idiom
<CODE>[fly-list prefix=fly code=&quot;[data session arg]&quot;]</CODE>  <CODE>[/flylist]</CODE> pair.

<DL>
<DT><STRONG><A NAME="item__fly_list">[fly-list code=&quot;product_code&quot; base=&quot;table&quot;] ... [/fly-list]</A></STRONG><DD>
Other parameters:

<P>
<PRE>    prefix=label     Allows [label-code], [label-description]
</PRE>
<P>
Defines an area in a random page which performs the flypage lookup
function, implementing the tags below.

<P>
<PRE>   [fly-list code=&quot;[data session arg]&quot;]
    (contents of flypage.html)
   [/fly-list]
</PRE>
<P>
If you place the above around the contents of the demo flypage, in a file
named <CODE>flypage2.html</CODE>, it will make these two calls display identical pages:

<P>
<PRE>    [page 00-0011] One way to display the Mona Lisa [/page]
    [page flypage2 00-0011] Another way to display the Mona Lisa [/page]
</PRE>
</DD><P></DL>
<P>
If the directive <EM>PageSelectField</EM> is set to a valid product database field which contains a valid MiniVend
page name (relative to the catalog pages directory, without the .html
suffix) it will be used to build the on-the-fly page.

<P>
Active tags in their order of interpolation:

<P>
<PRE> [if-item-field field]    Tests for a non-empty, non-zero value in B&lt;field&gt;
 [if-item-data db field]  Tests for a non-empty, non-zero B&lt;field&gt; in B&lt;db&gt;
 [item-code]              Product code of the displayed item
 [item-accessories args]  Accessory information (see I&lt;accessories&gt;)
 [item-description]       Description field information
 [item-price quantity*]   Product price (at B&lt;quantity&gt;)
 [item-field field]       Product database B&lt;field&gt;
 [item-data db field]     Database B&lt;db&gt; entry for B&lt;field&gt;
</PRE>
<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="10.00.MiniVend_Perl_Objects.html">Up</A>&nbsp;&nbsp;<A HREF="10.02.Special_Pages.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
