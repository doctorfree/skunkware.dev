<HTML>
<HEAD>
<TITLE>userdb</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="03.00.TAGS.html">Up</A>&nbsp;&nbsp;<A HREF="03.73.update.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="03.75.value.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="userdb">userdb</A></H2>
<DL>
<DT><STRONG>CALL INFORMATION</STRONG><DD>
Parameters: <STRONG>function</STRONG>



<P>
Positional parameters in same order.

<P>
<STRONG>The attribute hash reference is passed</STRONG> to the subroutine after the parameters as the last argument.
<STRONG>This may mean that there are parameters not shown here.</STRONG>



<P>
Must pass named parameter interpolate=1 to cause interpolation.

<P>
Invalidates cache: <STRONG>YES</STRONG>



<P>
Called Routine: 

<P>
ASP/perl tag calls:

<P>
<PRE>    $Tag-&gt;userdb(
        {
         function =&gt; VALUE,
        }
    )
  
 OR
 
    $Tag-&gt;userdb($function, $ATTRHASH);
</PRE>
<P>
Attribute aliases

<P>
<PRE>            name ==&gt; nickname
            table ==&gt; db
</PRE>
<P>
<PRE> 
</PRE>
</DD><P><DT><STRONG>DESCRIPTION</STRONG><DD>
MiniVend provides a <CODE>[userdb ...]</CODE> tag to access the UserDB functions.

<P>
<PRE> [userdb
        function=function_name
        username=&quot;username&quot;*
        password=&quot;password&quot;*
        verify=&quot;password&quot;*
        oldpass=&quot;old password&quot;*
        shipping=&quot;fields for shipping save&quot;
        billing=&quot;fields for billing save&quot;
        preferences=&quot;fields for preferences save&quot;
        force_lower=1
        param1=value*
        param2=value*
        ...
        ]
</PRE>
<P>
* Optional

<P>
It is normally called in an <CODE>mv_click</CODE> or <CODE>mv_check</CODE> setting, as in:

<P>
<PRE>    [set Login]
    mv_todo=return
    mv_nextpage=welcome
    [userdb function=login]
    [/set]
</PRE>
<P>
<PRE>    &lt;FORM ACTION=&quot;[process-target]&quot; METHOD=POST&gt;
    &lt;INPUT TYPE=hidden NAME=mv_click VALUE=Login&gt;
    Username &lt;INPUT NAME=mv_username SIZE=10&gt;
    Password &lt;INPUT NAME=mv_password SIZE=10&gt;
    &lt;/FORM&gt;
</PRE>
<P>
There are several global parameters that apply to any use of the <CODE>userdb</CODE> functions. Most importantly, by default the database table is set to be <EM>userdb</EM>. If you must use another table name, then you should include a <CODE>database=table</CODE> parameter with any call to <CODE>userdb</CODE>. The global parameters (default in parens):

<P>
<PRE>    database     Sets user database table (userdb)
    show         Show the return value of certain functions
                 or the error message, if any (0)
    force_lower  Force possibly upper-case database fields
                 to lower case session variable names (0)
    billing      Set the billing fields (see Accounts)
    shipping     Set the shipping fields (see Address Book)
    preferences  Set the preferences fields (see Preferences)
    bill_field   Set field name for accounts (accounts)
    addr_field   Set field name for address book (address_book)
    pref_field   Set field name for preferences (preferences)
    cart_field   Set field name for cart storage (carts)
    pass_field   Set field name for password (password)
    time_field   Set field for storing last login time (time)
    expire_field Set field for expiration date (expire_date)
    acl          Set field for simple access control storage (acl)
    file_acl     Set field for file access control storage (file_acl)
    db_acl       Set field for database access control storage (db_acl)
</PRE>
</DD><P></DL>
<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="03.00.TAGS.html">Up</A>&nbsp;&nbsp;<A HREF="03.73.update.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="03.75.value.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
