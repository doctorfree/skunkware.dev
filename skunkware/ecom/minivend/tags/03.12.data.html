<HTML>
<HEAD>
<TITLE>data</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="03.00.TAGS.html">Up</A>&nbsp;&nbsp;<A HREF="03.11.currency.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="03.13.default.html">&gt;&gt;</A>&nbsp;&nbsp;</H3>
<HR>
<H2><A NAME="data">data</A></H2>
<DL>
<DT><STRONG>CALL INFORMATION</STRONG><DD>
Parameters: <STRONG>table field key</STRONG>



<P>
Positional parameters in same order.

<P>
<STRONG>The attribute hash reference is passed</STRONG> to the subroutine after the parameters as the last argument.
<STRONG>This may mean that there are parameters not shown here.</STRONG>



<P>
Must pass named parameter interpolate=1 to cause interpolation.

<P>
Invalidates cache: <STRONG>no</STRONG>



<P>
Called Routine: 

<P>
ASP/perl tag calls:

<P>
<PRE>    $Tag-&gt;data(
        {
         table =&gt; VALUE,
         field =&gt; VALUE,
         key =&gt; VALUE,
        }
    )
  
 OR
 
    $Tag-&gt;data($table, $field, $key, $ATTRHASH);
</PRE>
<P>
Attribute aliases

<P>
<PRE>            base ==&gt; table
            code ==&gt; key
            col ==&gt; field
            column ==&gt; field
            database ==&gt; table
            name ==&gt; field
            row ==&gt; key
</PRE>
<P>
<PRE> 
</PRE>
</DD><P><DT><STRONG>DESCRIPTION</STRONG><DD>
Syntax: [data table=db_table column=column_name key=key
filter=``uc|lc|name|namecase|no_white|etc.''* append=1* value=``value to
set to''* increment=1* ]

<P>
Returns the value of the field in a database table, or 
<FONT SIZE=-1>(DEPRECATED)</FONT> from the <A HREF="#item_session">session</A>
namespace. If the optional <STRONG>value</STRONG> is supplied, the entry will be changed to that value. If the option
increment* is present, the field will be atomically incremented with the
value in <STRONG>value</STRONG>. Use negative numbers in <A HREF="#item_value">value</A> to decrement. The <CODE>append</CODE> attribute causes the value to be appended; and finally, the <CODE>filter</CODE> attribute is a set of MiniVend filters that are applied to the data 1)
after it is read; or 2)before it is placed in the table.

<P>
If a DBM-based database is to be modified, it must be flagged writable on
the page calling the write tag. Use [tag flag write]products[/tag] to mark
the <CODE>products</CODE> database writable, for example.
<STRONG>This must be done before ANY access to that table.</STRONG>



<P>

<FONT SIZE=-1>DEPRECATED</FONT> 
<FONT SIZE=-1>BEHAVIOR:</FONT> (replace with
 <A HREF="#item_session">session</A> tag). In addition, the <A HREF="#item__data_">[data ...]</A> tag can access a number of elements in the MiniVend session database:

<P>
<PRE>    accesses           Accesses within the last 30 seconds
    arg                The argument passed in a [page ...] or [area ...] tag
    browser            The user browser string
    cybercash_error    Error from last CyberCash operation
    cybercash_result   Hash of results from CyberCash (access with usertag)
    host               MiniVend's idea of the host (modified by DomainTail)
    last_error         The last error from the error logging
    last_url           The current MiniVend path_info
    logged_in          Whether the user is logged in (add-on UserDB feature)
    pageCount          Number of unique URLs generated
    prev_url           The previous path_info
    referer            HTTP_REFERER string
    ship_message       The last error messages from shipping
    source             Source of original entry to MiniVend
    time               Time (seconds since Jan 1, 1970) of last access
    user               The REMOTE_USER string
    username           User name logged in as (UserDB feature)
</PRE>
<P>

<FONT SIZE=-1>NOTE:</FONT> Databases will hide session values, so don't
name a database ``session''. or you won't be able to use the [data ...] tag
to read them. Case is sensitive, so in a pinch you could call the database
``Session'', but it would be better not to use that name at all.

</DD><P></DL>
<P>
<HR>

<P ALIGN=CENTER><H3><A HREF="index.html">Index</A>&nbsp;&nbsp;<A HREF="03.00.TAGS.html">Up</A>&nbsp;&nbsp;<A HREF="03.11.currency.html">&lt;&lt;</A>&nbsp;&nbsp;<A HREF="03.13.default.html">&gt;&gt;</A>&nbsp;&nbsp;</H3></BODY></HTML>
