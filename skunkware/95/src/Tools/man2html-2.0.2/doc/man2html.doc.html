<HTML>
<HEAD><TITLE>man2html 2.0.2
</TITLE>
</HEAD>
<BODY>
<H1><HR>man2html
</H1>

       A <A HREF="http://www.cis.ufl.edu/perl/">Perl</A> program to convert Unix manpages to HTML. 
<P>

<HR>
<H2>Description
</H2>

       <CODE>man2html</CODE> takes formatted nroff in standard input (STDIN) and outputs the 
       HTML to standard output (STDOUT). The formatted nroff output is surrounded 
       with &lt;PRE&gt; tags with the following exceptions/additions:
<P>

<UL>
<LI>          Section heads are wrapped in HTML header tags. See <A HREF="#31378">Section Head Map 
              File</A> for more information. This feature can be turned off with the <A HREF="#31842">-noheads</A> 
              command-line option.
<P><LI>          Overstriken words designated with the "&lt;<VAR>char</VAR>&gt;&lt;backspace&gt;&lt;<VAR>char</VAR>&gt;" 
              sequences are wrapped in &lt;STRONG&gt; tags.
<P><LI>          Overstriken words designated with the "_&lt;backspace&gt;&lt;<VAR>char</VAR>&gt;" sequences 
              (ie. underlined words) are wrapped in &lt;EM&gt; tags.
<P></UL>
       <CODE>man2html</CODE> also does the following:
<P>

<UL>
<LI>          Merges the multi-page formatted nroff into a single page. See <A HREF="#32903">Usage</A> for 
              information on how to tell <CODE>man2html</CODE> the page size and margin 
              width/heights of the formatted nroff. Depagination can be turned off with 
              the <A HREF="#21952">-nodepage</A> command-line option.
<P><LI>          Creates links to other manpages if the <A HREF="#33932">-cgiurl</A> command-line option is 
              specified.
<P></UL>
       By default, <CODE>man2html</CODE> does not put a title, &lt;TITLE&gt;, in the HTML file. However, 
       one can specify a title via the <A HREF="#10566">-title</A> command-line option.
<P>

       <CODE>man2html</CODE> also has support for processing output generated from manpage 
       keyword search, "<CODE>man -k</CODE>". See <A HREF="#23295">Keyword Search</A> for more information.
<P>

<PRE>       
</PRE>

<HR>
<H2><A NAME="32903">Usage</A>
</H2>

       <CODE>man2html</CODE> is invoked from a Unix shell, with the following syntax:
<P>

       <CODE>% man2html </CODE>[<VAR>options</VAR>]<CODE> &lt; </CODE><VAR>infile</VAR><CODE> &gt; </CODE><VAR>out.html<BR>
       </VAR><CODE>% man </CODE><VAR>unix_command</VAR><CODE> | man2html </CODE>[<VAR>options</VAR>]<CODE> &gt; </CODE><VAR>out.html</VAR> 
<P>

       The following options are available:
<P>

<DL>
<DT>          <CODE>-bare</CODE> 

<DD>              This option will keep <CODE>man2html</CODE> from inserting the <CODE>HTML</CODE>, <CODE>HEAD</CODE>, <CODE>BODY</CODE> 
              tags from the output.  This is useful if you want to incorporate the output 
              from <CODE>man2html</CODE> into an HTML document.
</DL>
<DL>
<DT>          <CODE>-botm</CODE> <VAR>#</VAR> 

<DD>              Use <VAR>#</VAR> to be the number of lines representing the bottom margin of the 
              formatted nroff input. The lines include any running footers. The default 
              value is 7.
</DL>
<DL>
<DT>          <CODE><A NAME="33932">-cgiurl</A></CODE> <VAR>string</VAR> 

<DD>              Use <VAR>string</VAR> as the template URL for linking to other manpages. See <A HREF="#35893">Linking 
              to Other Manpages</A> for more information on this option.
</DL>
<DL>
<DT>          <CODE><A NAME="42568">-headmap</A></CODE> <VAR>file</VAR> 

<DD>              Read <VAR>file</VAR> to determine which HTML header tags are used for various 
              section heading in the manpage. See <A HREF="#31378">Section Head Map File</A> for 
              information on the format of the map file.
</DL>
<DL>
<DT>          <CODE>-help</CODE> 

<DD>              Print out a short usage message of <CODE>man2html</CODE>. No other action is taken.
</DL>
<DL>
<DT>          <CODE><A NAME="21500">-k</A></CODE> 

<DD>              Process input as the results from a manpage keyword search. See <A HREF="#23295">Keyword 
              Search</A> for more information.
</DL>
<DL>
<DT>          <CODE><A NAME="17402">-leftm</A></CODE> <VAR>#</VAR> 

<DD>              Use <VAR>#</VAR> to be the character width of the left margin of the formatted nroff 
              input. The default value is 0.
</DL>
<DL>
<DT>          <CODE><A NAME="21952">-nodepage</A></CODE> 

<DD>              Do not merge the manpage into one page. This will cause running 
              headers/footers in the formatted nroff to carry over into the HTML 
              output.
</DL>
<DL>
<DT>          <CODE><A NAME="31842">-noheads</A></CODE> 

<DD>              Do not wrap manpage section heads in HTML header tags.
</DL>
<DL>
<DT>          <CODE>-pgsize</CODE> <VAR>#</VAR> 

<DD>              Use <VAR>#</VAR> as the page size of the formatted nroff input. The default value is 66.
</DL>
<DL>
<DT>          <CODE>-seealso</CODE> 

<DD>              Only create links to other manpages in the SEE ALSO section. The option 
              is only valid if the <A HREF="#33932">-cgiurl</A> option is specified.
</DL>
<DL>
<DT>          <CODE><A NAME="39277">-sun</A></CODE> 

<DD>              Do not require a section head to have bold overstriking in the formatted 
              nroff input. The option is called <CODE>-sun</CODE> because it was on a Sun workstation 
              that section heads in manpages were not overstriked.
</DL>
<DL>
<DT>          <CODE><A NAME="10566">-title</A></CODE> <VAR>string</VAR> 

<DD>              Set the title of the HTML output to <VAR>string</VAR>.
</DL>
<DL>
<DT>          <CODE>-topm</CODE> <VAR>#</VAR> 

<DD>              Use <VAR>#</VAR> to be the number of lines representing the top margin of the 
              formatted nroff input. The lines include any running footers. The default 
              value is 7.
</DL>
       
<P>

<HR>
<H2><A NAME="31378">Section Head Map File</A>
</H2>

       <CODE>man2html</CODE> allows you to customize what HTML header tags, &lt;H1&gt; ... &lt;H6&gt;, are 
       used in manpage section headings (via the <A HREF="#42568">-headmap</A> option). Normally, 
       <CODE>man2html</CODE> treats lines that are flush to the left margin (<A HREF="#17402">-leftm</A>), and contain 
       overstriking (overstrike check is canceled with the <A HREF="#39277">-sun</A> option), as section heads. 
       However, you can augment/override what HTML header tags are used for any 
       given section head.
<P>

       In order to write a section head map file, you will need to know about Perl 
       associative arrays. You do not need to be an expert in Perl to write a map file. 
       However, having knowledge of Perl allows you to be more clever when writing a 
       map file.
<P>

<PRE>       
</PRE>

<H3>Augmenting the Default Map
</H3>

       To add to the default mapping defined by <CODE>man2html</CODE>, your map file will contain 
       lines with the following syntax
<P>

<PRE><CODE>   $SectionHead{'</CODE><VAR>&lt;section head text&gt;</VAR><CODE>'} = '</CODE><VAR>&lt;html header tag&gt;</VAR><CODE>';</CODE> 
</PRE>

       where,
<P>

<DL>
<DT>          <VAR>&lt;section head text&gt;</VAR> 

<DD>              Is the text of the manpage section head. Example: `SYNOPSIS'.
</DL>
<DL>
<DT>          <VAR>&lt;html header tag&gt;</VAR> 

<DD>              Is the HTML header tag to wrap the section head in. Legal values are: 
              `&lt;H1&gt;', `&lt;H2&gt;', `&lt;H3&gt;', `&lt;H4&gt;', `&lt;H5&gt;', `&lt;H6&gt;'.
</DL>
<PRE>       
</PRE>

<H3>Overriding the Default Map
</H3>

       To override the default mapping with your own, then your map file will have the 
       following syntax:
<P>

<PRE>         %SectionHead = ( 
                   '<VAR>&lt;section head text&gt;</VAR>', '<VAR>&lt;html header tag&gt;</VAR>', 
                   '<VAR>&lt;section head text&gt;</VAR>', '<VAR>&lt;html header tag&gt;</VAR>', 
                   # ... More section head/tag pairs
                   '<VAR>&lt;section head text&gt;</VAR>', '<VAR>&lt;html header tag&gt;</VAR>', 
         );
</PRE>

<PRE>       
</PRE>

<H3>The Default Map
</H3>

       As of this writing, this is the default map used by <CODE>man2html</CODE>:
<P>

<PRE>         %SectionHead = (
                   '\S.*OPTIONS.*', '&lt;H2&gt;',
                   'AUTHORS?', '&lt;H2&gt;',
                   'BUGS', '&lt;H2&gt;',
                   'COMPATIBILITY', '&lt;H2&gt;',
                   'DEPENDENCIES', '&lt;H2&gt;',
                   'DESCRIPTION', '&lt;H2&gt;',
                   'DIAGNOSTICS', '&lt;H2&gt;',
                   'ENVIRONMENT', '&lt;H2&gt;',
                   'ERRORS', '&lt;H2&gt;',
                   'EXAMPLES', '&lt;H2&gt;',
                   'EXTERNAL INFLUENCES', '&lt;H2&gt;',
                   'FILES', '&lt;H2&gt;',
                   'LIMITATIONS', '&lt;H2&gt;',
                   'NAME', '&lt;H2&gt;',
                   'NOTES?', '&lt;H2&gt;',
                   'OPTIONS', '&lt;H2&gt;',
                   'REFERENCES', '&lt;H2&gt;',
                   'RETURN VALUE', '&lt;H2&gt;',
                   'SECTION.*:', '&lt;H2&gt;',
                   'SEE ALSO', '&lt;H2&gt;',
                   'STANDARDS CONFORMANCE', '&lt;H2&gt;',
                   'STYLE CONVENTION', '&lt;H2&gt;',
                   'SYNOPSIS', '&lt;H2&gt;',
                   'SYNTAX', '&lt;H2&gt;',
                   'WARNINGS', '&lt;H2&gt;',
                   '\s+Section.*:', '&lt;H3&gt;',
         );
         $HeadFallback = '&lt;H2&gt;';  # Fallback tag if above is not found.

</PRE>

       Check the Perl source code of <CODE>man2html</CODE> for the latest default mapping.
<P>

       You can reassign the <CODE>$HeadFallback</CODE> variable to a different value if you choose. 
       This value is used as the header tag of a section head if no matches are found in the 
       <CODE>SectionHead</CODE> map.
<P>

<PRE>       
</PRE>

<H3>Using Regular Expressions in the Map File
</H3>

       You may have noticed unusual characters in the default map file, like "<CODE>\s</CODE>" or "<CODE>*</CODE>". 
       <CODE>man2html</CODE> actual treats the <VAR>&lt;section head text&gt;</VAR> as a Perl regular expression. If you 
       are comfortable with Perl regular expressions, then you have the full power of 
       them to use in your map file.
<P>

<DL>
<DT>          <STRONG>Caution</STRONG>: 

<DD>              <CODE>man2html</CODE> already anchors the regular expression to the beginning of the 
              line with left margin spacing specified by the <A HREF="#17402">-leftm</A> option. Therefore, do 
              not use the `<CODE>^</CODE>' character to anchor your regular expression to the 
              beginning. However, you may end your expression with a `<CODE>$</CODE>' to anchor it 
              to the end of the line.
</DL>
       Since the <VAR>&lt;section head text&gt;</VAR> is actually a regular expression, you'll have to be 
       careful of special characters if you want them to be treated literally. The following 
       characters should be escaped by prefixing them by the `<CODE>\</CODE>' character if you want 
       Perl to treat the character "as is": <CODE>[ ] ( ) . ^ { } $ * ? + \ |
</CODE><P>

<DL>
<DT>          <STRONG>Caution</STRONG>: 

<DD>              One should use single quotes to delimit <VAR>&lt;section head text&gt;</VAR> instead of 
              double quotes. This will preserve any `<CODE>\</CODE>' characters for character escaping 
              or when the `<CODE>\</CODE>' is used for special Perl character matching sequences (eg. 
              <CODE>\s \w \S </CODE>).
</DL>
<PRE>       
</PRE>

<H3>Other Tid Bits on the Map File
</H3>

       Comments can be inserted in the map file by using the '<CODE>#</CODE>' character. Anything 
       after, and including, the '<CODE>#</CODE>' character is ignored, up to the end of line.
<P>

       You might be thinking that the above is quite-a-bit-of-stuff just for doing manpage 
       section heads. However, you'll be surprised how much better the HTML output 
       looks with header tags, even though, everything else is in a &lt;PRE&gt; tag.
<P>

<PRE>       
</PRE>

<HR>
<H2><A NAME="35893">Linking to Other Manpages</A>
</H2>

       <CODE>man2html</CODE> allows the ability to link to other manpages referenced. If the <A HREF="#33932">-cgiurl</A> 
       option is specified, <CODE>man2html</CODE> will create anchors that link to other manpages.
<P>

       The URL entered with the <A HREF="#33932">-cgiurl</A> option is actually a template that determines the 
       actual URL used to link to other manpages. The following variables are defined 
       during run time that may be used in the template string:
<P>

<UL>
<LI>          <CODE>$title</CODE> : The title of the manual page referenced.
<LI>          <CODE>$section</CODE>: The section number of the manual page referenced.
<LI>          <CODE>$subsection</CODE>: The subsection of the manual page referenced.
</UL>
       Any other text in the template is preserved "<EM>as is</EM>".
<P>

<DL>
<DT>          <STRONG>Caution</STRONG>: 

<DD>              <CODE>man2html</CODE> evaluates the template string as a Perl expression. Therefore, 
              one might need to surround the variable names with '<CODE>{}</CODE>' (eg. <CODE>${title}</CODE>) 
              so <CODE>man2html</CODE> properly recognizes the variable.
</DL>
<DL>
<DT>          <STRONG>Note</STRONG>: 

<DD>              If a CGI program calling <CODE>man2html</CODE> is actuall a shell script or a Perl 
              program, make sure to properly escape the '<CODE>$</CODE>' character in the URL 
              template to avoid variable interpolation by the CGI program.
</DL>
       Normally, the URL calls a CGI program (hence the option name), but the URL can 
       easily link to statically converted documents.
<P>

<H3>Example1 
</H3>

       The following template string is specified to call a CGI program to retrieve the 
       appropriate manpage linked to:
<P>

       <CODE>man.cgi?$section$subsection+$title</CODE> 
<P>

       If the <CODE>ls(1)</CODE> manpage is referenced in the 'SEE ALSO' section, the above template 
       will translate to the following URL:
<P>

       <CODE>man.cgi?1+ls</CODE> 
<P>

       The actual HTML markup will look like the following:
<P>

       <CODE>&lt;A HREF="man.cgi?1+ls"&gt;ls(1)&lt;/A&gt;</CODE> 
<P>

<H3>Example2 
</H3>

       The following template string is specified to retrieve pre-converted manpages:
<P>

       <CODE>http://foo.org/man$section/$title.$section$subsection.html</CODE> 
<P>

       If the <CODE>mount(1M)</CODE> manpage is referenced, the above template will translate to the 
       following URL:
<P>

       <CODE>http://foo.org/man1/mount.1M.html</CODE> 
<P>

       The actual HTML markup will look like the following:
<P>

       <CODE>&lt;A HREF="http://foo.org/man1/mount.1M.html"&gt;mount(1M)&lt;/A&gt;</CODE> 
<P>

<PRE>       
</PRE>

<HR>
<H2><A NAME="23295">Keyword Search</A>
</H2>

       <CODE>man2html</CODE> has the ability to process output generated from "<CODE>man -k</CODE>", or a 
       keyword search. The options <A HREF="#21500">-k</A> and <A HREF="#33932">-cgiurl</A> must be specified inorder for 
       <CODE>man2html</CODE> to parse the input as a keyword search. <CODE>man2html</CODE> will generate an 
       HTML document of the keyword search with the following format:
<P>

<UL>
<LI>          All manpage references are listed by section.
<P><LI>          Within each section listing, the manpage references are sorted 
              alphabetically (case-sensitive) in a &lt;DL&gt;. The manpage references are 
              listed in the &lt;DT&gt; section, and the summary text is listed in the &lt;DD&gt; 
              section.
<P><LI>          Each manpage reference listed is a hyperlink to the actual manpage as 
              specified by the <A HREF="#33932">-cgiurl</A> option.
<P></UL>
       This ability to process keyword searches gives nice added functionality to a WWW 
       forms interface to <CODE>man</CODE>(1). Even if you have statically converted manpages to 
       HTML via another man-&gt;HTML program, you can use <CODE>man2html</CODE>, and "<CODE>man -k"</CODE>, 
       to provide keyword search capabilites easily for your HTML manpages.
<P>

<HR>
<H2>Notes
</H2>

<UL>
<LI>          Different systems format manpages differently. Here is a list of 
              recommended command-line options for a given system:
<P><UL>
<LI>                 Convex: &lt;defaults should be okay&gt;
<LI>                 HP: <CODE>-leftm 1 -topm 8</CODE> 
<LI>                 Sun: <CODE>-sun</CODE> 
<P></UL>
<LI>          Some line spacing gets lost in the formatted nroff since the spacing would 
              occur in the middle of a page break. This can cause text to be merged that 
              shouldn't be merged when <CODE>man2html</CODE> depaginates the text. To avoid this 
              problem <CODE>man2html</CODE> keeps track of the margin indent right before, and 
              after, a page break. If the margin width of the line after the page break is 
              less than the line before the page break, <CODE>man2html</CODE> inserts a blank line in 
              the HTML output.
<P><LI>          A manpage cross-reference is detected by the following pseudo 
              expression:
<P>              [<CODE>A-z.-+_</CODE>]+([<CODE>0-9</CODE>][<CODE>A-z</CODE>]?)
<P>

<LI>          <CODE>man2html</CODE> only recognizes lines with "<CODE> - </CODE>" (the normal separator between 
              manpage references and summary text) while in keyword search mode.
<P><LI>          <CODE>man2html</CODE> can be hooked in a CGI script/program to convert manpages 
              on the fly. This is the reason for the <A HREF="#33932">-cgiurl</A> option.
<P></UL>
<PRE>       
</PRE>

<HR>
<H2>Limitations
</H2>

<UL>
<LI>          The order that section head mapping is searched is not defined. Therefore, 
              if two, or more, <VAR>&lt;section head text&gt;</VAR> can match a give manpage section, there 
              is no way to determine which map tag is chosen.
<P></UL>
<PRE>       
</PRE>

<HR>
<H2>Bugs
</H2>

<UL>
<LI>          Text that is flush to the left margin, but is not actually a section head, can 
              be mistaken for a section head. This mistake is more likely when the <A HREF="#39277">-sun</A> 
              option is in affect.
<P></UL>
<PRE>       
</PRE>

<HR>
<ADDRESS>       Earl Hood, ehood@convex.com
</ADDRESS><ADDRESS>       man2html 2.0.2
</ADDRESS>
</BODY>
</HTML>
