<HTML>
<BODY>
<TITLE>flock(TCLX)</TITLE>
<A HREF=/cgi-bin/getnav/man/html.TCLX/flock.TCLX.html><H1>flock(TCLX)</H1></A>
<HR>
<B>flock -- 
set, clear, or return file options
</B>
<P>
<H2>Syntax</H2>
<B>funlock-
remove lock created by flock
</B>
<P>
<H2>Syntax</H2>
<B>flock</B> <I>options fileId</I> [<I>start</I>] [<I>length</I>] [<I>origin</I>]
<B>funlock</B> <I>fileId</I> [<I>start</I>] [<I>length</I>] [<I>origin</I>]
<H2>Description</H2>
<B>flock</B> places a lock on all or part of the file specified by
<I>fileId</I>. <B>funlock</B> removes a lock from a file that 
was previously placed with <B>flock</B>.
<P>
The lock is either advisory or mandatory, depending on the mode
bits of the file.
The lock is placed beginning at relative byte offset
<I>start</I> for <I>length</I> bytes.
If <I>start</I> or <I>length</I> is omitted
or empty, zero is assumed.
If <I>length</I> is zero, then the lock always
extends to end-of-file, even if the file grows.
If <I>origin</I> is <B>start</B>, then the offset is
relative to the beginning of the file. If it is <B>current</B>,
it is relative to the current access position in the file.
If it is <B>end</B>, then it is relative to the end-of-file (a negative is
before the EOF, a positive is after).
If <I>origin</I> is omitted, <B>start</B> is assumed.
<P>
The following <I>options</I> are recognized:
<DL COMPACT>
<P><DT><B>-read</B><DD>
Places a read lock on the file.  Multiple processes can 
access a file with read-locks.
<P><DT><B>-write</B><DD>
Places a write lock on the file.  Only one process can
access a file with write-lock.
<P><DT><B>-nowait</B><DD>
If specified, then the process will not block if the lock
can not be obtained.  With this option, the command returns 1 if the lock
is obtained and 0 if it is not.
</DL>
<P>
See your system's <B>fcntl</B> system call documentation for full details of
the behavior of file locking.  If locking is being done on ranges of a
file, it is best to use unbuffered file access (see the <B>fcntl</B> 
command).
<LINK HREF=/man/html.TCLX/CONTENTS.html REL=contents>
<LINK HREF=/cgi-bin/getnav/man/html.TCLX/flock.TCLX.html REL=navigate>
<LINK HREF=/cgi-bin/man/man?fmtclock+TCLX REL=next>
<LINK HREF=/cgi-bin/man/man?fcntl+TCLX REL=previous>

<!--NAVIGATE <TITLEgReATerTHanNavigational information for flock(TCLX)</TITLEgReATerTHan -->
<!--NAVIGATE <H2gReATerTHanNavigational information for flock(TCLX)</H2gReATerTHan -->
<!--NAVIGATE <ULgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE Book title: man(TCLX) -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE Next topic:  -->
<!--NAVIGATE <A HREF=/cgi-bin/man/man?fmtclock+TCLXgReATerTHanfmtclock(TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE Previous topic:  -->
<!--NAVIGATE <A HREF=/cgi-bin/man/man?fcntl+TCLXgReATerTHanfcntl(TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/man/html.TCLX/CONTENTS.htmlgReATerTHanTable of contents</AgReATerTHan -->
<!--NAVIGATE </ULgReATerTHan -->
<!--NAVIGATE <BRgReATerTHan -->
<!--NAVIGATE <BRgReATerTHan -->
<!--NAVIGATE <A HREF=/man/html.TCLX/COPYRIGHT.htmlgReATerTHan&#169; 1995 The Santa Cruz Operation, Inc.  All rights reserved</AgReATerTHan -->
<!--NAVIGATE <LINK HREF=/man/html.TCLX/CONTENTS.html REL=contentsgReATerTHan -->
<!--NAVIGATE <LINK HREF=/cgi-bin/man/man?fmtclock+TCLX REL=nextgReATerTHan -->
<!--NAVIGATE <LINK HREF=/cgi-bin/man/man?fcntl+TCLX REL=previousgReATerTHan -->
<!--NAVIGATE  -->

