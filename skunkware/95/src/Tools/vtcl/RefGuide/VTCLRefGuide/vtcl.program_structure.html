<HTML>
<!--SCONAV--><I><A HREF=/VTCLRefGuide/CONTENTS.html><I>SCO Visual Tcl Reference Guide</I></A>
<!--SCONAV--><BR><A HREF=/VTCLRefGuide/BOOKCHAPTER-3.html>Chapter 3, SCO Visual Tcl - graphical scripting language</A></I><HR>
<TITLE>Basic program structure</TITLE><P>
<A HREF=/cgi-bin/getnav/VTCLRefGuide/vtcl.program_structure.html><H1>Basic program structure</H1><P></A>
Here is the general format of a SCO Visual Tcl application:
<BR>
<PRE>
   #
   #Define Tcl procedures/callbacks
   #
   proc one { } { }
   <P>
   proc butCB {cbs} { }
   <P>
   proc textCB {cbs} { }
   <P>
   proc quitCB {cbs} { 
       VtClose
       exit 0
   }
   .
   .
   .
   #
   # Start Program
   #
   set app [VtOpen myprog]
   set form [VtFormDialog $app.mainform -ok -okLabel Goodbye \
                                        -okCallback VtClose]
   set label [VtLabel $form.label -label &quot;Hello World&quot;]
   VtShow $form
   VtMainLoop
</PRE>
SCO Visual Tcl programs have two main sections:
<UL>
<P><LI>
defining Tcl procedures/callbacks
<P><LI>
establishing a connection with SCO Visual Tcl
</UL>
First, all Tcl procedures need to be defined:
this includes all the callbacks and their supporting procedures.
These procedures need to be defined first because Tcl is an interpretive
language and needs to have its procedures defined before they are called.
<P>
Next, the application must establish a connection to the server
and put up the first form.  This is typically done by making the 
following four calls:
<BR>
<PRE>
   set app [VtOpen Example]
   set form [VtForm $app.form]
   VtShow $form
   VtMainLoop
</PRE>
The first call to 
<A HREF=/cgi-bin/man/man?VtOpen+VTCL><B>VtOpen</B>(VTCL)</A>
establishes the
connection with the server.  <B>VtOpen</B> returns a
handle to the application which is used when creating the
first form.  The next thing to do is to put up a form. This
is done by calling 
<A HREF=/cgi-bin/man/man?VtForm+VTCL><B>VtForm</B>(VTCL)</A>.
<B>VtForm</B>
requires a widget name and hierarchy to be passed to it.
The format of widget/object names is as follows:
<PRE>
   <I>parent_name.form_name</I>
</PRE>
In this example, the parent of the first form is the
application shell (that is, the handle returned from
<B>VtOpen</B>).
<P>
To add other widgets
to this form, the handle returned from <B>VtForm</B> should be used as their
parent. For example, to add a button to this form, this call
can be made:
<PRE>
   set button [VtPushButton $form.button -label &quot;Push Me&quot;]
</PRE>
After putting up the form, the next thing to do is to call 
<A HREF=/cgi-bin/man/man?VtShow+VTCL><B>VtShow</B>(VTCL)</A>
to display the form.  Typically, <B>VtShow</B> is not called 
until all the widgets
on the form have been placed.  This is so that the users do not see the form
``building'' before their eyes.  <B>VtShow</B> only needs to be 
called for forms. Widgets within a form are shown by default.
<P>
Finally, 
<A HREF=/cgi-bin/man/man?VtMainLoop+VTCL><B>VtMainLoop</B>(VTCL)</A>
is called to hand control 
over to the user and start processing events. Events are application
state changes such  as pushing a button, or choosing an item in a list.  
All widgets have events associated with them, which the program may or
may not respond to.  To respond to an event, a callback procedure
is written.  This procedure gets called each time the event occurs.
For example, a pushbutton widget callback would get called each time
the button is pressed.
<LINK HREF=/VTCLRefGuide/CONTENTS.html REL=contents>
<LINK HREF=/cgi-bin/getnav/VTCLRefGuide/vtcl.program_structure.html REL=navigate>
<LINK HREF=/VTCLRefGuide/vtcl.callback_data_structure.html REL=next>
<LINK HREF=/VTCLRefGuide/vtcl.concepts.html REL=previous>

<!--NAVIGATE <TITLEgReATerTHanNavigational information for ``Basic program structure''</TITLEgReATerTHan -->
<!--NAVIGATE <H2gReATerTHanNavigational information for ``Basic program structure''</H2gReATerTHan -->
<!--NAVIGATE <ULgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE Book title: <IgReATerTHanSCO Visual Tcl Reference Guide</IgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE Next topic:  -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.callback_data_structure.htmlgReATerTHanCallback data structure</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE Previous topic:  -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.concepts.htmlgReATerTHanBasic SCO Visual Tcl architecture</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/CONTENTS.htmlgReATerTHanTable of contents</AgReATerTHan -->
<!--NAVIGATE </ULgReATerTHan -->
<!--NAVIGATE <H3gReATerTHanPartial table of contents</H3gReATerTHan -->
<!--NAVIGATE <ULgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.vtcl.htmlgReATerTHanChapter 3, SCO Visual Tcl - graphical scripting language</AgReATerTHan -->
<!--NAVIGATE <ULgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.program_components.htmlgReATerTHanProgram components</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.concepts.htmlgReATerTHanBasic SCO Visual Tcl architecture</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.program_structure.htmlgReATerTHanBasic program structure</AgReATerTHan -->
<!--NAVIGATE &lt;--------- YOU ARE HERE -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.callback_data_structure.htmlgReATerTHanCallback data structure</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.resource_files.htmlgReATerTHanGraphics resource files used by SCO Visual Tcl</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.character_mode.htmlgReATerTHanCharacter mode and graphical variants</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.charm_keys.htmlgReATerTHanNavigation and selection in character mode</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.generic_options.htmlgReATerTHanGeneric SCO Visual Tcl options</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/vtcl.files.htmlgReATerTHanFiles used by SCO Visual Tcl</AgReATerTHan -->
<!--NAVIGATE </ULgReATerTHan -->
<!--NAVIGATE </ULgReATerTHan -->
<!--NAVIGATE <BRgReATerTHan -->
<!--NAVIGATE <BRgReATerTHan -->
<!--NAVIGATE <A HREF=/cgi-bin/printchapter/VTCLRefGuide/BOOKCHAPTER-3.htmlgReATerTHan -->
<!--NAVIGATE Entire chapter assembled for printing -->
<!--NAVIGATE </AgReATerTHan -->
<!--NAVIGATE <BRgReATerTHan -->
<!--NAVIGATE <BRgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/COPYRIGHT.htmlgReATerTHan&#169; 1995 The Santa Cruz Operation, Inc.  All rights reserved</AgReATerTHan -->
<!--NAVIGATE <LINK HREF=/VTCLRefGuide/CONTENTS.html REL=contentsgReATerTHan -->
<!--NAVIGATE <LINK HREF=/VTCLRefGuide/vtcl.callback_data_structure.html REL=nextgReATerTHan -->
<!--NAVIGATE <LINK HREF=/VTCLRefGuide/vtcl.concepts.html REL=previousgReATerTHan -->
<!--NAVIGATE  -->

