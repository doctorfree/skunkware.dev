<HTML>
<!--SCONAV--><I><A HREF=/VTCLRefGuide/CONTENTS.html><I>SCO Visual Tcl Reference Guide</I></A>
<!--SCONAV--><BR><A HREF=/VTCLRefGuide/BOOKCHAPTER-2.html>Chapter 2, TclX - the Extended Tcl language</A></I><HR>
<TITLE>Loadable libraries and packages (TCLX)</TITLE><P>
<A HREF=/cgi-bin/getnav/VTCLRefGuide/tclx.libraries.html><H1>Loadable libraries and packages (TCLX)</H1><P></A>
Extended Tcl supports standard Tcl <B>tclIndex</B>
libraries and package libraries. Each package library file can
contain multiple independent Tcl packages.  Each package is a
named collection of related Tcl procedures and
initialization code.
<P>
The package library file is just a regular UNIX system
text file, editable with your favorite text editor,
containing packages of Tcl source code. The package library
filename must have the suffix <I>.tlib</I>.  An index
file with the suffix <I>.tndx</I>, corresponding to the
package library, should also exist.  The <I>.tndx</I>
file will be automatically created by Tcl whenever it is
out of date or missing (provided there is write access to
the directory).
<P>
The variable <B>auto_path</B> contains a list of
directories that are searched for libraries.  The first
time an unknown command trap is taken, the indexes for the
libraries are loaded into memory. If the
<B>auto_path</B> variable is changed during execution of
a program, the path will be searched again. Only the first
package of a given name found during the execution of a
program is loaded.  This can be overridden with the
<B>loadlibindex</B> command.
<P>
The start of a package is delimited by:
<PRE>
   <B>#@package:</B> <I>package_name proc1</I> [... <I>procN</I>]
</PRE>
These lines must start in column 1.  Everything between the
<B>#@package:</B> keyword and the next
<B>#@package:</B> keyword or a <B>#@packend</B>
keyword, or the end of the file, becomes part of the named
package.  The specified procedures, <I>proc1 ...
procN</I>, are the entry points of the package.  When a
command named in a package specification is executed and
detected as an unknown command, all code in the specified
package will be sourced.  This package should define all of
the procedures named on the package line, define any
support procedures required by the package and do any
package-specific initialization.  Package declarations may
be continued on subsequent lines using standard Tcl
backslash line continuations.  The <B>#@packend</B>
keyword is useful to make sure only the minimum required
section of code is sourced.  For example, a large
comment block at the beginning of the next file will not be
loaded.
<P>
Care should be taken in defining <I>package_name</I>, as
the first package found in the path with a given name is
loaded.  This can be useful in developing new versions of
packages installed on the system.
<P>
For example, in a package source file, the presence of the following line:
<PRE>
   #@package: directory_stack pushd popd dirs
</PRE>
says that the text following that line in the package file
(up to the next <I>package</I> line or the end of the
file) is a package named ``directory_stack'', and
that an attempt to execute either <B>pushd</B>,
<B>popd</B> or <B>dirs</B> (when the routine is not
already defined) will cause the ``directory_stack''
portion of the package file to be loaded.
<LINK HREF=/VTCLRefGuide/CONTENTS.html REL=contents>
<LINK HREF=/cgi-bin/getnav/VTCLRefGuide/tclx.libraries.html REL=navigate>
<LINK HREF=/VTCLRefGuide/tclx.libmgmt.html REL=next>
<LINK HREF=/VTCLRefGuide/tclx.helpcom.html REL=previous>

<!--NAVIGATE <TITLEgReATerTHanNavigational information for ``Loadable libraries and packages (TCLX)''</TITLEgReATerTHan -->
<!--NAVIGATE <H2gReATerTHanNavigational information for ``Loadable libraries and packages (TCLX)''</H2gReATerTHan -->
<!--NAVIGATE <ULgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE Book title: <IgReATerTHanSCO Visual Tcl Reference Guide</IgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE Next topic:  -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.libmgmt.htmlgReATerTHanPackage library management commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE Previous topic:  -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.helpcom.htmlgReATerTHanHelp commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/CONTENTS.htmlgReATerTHanTable of contents</AgReATerTHan -->
<!--NAVIGATE </ULgReATerTHan -->
<!--NAVIGATE <H3gReATerTHanPartial table of contents</H3gReATerTHan -->
<!--NAVIGATE <ULgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.tclx.htmlgReATerTHanChapter 2, TclX - the Extended Tcl language</AgReATerTHan -->
<!--NAVIGATE <ULgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.general.htmlgReATerTHanGeneral commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.debug.htmlgReATerTHanDebugging and development commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.system.htmlgReATerTHanUNIX system access commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.fileio.htmlgReATerTHanFile I/O commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.tcltcp.htmlgReATerTHanTCP/IP server access (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.filescan.htmlgReATerTHanFile scanning commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.math.htmlgReATerTHanMath commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.list.htmlgReATerTHanList manipulation commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.keyed.htmlgReATerTHanKeyed lists (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.string.htmlgReATerTHanString and character manipulation commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.xpg3.htmlgReATerTHanXPG/3 message catalog commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.helpcom.htmlgReATerTHanHelp commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.libraries.htmlgReATerTHanLoadable libraries and packages (TCLX)</AgReATerTHan -->
<!--NAVIGATE &lt;--------- YOU ARE HERE -->
<!--NAVIGATE <LIgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/tclx.libmgmt.htmlgReATerTHanPackage library management commands (TCLX)</AgReATerTHan -->
<!--NAVIGATE </ULgReATerTHan -->
<!--NAVIGATE </ULgReATerTHan -->
<!--NAVIGATE <BRgReATerTHan -->
<!--NAVIGATE <BRgReATerTHan -->
<!--NAVIGATE <A HREF=/cgi-bin/printchapter/VTCLRefGuide/BOOKCHAPTER-2.htmlgReATerTHan -->
<!--NAVIGATE Entire chapter assembled for printing -->
<!--NAVIGATE </AgReATerTHan -->
<!--NAVIGATE <BRgReATerTHan -->
<!--NAVIGATE <BRgReATerTHan -->
<!--NAVIGATE <A HREF=/VTCLRefGuide/COPYRIGHT.htmlgReATerTHan&#169; 1995 The Santa Cruz Operation, Inc.  All rights reserved</AgReATerTHan -->
<!--NAVIGATE <LINK HREF=/VTCLRefGuide/CONTENTS.html REL=contentsgReATerTHan -->
<!--NAVIGATE <LINK HREF=/VTCLRefGuide/tclx.libmgmt.html REL=nextgReATerTHan -->
<!--NAVIGATE <LINK HREF=/VTCLRefGuide/tclx.helpcom.html REL=previousgReATerTHan -->
<!--NAVIGATE  -->

